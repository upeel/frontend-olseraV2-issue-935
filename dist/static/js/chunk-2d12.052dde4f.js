(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d12"],{BL2h:function(t,e,a){"use strict";a.r(e);var n=a("KSP5"),s=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=s.a},KSP5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("xCek"),s=function(t){return t&&t.__esModule?t:{default:t}}(a("vDqi"));e.default={name:"PosShiftTime",data:function(){return{loading:!0,data:{},showTable:!1,deleteDialog:!1,deleteData:{},params:{total:null,currentPage:1,sort_column:"id",sort_type:"desc",per_page:5,page:1,store:null,search_column:null,search_text:""}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getData()}},methods:{getData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,s.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"shifttime/"),params:this.params,headers:e}).then(function(e){t.data=e.data.data,t.params.total=e.data.meta.total,t.loading=!1,t.showTable=!0}).catch(function(){t.data=[],t.params.total=0,t.showTable=!1,t.loading=!1})},changeSortTable:function(t){"ascending"===t.order&&(t.order="asc"),"descending"===t.order&&(t.order="desc"),console.log(t),this.params.sort_type=t.order,this.params.sort_column=t.prop,this.getData()},changePageTable:function(t){this.params.per_page=t,this.getData()},changeCurrentPage:function(t){this.params.currentPage=t,this.params.page=t,this.getData()},showDeleteDialog:function(t){this.deleteData=t,this.deleteDialog=!0},cancelDeleteDialog:function(){this.deleteData={},this.deleteDialog=!1},deleteHandle:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token},a=this.deleteData.id;(0,s.default)({method:"DELETE",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"shifttime/delete/"+a),headers:e}).then(function(e){t.result=e.data,200===e.data.status&&(t.responseDelete=e.data.data,t.$message({message:"Success",type:"success"})),t.loading=!1,t.deleteDialog=!1,t.getData()}).catch(function(e){t.$message({message:"Error",type:"error"}),t.loading=!1,t.deleteDialog=!1,console.log(e)})}},mounted:function(){this.getData()}}},gTU5:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return s});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{md:18}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[a("h4",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(t.lang.shift_timing))]),t._v(" "),a("div",[a("router-link",{attrs:{to:{path:"/pos-settings/shifttime/create"}}},[a("button-action-authenticated",{attrs:{permission:["settings/shifttime","store"],type:"success",icon:"el-icon-plus"}},[t._v("\n                "+t._s(t.lang.add)+"\n              ")])],1)],1)]),t._v(" "),a("div",{staticClass:"card-body"},[t.showTable?a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.data,stripe:""},on:{"sort-change":t.changeSortTable}},[a("el-table-column",{attrs:{label:t.lang.name+" "+t.lang.shift,sortable:"",prop:"name","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.name?a("div",[a("p",[t._v(t._s(e.row.name))])]):a("div",[a("p",[t._v("-")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.start,sortable:"",prop:"start_time","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.start_time?a("div",[a("p",[t._v(t._s(e.row.start_time))])]):a("div",[a("p",[t._v("-")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.end,sortable:"",prop:"end_time","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.end_time?a("div",[a("p",[t._v(t._s(e.row.end_time))])]):a("div",[a("p",[t._v("-")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$lang[t.langId].action,"min-width":"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("button-action-authenticated",{attrs:{permission:["settings/shifttime","destroy"],icon:"el-icon-delete"},on:{click:function(a){return t.showDeleteDialog(e.row)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"block text-center"},[a("el-pagination",{attrs:{"current-page":t.params.currentPage,"page-size":t.params.per_page,layout:"prev, pager, next, jumper",total:t.params.total},on:{"size-change":t.changePageTable,"current-change":t.changeCurrentPage,"update:currentPage":function(e){return t.$set(t.params,"currentPage",e)},"update:current-page":function(e){return t.$set(t.params,"currentPage",e)}}})],1)],1):a("div",{staticClass:"no-product"},[a("p",[t._v(t._s(t.$lang[t.langId].no_data))]),t._v(" "),a("img",{attrs:{src:"/static/img/no-data.svg",alt:"No Data Picture"}})])])])],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.deleteDialog,width:"50%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.deleteDialog=e}}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("svg-icon",{staticStyle:{stroke:"#F44336"},attrs:{"icon-class":"alert-triangle"}}),t._v("\n        "+t._s(t.lang.notif_warn)+"\n      ")],1),t._v(" "),a("div",{staticClass:"text-center"},[a("p",[t._v(t._s(t.$lang[t.langId].are_you_want_remove)+"\n          "),a("span",{staticStyle:{"font-weight":"bold"}},[t._v('"'+t._s(t.deleteData.name)+'"')])]),t._v(" "),a("p",{staticStyle:{color:"#AFB0AF"}},[t._v(t._s(t.$lang[t.langId].info_delete_item))])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancelDeleteDialog}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.deleteHandle}},[t._v(t._s(t.$lang[t.langId].delete))])],1)])],1)},s=[]},uSwX:function(t,e,a){"use strict";a.r(e);var n=a("gTU5"),s=a("BL2h");for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);var r=a("KHd+"),i=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);i.options.__file="Index.vue",e.default=i.exports}}]);