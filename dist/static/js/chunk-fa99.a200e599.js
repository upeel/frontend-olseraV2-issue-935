(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fa99"],{"6qnk":function(e,t,a){"use strict";a.r(t);var i=a("frSs"),n=a("Oo3r");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="devices.vue",t.default=r.exports},DChC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s(a("QbLZ")),n=s(a("Ljqw"));function s(e){return e&&e.__esModule?e:{default:e}}var o={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var e=this.$store.getters.selectedStore;return{role_id:e.role_id,role_name:e.role_name,is_pos_only:e.is_pos_only,is_mobile:e.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var e=this.$store.getters.token;return this.$store.getters.webviewMode&&(e=this.$store.getters.webviewToken),{Authorization:"Bearer "+e.access_token}},baseURL:function(){return n.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var e=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],t=[];return this.$store.getters.stores.map(function(a){t.includes(a.store_id)||a.is_store_active&&(e.push((0,i.default)({},a)),t.push(a.store_id))}),e},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};t.default=o},GVWh:function(e){e.exports=JSON.parse('[{"id":1,"photo":"http://dummyimage.com/203x100.png/ff4444/ffffff","name":"Brittney Scullion","department":"Health"},{"id":2,"photo":"http://dummyimage.com/174x100.png/dddddd/000000","name":"Eugine Bartolomeazzi","department":"Books"},{"id":3,"photo":"http://dummyimage.com/166x100.png/cc0000/ffffff","name":"Adolpho Rassell","department":"Baby"},{"id":4,"photo":"http://dummyimage.com/124x100.png/ff4444/ffffff","name":"Evan McCathy","department":"Toys"},{"id":5,"photo":"http://dummyimage.com/216x100.png/ff4444/ffffff","name":"Matteo Freyn","department":"Books"},{"id":6,"photo":"http://dummyimage.com/188x100.png/cc0000/ffffff","name":"Waring Marnes","department":"Automotive"},{"id":7,"photo":"http://dummyimage.com/163x100.png/dddddd/000000","name":"Shannen Dinis","department":"Music"},{"id":8,"photo":"http://dummyimage.com/215x100.png/cc0000/ffffff","name":"Haley Hansana","department":"Toys"},{"id":9,"photo":"http://dummyimage.com/120x100.png/cc0000/ffffff","name":"Tybalt Beek","department":"Outdoors"},{"id":10,"photo":"http://dummyimage.com/110x100.png/5fa2dd/ffffff","name":"Elladine Broddle","department":"Electronics"}]')},LreO:function(e,t,a){"use strict";a.r(t);var i=a("c71B"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);t.default=n.a},NMGU:function(e,t,a){"use strict";a.r(t);var i=a("PGcw"),n=a("LreO");for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="offscreenAdvanceShift.vue",t.default=r.exports},Oo3r:function(e,t,a){"use strict";a.r(t);var i=a("xAed"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);t.default=n.a},PGcw:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-zoom-in-center"}},[e.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header color-white--bg",staticStyle:{"z-index":"10"}},[e._v("\n        Shift\n        "),a("close-esc",{attrs:{hideEsc:!0},on:{close:function(t){return e.$emit("cancel")}}})],1),e._v(" "),e.dataShift.length?a("div",{staticClass:"p-24 text-left"},[a("div",[a("span",[e._v("Pilih shift berlaku untuk hari "),a("span",{staticClass:"font-bold"},[e._v(e._s(e.dayData.day_name))])]),e._v(" "),a("div",{staticClass:"like-table-wrapper mt-16 text-left"},e._l(e.dataAdvanceShift,function(t){return a("div",{key:t.id,staticClass:"like-table-wrapper--item"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"full-width"},[e._v(e._s(t.name))]),e._v(" "),a("div",{staticStyle:{width:"35%"}},[e._v("\n                  "+e._s(t.start_time)+" - "+e._s(t.end_time)+"\n                ")]),e._v(" "),a("div",{staticClass:"pointer ml-4 "},[a("el-checkbox",{on:{change:function(a){return e.handleCheck(t)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}})],1)])])}),0)]),e._v(" "),a("div",{staticClass:"color-info--bg radius-10 p-8 mt-16 flex-container justify-center"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-info",attrs:{"icon-class":"information-circle"}})],1),e._v(" "),a("div",{staticClass:"word-break ml-4"},[e._v("\n            Jika jam absen pegawai berada di luar spesifik shift yang ditentukan, sistem akan otomatis menggunakan shift lain yang sesuai dengan jam absen\n          ")])])]):a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingAddon,expression:"loadingAddon"}],staticClass:"no-data-wrapper p-32 align-center",staticStyle:{display:"flex","flex-direction":"column"}},[a("img",{staticClass:"no-data-image",attrs:{src:"/static/img/no_data_addon_product.svg"}}),e._v(" "),a("div",{staticClass:"text-center word-break",staticStyle:{width:"360px"}},[e._v("Duh, Shift belum tersedia, silahkan buat shift terlebih dahulu")])]),e._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer"},[a("el-button",{staticClass:"btn-block mt-24",attrs:{type:"success"},on:{click:e.saveShift}},[e._v("\n          "+e._s(e.rootLang.save)+"\n        ")])],1)])]):e._e()])},n=[]},c71B:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(a("QbLZ")),n=o(a("DChC")),s=o(a("XFEm"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={components:{CloseEsc:s.default},mixins:[n.default],props:{show:{type:Boolean,default:!1},dataShift:{type:Array,default:[]},dayData:{type:Object,default:null},dataChecked:{type:Array,default:[]}},data:function(){return{loadingAddon:!1}},watch:{},computed:{dataAdvanceShift:function(){var e=this;return this.dataShift.map(function(t){return t.checked=!1,e.dataChecked.length>0&&e.dataChecked.map(function(e){t.id===e.shift_id&&(t.checked=!0)}),t})}},mounted:function(){},methods:{handleCheck:function(e){var t=this,a=this.dataChecked.some(function(t){return t.shift_id===e.id});console.log("aaa",a),a?this.dataChecked.map(function(a,i){a.shift_id===e.id&&t.dataChecked.splice(i,1)}):this.dataChecked.push({shift_id:e.id,name:e.name,end_time:e.end_time,start_time:e.start_time})},saveShift:function(){var e=(0,i.default)({},this.dayData);this.dataChecked.length?e.shift=this.dataChecked:e.shift=[],this.$emit("save",e)}}}},frSs:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return n});var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"shippings"},[a("div",{staticClass:"flex-container p-8"},[a("div",{staticClass:"font-20 font-bold mb-24 full-width"},[e._v("\n      "+e._s(e.rootLang.attendance_devices)+" ["+e._s(e.dataDevices.length)+"]\n    ")]),e._v(" "),a("el-button",{staticClass:"mb-4",attrs:{type:"success"},on:{click:e.handleAdd}},[a("i",{staticClass:"el-icon-plus"}),e._v(" Tambah\n    ")])],1),e._v(" "),0!==e.dataDevices.length||e.loading?e._e():a("el-card",{staticClass:"card_close_date box-card"},[a("div",{staticClass:"no-data-wrapper"},[a("img",{staticClass:"no-data-image",attrs:{src:"/static/img/attendance/no-data-devices.png"}}),e._v(" "),a("div",{staticClass:"no_close flex-container full-width justify-center"},[a("div",{staticStyle:{width:"312px"}},[e._v("Saat ini semua perangkat dapat mengakses Absensi. Tambah perangkat di sini untuk membatasi akses Absensi ke perangkat terdaftar")])])])]),e._v(" "),e._m(0),e._v(" "),e.dataDevices.length||e.loading?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"like-table-wrapper"},e._l(e.dataDevices,function(t,i){return a("div",{key:i,staticClass:"like-table-wrapper--item"},[a("div",{staticStyle:{width:"80%"}},[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8 lh-1"},[a("svg-icon",{staticClass:"font-20",attrs:{"icon-class":"icon-device-attendance"}})],1),e._v(" "),a("div",{staticClass:"lh-1"},[a("div",{staticClass:"font-bold font-14"},[e._v(e._s(t.name))])])])]),e._v(" "),a("div",{staticClass:"full-width",staticStyle:{"margin-left":"24px"}},[e._v("\n        "+e._s(t.serial)+"\n      ")]),e._v(" "),a("el-button",{attrs:{type:"text",icon:"el-icon-edit",circle:""},on:{click:function(a){return e.editDevices(t)}}})],1)}),0):e._e(),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogEdit,"show-close":!1,"custom-class":"dialog-card",width:"536px"},on:{"update:visible":function(t){e.dialogEdit=t}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[e._v("\n        "+e._s(e.computedDialogTitle)+"\n      ")]),e._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:e.handleCancelAdd}},[e._v(e._s(e.lang.cancel))]),e._v(" "),a("el-button",{attrs:{loading:e.loadingSave,type:"success"},on:{click:e.handleSave}},[e._v(e._s(e.lang.save))])],1)]),e._v(" "),a("div",{staticClass:"text-center"},[a("div",{staticClass:"flex-container flex-container--center"},[a("img",{staticStyle:{width:"132px",height:"132px"},attrs:{src:"/static/img/attendance/image-serial-device.png"}}),e._v(" "),a("div",{staticClass:"full-width px-16"},[a("div",{staticClass:"font-12 text-left"},[e._v(e._s(e.rootLang.device_name))]),e._v(" "),a("el-input",{model:{value:e.tempDevice.name,callback:function(t){e.$set(e.tempDevice,"name",t)},expression:"tempDevice.name"}}),e._v(" "),a("div",{staticClass:"font-12 text-left mt-32"},[e._v("No. Seri")]),e._v(" "),a("el-input",{model:{value:e.tempDevice.serial,callback:function(t){e.$set(e.tempDevice,"serial",t)},expression:"tempDevice.serial"}})],1)]),e._v(" "),a("div",{staticClass:"color-info--bg color-info p-16 flex-container mt-24"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{attrs:{"icon-class":"information-circle"}})],1),e._v(" "),a("div",[e._v("\n            Nomor seri perangkat berada di bawah layar masuk aplikasi Absensi Olsera\n        ")])])]),e._v(" "),e.tempDevice.id?a("el-button",{staticClass:"mt-24 full-width",staticStyle:{color:"#F44336"},on:{click:function(t){e.dialogDelete=!0}}},[a("svg-icon",{attrs:{"icon-class":"trash"}}),e._v("\n      "+e._s(e.$lang[e.langId].delete)+"\n    ")],1):e._e()],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogDelete,"show-close":!1,"custom-class":"dialog-card",width:"536px"},on:{"update:visible":function(t){e.dialogDelete=t}}},[a("div",{staticClass:"text-center"},[a("span",[e._v(e._s(e.$lang[e.langId].are_you_sure))]),e._v(" "),a("el-button",{staticClass:"full-width btn-danger mt-24",on:{click:e.deleteRow}},[e._v(e._s(e.$lang[e.langId].delete))]),e._v(" "),a("el-button",{staticClass:"full-width btn-info mt-8",on:{click:function(t){e.dialogDelete=!1}}},[e._v(e._s(e.lang.cancel))])],1)])],1)},n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex-container border border--grey p-16"},[t("div",{staticClass:"font-bold",staticStyle:{width:"80%"}},[this._v("Nama")]),this._v(" "),t("div",{staticClass:"font-bold full-width"},[this._v("No. Seri")])])}]},xAed:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=l(a("m1cH")),n=a("xCek"),s=l(a("vDqi")),o=a("0dap"),r=a("L9QE"),d=l(a("DChC")),c=l(a("NMGU"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{offscreenAdvanceShift:c.default},name:"AttendanceDevices",mixins:[d.default],data:function(){return{dialogEdit:!1,loading:!1,dataDevices:[],tempDevice:{name:"",department:"",pin:this.randomString(6),file_name:"",use_advance_shift:0},params:{search_column:"name",search_text:"",page:1,per_page:15},dialogDelete:!1,uploading:!1,loadingSave:!1,pagination:{},showSelectShift:!1,dataShift:[],dayData:{},dataChecked:[]}},computed:{lang:function(){return this.$store.state.userStores.lang},token:function(){return this.$store.state.user.token},selectedStore:function(){return this.$store.getters.selectedStore},langId:function(){return this.$store.state.userStores.langId},uploadUrl:function(){return(0,n.baseApi)(this.selectedStore.url_id,this.langId,"attendance/employee/uploadonly")},computedDialogTitle:function(){return this.tempDevice.id?this.lang.edit+" "+this.$lang[this.langId].employee:this.lang.add+" "+this.$lang[this.langId].employee},computedShiftNull:function(){var e=[];return this.tempDevice&&this.tempDevice.advance_shift.map(function(t){t.shift.length||e.push(t)}),7===e.length}},watch:{"$store.getters.selectedStore":function(){1===this.$store.getters.selectedStore.pos_freemium?this.$router.push("/online-order/delivery"):this.getEmployee()}},mounted:function(){this.getListDevices()},methods:{getListDevices:function(e){var t=this;this.loading=!0;(0,r.getAttendanceDevices)({per_page:20,show_logs:1}).then(function(e){t.dataDevices=e.data.data,t.pagination=e.data.meta,t.loading=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.dataDevices=[],t.loading=!1})},getMockupData:function(){this.dataDevices=a("GVWh")},refreshCode:function(){this.tempDevice.pin=this.randomString(6)},randomString:function(e,t){t=t||"0123456789";for(var a="",i=0;i<e;i++){var n=Math.floor(Math.random()*t.length);a+=t.substring(n,n+1)}return a},addNewDevice:function(){var e=this;this.loadingSave=!0,this.tempDevice.device_status=1,(0,r.addDevice)(this.tempDevice).then(function(t){e.dialogEdit=!1,e.getListDevices(),e.tempDevice={name:"",serial:""},e.loadingSave=!1}).catch(function(t){404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.tempDevice={name:"",serial:""},e.dialogEdit=!1,e.loadingSave=!1})},updateDevice:function(){var e=this;this.loadingSave=!0,(0,r.updateDevice)(this.tempDevice).then(function(t){e.dialogEdit=!1,e.getListDevices(),e.tempDevice={name:"",serial:""},e.loadingSave=!1}).catch(function(t){404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.tempDevice={name:"",serial:""},e.dialogEdit=!1,e.loadingSave=!1})},handleCancelAdd:function(){this.dialogEdit=!1,this.tempDevice={}},handleSearch:function(e){var t=this;e?(0,o.debounce)(function(e){return t.getEmployee(!0)},"400ms")(e):this.getEmployee()},handleSave:function(){this.tempDevice.id?this.updateDevice():this.addNewDevice()},handleUploadProcess:function(){this.uploading=!0},handleUploadError:function(e){this.loading=!1,this.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})},handleAvatarSuccess:function(e,t){this.tempDevice.photo=e.data[0].photo_,this.tempDevice.file_name=e.data[0].file_name,this.uploading=!1},deleteRow:function(){var e=this;this.loading=!0;var t={id:this.tempDevice.serial};(0,r.deleteDevice)(t).then(function(t){e.searchQuery="",e.getListDevices(),e.dialogDelete=!1,e.dialogEdit=!1,e.tempDevice={},e.loading=!1}).catch(function(t){404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.dialogDelete=!1,e.dialogEdit=!1,e.tempDelete={},e.loading=!1})},handleAdd:function(){this.tempDevice={name:"",serial:""},this.dialogEdit=!0},changeCurrentPage:function(e){this.params.currentPage=e,this.params.page=e,this.getEmployee()},editDevices:function(e){var t=this;this.loading=!0,(0,r.getSinggleAttendanceDevices)(e.id).then(function(e){t.tempDevice=e.data.data,t.dialogEdit=!0,t.loading=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.tempDevice=[],t.loading=!1})},handleEditAdvanceShift:function(e){this.showSelectShift=!0,this.dayData=e,this.dataChecked=[].concat((0,i.default)(e.shift))},handleCloseAdvanceShift:function(){this.showSelectShift=!1,this.dayData={}},getShift:function(){var e=this,t={Authorization:"Bearer "+this.token.access_token};(0,s.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"attendance/shift"),headers:t,params:{per_page:100}}).then(function(t){e.dataShift=t.data.data}).catch(function(t){404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.dataShift=[]})},handleSaveAdvanceShift:function(e){this.tempDevice.advance_shift.map(function(t){t.day_id===e.day_id&&(t.shift=[].concat((0,i.default)(e.shift)))}),this.showSelectShift=!1},getDays:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=this;this.loading=!0,getDays().then(function(t){var a=[].concat((0,i.default)(t.data.data));a.map(function(e){e.day_id=e.id,e.day_name=e.name,e.shift=[]}),e.tempDevice.advance_shift=a,e.loading=!1}).catch(function(t){404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.loading=!1})})}}}}]);