(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0144"],{"/Ek6":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a("QbLZ")),i=a("4rhM"),s=d(a("0x5k")),o=d(a("NalT")),r=d(a("DA24")),l=d(a("DChC"));function d(e){return e&&e.__esModule?e:{default:e}}t.default={components:{FloatingDeviceRegistered:s.default,DataEmpty:o.default,DeleteButton:r.default},mixins:[l.default],data:function(){return{loading:!0,visibleFloatingDeviceRegistered:!1,data:[],dataRegistered:[],loadingRelease:!1,params:{page:1,per_page:20,total:0}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.refreshView()}},mounted:function(){this.refreshView()},methods:{refreshView:function(){this.getDataActivated(),this.getDataRegistered()},getDataActivated:function(){var e=this;this.loading=!0,(0,i.posdevicesactive)((0,n.default)({},this.params)).then(function(t){e.data=t.data.data,e.params.total=t.data.meta.total,e.loading=!1}).catch(function(){e.loading=!1,e.data=[],e.params.total=0})},handleSizeChange:function(e){this.params.page=1,this.params.per_page=e,this.getDataActivated()},handleCurrentChange:function(e){this.params.page=e,this.getDataActivated()},getDataRegistered:function(){var e=this;this.loading=!0,(0,i.posdevices)({}).then(function(t){e.dataRegistered=t.data.data,e.loading=!1}).catch(function(t){e.loading=!1})},handleCreatedDevice:function(e){this.dataRegistered.push((0,n.default)({},e))},handleDestroyedDevice:function(e){this.dataRegistered=this.dataRegistered.filter(function(t){return t.id!==e.id})},release:function(e){var t=this;this.loadingRelease=!0,(0,i.release)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.loadingRelease=!1,t.getDataActivated()}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingRelease=!1})}}}},"0x5k":function(e,t,a){"use strict";a.r(t);var n=a("vI1i"),i=a("O5vt");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);r.options.__file="_floatingDeviceRegistered.vue",t.default=r.exports},"2nsR":function(e,t,a){"use strict";a.r(t);var n=a("d88w"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);t.default=i.a},"4rhM":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(e){return(0,n.service)({url:"/posdevices/store",method:"POST",data:e})},t.update=function(e,t){return(0,n.service)({url:"/posdevices/update/"+id,method:"PUT",data:t})},t.destroy=function(e){return(0,n.service)({url:"/posdevices/delete/"+e,method:"DELETE"})},t.posdevices=function(e){return(0,n.service)({url:"/posdevices",method:"GET",params:e})},t.posdevicesactive=function(e){return(0,n.service)({url:"/posdevicesactive",method:"GET",params:e})},t.release=function(e){return(0,n.service)({url:"/posdevicesactive/release/"+e,method:"DELETE"})};var n=a("xCek")},"7UO/":function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.show,"before-close":e.beforeClose,width:"420px","append-to-body":"","modal-append-to-body":"","custom-class":"dialog-without-header"},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"font-18 mb-8"},[e._v("\n    Apakah Anda yakin ingin mencabut akses perangkat ini?\n  ")]),e._v(" "),a("div",[e._v("\n    Perangkat yang berhasil dicabut aksesnya tidak dapat mengkases POS Anda\n  ")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.beforeClose}},[e._v("\n      "+e._s(e.lang.cancel)+"\n    ")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:e.confirm}},[e._v("\n      Ya, cabut akses\n    ")])],1)])},i=[]},BdF8:function(e,t,a){"use strict";a.r(t);var n=a("Jo7z"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);t.default=i.a},DChC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a("QbLZ")),i=s(a("Ljqw"));function s(e){return e&&e.__esModule?e:{default:e}}var o={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var e=this.$store.getters.selectedStore;return{role_id:e.role_id,role_name:e.role_name,is_pos_only:e.is_pos_only,is_mobile:e.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var e=this.$store.getters.token;return this.$store.getters.webviewMode&&(e=this.$store.getters.webviewToken),{Authorization:"Bearer "+e.access_token}},baseURL:function(){return i.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var e=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],t=[];return this.$store.getters.stores.map(function(a){t.includes(a.store_id)||a.is_store_active&&(e.push((0,n.default)({},a)),t.push(a.store_id))}),e},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};t.default=o},DyGk:function(e,t,a){"use strict";a.r(t);var n=a("7UO/"),i=a("BdF8");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);r.options.__file="_dialogConfirmDelete.vue",t.default=r.exports},Fkvh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=c(a("QbLZ")),i=a("4rhM"),s=c(a("DChC")),o=c(a("XFEm")),r=c(a("p8Z+")),l=c(a("DyGk")),d=c(a("NalT"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={props:{show:{type:Boolean,default:!1},devices:{type:Array,default:function(){return[]}}},components:{CloseEsc:o.default,DialogForm:r.default,DialogConfirmDelete:l.default,DataEmpty:d.default},mixins:[s.default],data:function(){return{visibleDialogForm:!1,loadingCreate:!1,loadingDestroy:!1,visibleDialogConfirmDelete:!1,singleDevice:{}}},methods:{add:function(){this.visibleDialogForm=!0},create:function(e){var t=this;this.loadingCreate=!0,(0,i.create)((0,n.default)({},e)).then(function(e){t.loadingCreate=!1,t.visibleDialogForm=!1,t.$emit("created",e.data.data)}).catch(function(e){t.loadingCreate=!1,t.$message({type:"error",message:e.string})})},beforeDestroy:function(e){this.visibleDialogConfirmDelete=!0,this.singleDevice=(0,n.default)({},e)},destroy:function(){var e=this;this.visibleDialogConfirmDelete=!1,this.loadingDestroy=!0,(0,i.destroy)(this.singleDevice.id).then(function(t){e.loadingDestroy=!1,e.$emit("destroyed",e.singleDevice),e.$message({type:"success",message:t.data.data.message})}).catch(function(t){e.$message({type:"error",message:t.string})})}}}},Jo7z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{show:{type:Boolean,default:!1}},computed:{langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},rootLang:function(){return this.$lang[this.langId]}},methods:{beforeClose:function(){this.$emit("close")},confirm:function(){this.$emit("confirm")}}}},LoTd:function(e,t,a){"use strict";a.r(t);var n=a("/Ek6"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);t.default=i.a},O5vt:function(e,t,a){"use strict";a.r(t);var n=a("Fkvh"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);t.default=i.a},SZhp:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[a("div",{staticClass:"flex-container font-bold mb-16"},[a("div",{staticClass:"flex-grow-1"},[e._v("\n      "+e._s(e.rootLang.active_pos_devices)+"\n    ")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:function(t){e.visibleFloatingDeviceRegistered=!e.visibleFloatingDeviceRegistered}}},[e._v("\n      "+e._s(e.rootLang.registered_device)+" ("+e._s(e.dataRegistered.length)+")\n    ")])],1),e._v(" "),e.data.length||e.loading?[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data,stripe:"",border:""}},[a("el-table-column",{attrs:{label:e.lang.name,prop:"remark"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.remark)+"\n        ")]}}],null,!1,3601625951)}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.serial,prop:"serial"}}),e._v(" "),e.checkCustomPermission("settings/posdevices","destroy")?a("el-table-column",{scopedSlots:e._u([{key:"default",fn:function(t){return[a("delete-button",{attrs:{loading:e.loadingRelease,text:e.rootLang.release_pos_device,block:!0,"custom-permission":"settings/posdevices"},on:{confirm:function(a){return e.release(t.row.id)}}})]}}],null,!1,2634983972)}):e._e()],1)]:e._e(),e._v(" "),e.data.length||e.loading?a("div",{staticClass:"block mt-12"},[a("el-pagination",{attrs:{"current-page":e.params.page,"page-size":e.params.per_page,total:e.params.total,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(t){return e.$set(e.params,"page",t)},"update:current-page":function(t){return e.$set(e.params,"page",t)},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e(),e._v(" "),e.data.length||e.loading?e._e():a("data-empty",{attrs:{desc:"Perangkat POS yang sedang digunakan akan otomatis terdaftar di sini"}}),e._v(" "),a("floating-device-registered",{attrs:{show:e.visibleFloatingDeviceRegistered,devices:e.dataRegistered},on:{close:function(t){e.visibleFloatingDeviceRegistered=!1},created:e.handleCreatedDevice,destroyed:e.handleDestroyedDevice}})],2)},i=[]},d88w:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a("P2sY"));t.default={props:["saved","loading","formData","show"],data:function(){return{data:{},dialogVisible:!1}},computed:{langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},rootLang:function(){return this.$lang[this.langId]}},watch:{},methods:{beforeClose:function(){this.$emit("close")},save:function(){var e=(0,n.default)({},this.data);this.$emit("save",e)},remove:function(){this.$emit("remove",{id:this.data.id})}}}},fBTc:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.show,"before-close":e.beforeClose,"show-close":!1,"append-to-body":""},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticStyle:{"flex-grow":"1"}},[e._v(e._s(e.lang.add)+" "+e._s(e.lang.pos_device))]),e._v(" "),a("div",[a("el-button",{attrs:{type:"info"},on:{click:e.beforeClose}},[e._v("\n        "+e._s(e.lang.cancel)+"\n      ")]),e._v(" "),a("el-button",{attrs:{loading:e.loading,type:"success",icon:"el-icon-check"},on:{click:e.save}},[e._v("\n        "+e._s(e.lang.save)+"\n      ")])],1)]),e._v(" "),a("el-form",{attrs:{"label-width":"120px"},model:{value:e.data,callback:function(t){e.data=t},expression:"data"}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("el-alert",{attrs:{title:e.lang.info_pos_device_registration,type:"info","show-icon":""}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.lang.serial_no,required:!0}},[a("el-input",{attrs:{type:"text"},model:{value:e.data.serial,callback:function(t){e.$set(e.data,"serial",t)},expression:"data.serial"}}),e._v(" "),a("p",{staticClass:"size-12 input-desc oldgrey cursor-pointer clickable",on:{click:function(t){e.dialogVisible=!0}}},[e._v("\n        "+e._s(e.rootLang.how_to_get_serial)+"\n      ")])],1),e._v(" "),a("el-form-item",{attrs:{label:e.lang.name}},[a("el-input",{attrs:{type:"text"},model:{value:e.data.remark,callback:function(t){e.$set(e.data,"remark",t)},expression:"data.remark"}}),e._v(" "),a("p",{staticClass:"size-12 input-desc oldgrey"},[e._v("\n        "+e._s(e.lang.info_pos_remark)+"\n      ")])],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible,title:"Tips",width:"420px","append-to-body":"","modal-append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"dialog-body"},[a("p",[e._v(e._s(e.lang.info_find_pos_device_serial))]),e._v(" "),a("img",{attrs:{src:"https://d2cp4rzo38etyi.cloudfront.net/admin/img/admin/help_device_serial.png"}})])])],1)},i=[]},nLzo:function(e,t,a){"use strict";a.r(t);var n=a("SZhp"),i=a("LoTd");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);r.options.__file="Index.vue",t.default=r.exports},"p8Z+":function(e,t,a){"use strict";a.r(t);var n=a("fBTc"),i=a("2nsR");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);var o=a("KHd+"),r=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);r.options.__file="_dialogForm.vue",t.default=r.exports},vI1i:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{name:"el-zoom-in-center"}},[e.show?a("div",{staticClass:"offscreen-right-sidebar"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[e._v("\n          "+e._s(e.rootLang.registered_device)+"\n          "),a("close-esc",{attrs:{"hide-esc":""},on:{close:function(t){return e.$emit("close")}}})],1),e._v(" "),a("div",{staticClass:"flex-container"},[a("div",{staticClass:"font-bold flex-grow-1"},[e._v(e._s(e.rootLang.pos_devices)+" ("+e._s(e.devices.length)+")")]),e._v(" "),a("button-action-authenticated",{attrs:{permission:["settings/posdevices","store"],type:"success",icon:"el-icon-plus"},on:{click:e.add}},[e._v("\n            "+e._s(e.rootLang.add)+"\n          ")])],1)]),e._v(" "),a("div",{staticClass:"mt-16"},[e.devices&&e.devices.length?a("el-card",{staticClass:"box-card",attrs:{"body-style":{padding:"0px"}}},e._l(e.devices,function(t){return a("div",{key:t.id,staticClass:"like-table-wrapper--item"},[a("div",{staticClass:"flex-grow-1"},[a("div",{staticClass:"font-bold"},[e._v(e._s(t.remark))]),e._v(" "),a("div",{staticClass:"color-old-grey font-12"},[e._v(e._s(t.serial))])]),e._v(" "),a("button-action-authenticated",{staticClass:"color-danger",attrs:{permission:["settings/posdevices","destroy"],loading:e.loadingDestroy,type:"text"},on:{click:function(a){return e.beforeDestroy(t)}}},[a("i",{staticClass:"el-icon-delete"})])],1)}),0):e._e(),e._v(" "),e.devices.length?e._e():a("data-empty",{attrs:{image:"/static/img/data-empty/device-registered.svg",desc:"Saat ini semua perangkat dapat mengakses POS. Tambah perangkat di sini untuk membatasi akses POS ke perangkat terdaftar"}})],1)]):e._e()]),e._v(" "),a("dialog-form",{attrs:{show:e.visibleDialogForm,loading:e.loadingCreate},on:{close:function(t){e.visibleDialogForm=!1},save:e.create}}),e._v(" "),a("dialog-confirm-delete",{attrs:{show:e.visibleDialogConfirmDelete},on:{close:function(t){e.visibleDialogConfirmDelete=!1},confirm:e.destroy}})],1)},i=[]}}]);