(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-b7b9"],{IaEz:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shippings"},[a("div",{staticClass:"flex-container mb-16"},[a("div",{staticStyle:{"flex-grow":"1"}}),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.handleAdd}},[t._v("Tambah")])],1),t._v(" "),0!==t.dataShift.length||t.loading?t._e():a("el-card",{staticClass:"card_close_date box-card"},[a("div",{staticClass:"no-data-wrapper"},[a("img",{staticClass:"no-data-image",attrs:{src:"/static/img/no-shift.png"}}),t._v(" "),a("div",{staticClass:"no_close"},[t._v("Belum ada Shift Kerja")]),t._v(" "),a("span",[t._v("Tambah pergantian jam kerja untuk absensi pegawai")])])]),t._v(" "),t.dataShift.length||t.loading?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"like-table-wrapper"},t._l(t.dataShift,function(e,i){return a("div",{key:i,staticClass:"like-table-wrapper--item"},[a("div",{staticClass:"font-bold font-14",staticStyle:{"flex-grow":"1"}},[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),a("div",{staticClass:"mr-8"},[a("el-tag",{staticStyle:{color:"#000000"},attrs:{color:"#E4F8FF"}},[t._v("\n          "+t._s(e.start_time)+" - "+t._s(e.end_time)+"\n        ")])],1),t._v(" "),a("div",[a("el-button",{attrs:{type:"text",icon:"el-icon-edit",circle:""},on:{click:function(a){return t.editShift(e)}}})],1)])}),0):t._e(),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogEdit,"show-close":!1,"custom-class":"dialog-card"},on:{"update:visible":function(e){t.dialogEdit=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[t._v("\n        "+t._s(t.computedDialogTitle)+"\n      ")]),t._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:t.handleCancelAdd}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{loading:t.loadingSave,type:"success"},on:{click:t.handleSave}},[t._v(t._s(t.lang.save))])],1)]),t._v(" "),a("div",{staticClass:"font-12 text-left mt-32"},[t._v(t._s(t.lang.name)+" "+t._s(t.$lang[t.langId].shift))]),t._v(" "),a("el-input",{model:{value:t.tempShift.name,callback:function(e){t.$set(t.tempShift,"name",e)},expression:"tempShift.name"}}),t._v(" "),a("div",{staticClass:"working_hours_input"},[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"full-width pr-5"},[a("div",{staticClass:"font-12 text-left"},[t._v(t._s(t.lang.start))]),t._v(" "),a("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.lang.start_time,"picker-options":{start:"00:00",step:"00:15",end:"23:45"}},model:{value:t.tempShift.start_time,callback:function(e){t.$set(t.tempShift,"start_time",e)},expression:"tempShift.start_time"}})],1),t._v(" "),a("div",{staticClass:"full-width pl-5"},[a("div",[t._v(t._s(t.lang.end))]),t._v(" "),a("el-time-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.lang.end_time,"picker-options":{start:"00:00",step:"00:15",end:"23:45"}},model:{value:t.tempShift.end_time,callback:function(e){t.$set(t.tempShift,"end_time",e)},expression:"tempShift.end_time"}})],1)])]),t._v(" "),t.tempShift.id?a("el-button",{staticClass:"mt-24 btn-block",staticStyle:{color:"#F44336"},on:{click:function(e){t.dialogDelete=!0}}},[a("svg-icon",{attrs:{"icon-class":"trash"}}),t._v("\n      "+t._s(t.$lang[t.langId].delete)+"\n    ")],1):t._e()],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogDelete,"show-close":!1,"custom-class":"dialog-card",width:"536px"},on:{"update:visible":function(e){t.dialogDelete=e}}},[a("div",{staticClass:"text-center"},[a("span",[t._v(t._s(t.$lang[t.langId].are_you_sure))]),t._v(" "),a("el-button",{staticClass:"full-width btn-danger mt-24",on:{click:t.deleteRow}},[t._v(t._s(t.$lang[t.langId].delete))]),t._v(" "),a("el-button",{staticClass:"full-width btn-info mt-8",on:{click:function(e){t.dialogDelete=!1}}},[t._v(t._s(t.lang.cancel))])],1)])],1)},n=[]},"Y/BU":function(t){t.exports=JSON.parse('[{"id":1,"name":"Pagi","start_time":"7/28/2021","end_time":"2/16/2021"},{"id":2,"name":"Siang","start_time":"4/18/2021","end_time":"12/8/2020"},{"id":3,"name":"Malam","start_time":"10/3/2021","end_time":"11/27/2021"},{"id":4,"name":"Pagi","start_time":"4/9/2021","end_time":"1/30/2021"},{"id":5,"name":"Siang","start_time":"7/4/2021","end_time":"6/18/2021"},{"id":6,"name":"Malam","start_time":"4/11/2021","end_time":"1/27/2021"},{"id":7,"name":"Pagi","start_time":"10/23/2021","end_time":"8/25/2021"},{"id":8,"name":"Pagi","start_time":"10/28/2021","end_time":"12/6/2020"},{"id":9,"name":"Pagi","start_time":"3/17/2021","end_time":"2/19/2021"},{"id":10,"name":"Pagi","start_time":"9/6/2021","end_time":"7/8/2021"}]')},duja:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a("m1cH")),n=a("xCek"),s=l(a("vDqi"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Shift",data:function(){return{dialogEdit:!1,loading:!1,dataShift:[],tempShift:{name:"",start_time:"",end_time:""},params:{search_column:"name",search_text:""},dialogDelete:!1,loadingSave:!1}},computed:{lang:function(){return this.$store.state.userStores.lang},token:function(){return this.$store.state.user.token},selectedStore:function(){return this.$store.getters.selectedStore},langId:function(){return this.$store.state.userStores.langId},computedDialogTitle:function(){return this.tempShift.id?"Edit Shift":"Add Shift"}},watch:{"$store.getters.selectedStore":function(){this.getShift()}},mounted:function(){this.getShift()},methods:{getShift:function(t){var e=this;if([].concat((0,i.default)(document.getElementById("app").classList)).includes("dummy-page"))this.getMockupData();else{this.loading=!0;var a={};t&&(a=this.params);var l={Authorization:"Bearer "+this.token.access_token};(0,s.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"attendance/shift"),headers:l,params:a}).then(function(t){e.dataShift=t.data.data,e.loading=!1}).catch(function(t){404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.dataEmployee=[],e.loading=!1})}},getMockupData:function(){this.dataShift=a("Y/BU")},addShift:function(t){var e=this;this.loadingSave=!0;var a={Authorization:"Bearer "+this.token.access_token},i=t?"PUT":"POST";(0,s.default)({method:i,url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,t?"attendance/shift/"+this.tempShift.id:"attendance/shift"),headers:a,data:this.tempShift}).then(function(t){e.dialogEdit=!1,e.tempShift={name:"",start_time:"",end_time:""},e.getShift(),e.loadingSave=!1}).catch(function(t){404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.dialogEdit=!1,e.loadingSave=!1})},handleCancelAdd:function(){this.dialogEdit=!1},editShift:function(t){this.tempShift=t,this.dialogEdit=!0},handleSearch:function(t){t?this.getEmployee(!0):this.getEmployee()},handleSave:function(){this.tempShift.id?this.addShift(!0):this.addShift(!1)},deleteRow:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,s.default)({method:"delete",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"attendance/shift/"+this.tempShift.id),headers:e}).then(function(e){t.searchQuery="",t.getShift(),t.dialogDelete=!1,t.dialogEdit=!1,t.tempShift={},t.loading=!1,t.$notify({type:"warning",title:"Success",message:e.data.data.message})}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.dialogDelete=!1,t.dialogEdit=!1,t.tempShift={},t.loading=!1})},handleAdd:function(){this.tempShift={name:"",start_time:"",end_time:""},this.dialogEdit=!0}}}},lGlG:function(t,e,a){"use strict";a.r(e);var i=a("IaEz"),n=a("oAfM");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var l=a("KHd+"),d=Object(l.a)(n.default,i.a,i.b,!1,null,null,null);d.options.__file="shift.vue",e.default=d.exports},oAfM:function(t,e,a){"use strict";a.r(e);var i=a("duja"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a}}]);