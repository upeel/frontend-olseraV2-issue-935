(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-09b5"],{"0GjJ":function(t,e,a){"use strict";a.r(e);var i=a("sE6r"),r=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=r.a},"1BPP":function(t,e,a){"use strict";
/**
 * Vue Currency Input 1.20.3
 * (c) 2018-2020 Matthias Stiller
 * @license MIT
 */
function i(t,e,a){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!0,a),t.dispatchEvent(i)}a.r(e),a.d(e,"CurrencyDirective",function(){return C}),a.d(e,"CurrencyInput",function(){return E}),a.d(e,"parseCurrency",function(){return m}),a.d(e,"setValue",function(){return f});var r=function(t,e,a){return e&&null!=t?Number(t.toFixed(a).split(".").join("")):t},s=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},n=function(t){return t.replace(/^0+(0$|[^0])/,"$1")},o=function(t,e){return(t.match(new RegExp(s(e),"g"))||[]).length},l=function(t,e){return t.substring(0,e.length)===e},c=function(t,e){return t.substring(0,t.indexOf(e))},d=[",",".","Ù«"],u=function(t){var e=t.currency,a=t.locale,i=t.precision,r=t.autoDecimalMode,s=t.valueAsInteger,n=new Intl.NumberFormat(a,"string"==typeof e?{currency:e,style:"currency"}:{minimumFractionDigits:1}),l=n.format(123456);this.locale=a,this.currency=e,this.digits=[0,1,2,3,4,5,6,7,8,9].map(function(t){return t.toLocaleString(a)}),this.decimalSymbol=o(l,this.digits[0])?l.substr(l.indexOf(this.digits[6])+1,1):void 0,this.groupingSymbol=l.substr(l.indexOf(this.digits[3])+1,1),this.minusSymbol=c(Number(-1).toLocaleString(a),this.digits[1]),void 0===this.decimalSymbol?this.minimumFractionDigits=this.maximumFractionDigits=0:"number"==typeof i?this.minimumFractionDigits=this.maximumFractionDigits=i:"object"!=typeof i||r||s?"string"==typeof e?(this.minimumFractionDigits=n.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=n.resolvedOptions().maximumFractionDigits):this.minimumFractionDigits=this.maximumFractionDigits=2:(this.minimumFractionDigits=i.min||0,this.maximumFractionDigits=void 0!==i.max?i.max:20),"string"==typeof e?(this.prefix=c(l,this.digits[1]),this.negativePrefix=c(n.format(-1),this.digits[1]),this.suffix=l.substring(l.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[6])+1)):(this.prefix=(e||{}).prefix||"",this.negativePrefix=""+this.minusSymbol+this.prefix,this.suffix=(e||{}).suffix||"")};u.prototype.parse=function(t){var e=this.isNegative(t);t=this.normalizeDigits(t),t=this.stripCurrencySymbol(t),t=this.stripMinusSymbol(t);var a=this.decimalSymbol?"("+s(this.decimalSymbol)+"\\d*)?":"",i=t.match(new RegExp("^"+this.integerPattern()+a+"$"));return i?Number((e?"-":"")+this.onlyDigits(i[1])+"."+this.onlyDigits(i[3]||"")):null},u.prototype.format=function(t,e){return void 0===e&&(e={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}),"string"==typeof this.currency?t.toLocaleString(this.locale,Object.assign({},{style:"currency",currency:this.currency},e)):this.insertCurrencySymbol(Math.abs(t).toLocaleString(this.locale,e),t<0||0===t&&1/t<0)},u.prototype.integerPattern=function(){return"(0|[1-9]\\d{0,2}("+s(this.groupingSymbol)+"?\\d{3})*)"},u.prototype.toFraction=function(t){return""+this.digits[0]+this.decimalSymbol+this.onlyLocaleDigits(t.substr(1)).substr(0,this.maximumFractionDigits)},u.prototype.isFractionIncomplete=function(t){return!!this.normalizeDigits(t).match(new RegExp("^"+this.integerPattern()+s(this.decimalSymbol)+"$"))},u.prototype.isNegative=function(t){return l(t,this.negativePrefix)||l(t.replace("-",this.minusSymbol),this.minusSymbol)},u.prototype.insertCurrencySymbol=function(t,e){return""+(e?this.negativePrefix:this.prefix)+t+this.suffix},u.prototype.stripMinusSymbol=function(t){return t.replace("-",this.minusSymbol).replace(this.minusSymbol,"")},u.prototype.stripCurrencySymbol=function(t){return t.replace(this.negativePrefix,"").replace(this.prefix,"").replace(this.suffix,"")},u.prototype.normalizeDecimalSymbol=function(t,e){var a=this;return d.forEach(function(i){t=t.substr(0,e)+t.substr(e).replace(i,a.decimalSymbol)}),t},u.prototype.normalizeDigits=function(t){return"0"!==this.digits[0]&&this.digits.forEach(function(e,a){t=t.replace(new RegExp(e,"g"),a)}),t},u.prototype.onlyDigits=function(t){return this.normalizeDigits(t).replace(/\D+/g,"")},u.prototype.onlyLocaleDigits=function(t){return t.replace(new RegExp("[^"+this.digits.join("")+"]*","g"),"")};var p={locale:void 0,currency:"EUR",valueAsInteger:!1,distractionFree:!0,precision:void 0,autoDecimalMode:!1,valueRange:void 0,allowNegative:!0},m=function(t,e){var a=Object.assign({},p,e),i=new u(a);return r(i.parse(t),a.valueAsInteger,i.maximumFractionDigits)},f=function(t,e){return i(t,"format",{value:e})},h=function(t,e){return t.setSelectionRange(e,e)},g=function(t,e){if(t===e)return!0;if(!t||!e||"object"!=typeof t||"object"!=typeof e)return!1;var a=Object.keys(t);return a.length===Object.keys(e).length&&(!!a.every(Object.prototype.hasOwnProperty.bind(e))&&a.every(function(a){return g(t[a],e[a])}))},_=function(t){this.numberFormat=t};_.prototype.conformToMask=function(t,e){var a=this;void 0===e&&(e="");var i=this.numberFormat.isNegative(t),r=t;r=this.numberFormat.stripCurrencySymbol(r);var s=function(t){if(""===t&&i&&e!==a.numberFormat.negativePrefix)return"";if(a.numberFormat.maximumFractionDigits>0){if(a.numberFormat.isFractionIncomplete(t))return t;if(l(t,a.numberFormat.decimalSymbol))return a.numberFormat.toFraction(t)}return null}(r=this.numberFormat.stripMinusSymbol(r));if(null!=s)return this.numberFormat.insertCurrencySymbol(s,i);var o=r.split(this.numberFormat.decimalSymbol),c=o[0],d=o.slice(1),u=n(this.numberFormat.onlyDigits(c)),p=this.numberFormat.onlyDigits(d.join("")).substr(0,this.numberFormat.maximumFractionDigits),m=d.length>0&&0===p.length,f=""===u&&i&&(e===t.slice(0,-1)||e!==this.numberFormat.negativePrefix);return m||f?e:u.match(/\d+/)?{numberValue:Number((i?"-":"")+u+"."+p),fractionDigits:p}:""};var v=function(t){this.numberFormat=t};v.prototype.conformToMask=function(t){if(""===t)return"";var e=this.numberFormat.isNegative(t),a=""===this.numberFormat.stripMinusSymbol(t)?-0:Number((e?"-":"")+n(this.numberFormat.onlyDigits(t)))/Math.pow(10,this.numberFormat.minimumFractionDigits);return{numberValue:a,fractionDigits:a.toFixed(this.numberFormat.minimumFractionDigits).slice(-this.numberFormat.minimumFractionDigits)}};var b=Math.pow(2,53)-1,y=function(t,e,a){var i=a.$CI_DEFAULT_OPTIONS,r="input"===t.tagName.toLowerCase()?t:t.querySelector("input");if(!r)throw new Error("No input element found");var s=Object.assign({},i||p,e),n=s.distractionFree,o=s.autoDecimalMode,l=s.valueRange;"boolean"==typeof n&&(s.distractionFree={hideCurrencySymbol:n,hideNegligibleDecimalDigits:n,hideGroupingSymbol:n}),s.valueRange=l?{min:void 0!==l.min?Math.max(l.min,-b):-b,max:void 0!==l.max?Math.min(l.max,b):b}:{min:-b,max:b},o?(s.distractionFree.hideNegligibleDecimalDigits=!1,r.setAttribute("inputmode","numeric")):r.setAttribute("inputmode","decimal");var c=new u(s);return r.$ci=Object.assign({},r.$ci||{numberValue:null},{options:s,numberMask:s.autoDecimalMode?new v(c):new _(c),currencyFormat:c}),r},D=function(t,e){var a=t.$ci,s=a.numberValue,n=a.currencyFormat,o=a.options;i(t,e,{numberValue:s=r(s,o.valueAsInteger,n.maximumFractionDigits)})},w=function(t,e,a){void 0===a&&(a=!1);var i=t.$ci,r=i.currencyFormat,s=i.options;x(t,null!=e?r.format(function(t,e){return Math.min(Math.max(t,e.min),e.max)}(e,s.valueRange)):null),(e!==t.$ci.numberValue||a)&&D(t,"change")},x=function(t,e,a){void 0===a&&(a=!1),function(t,e,a){if(null!=e){var i=t.$ci,r=i.focus,s=i.decimalSymbolInsertedAt,n=i.options,o=i.numberMask,l=i.currencyFormat,c=i.previousConformedValue,d=n.allowNegative,u=n.distractionFree;void 0!==s&&(e=l.normalizeDecimalSymbol(e,s),t.$ci.decimalSymbolInsertedAt=void 0);var p,m=o.conformToMask(e,c);if("object"==typeof m){var f=m.numberValue,h=m.fractionDigits,g=l.maximumFractionDigits,_=l.minimumFractionDigits;r&&(_=g),_=a?h.replace(/0+$/,"").length:Math.min(_,h.length),p=f>b?c:l.format(f,{useGrouping:!(r&&u.hideGroupingSymbol),minimumFractionDigits:_,maximumFractionDigits:g})}else p=m;d||(p=p.replace(l.negativePrefix,l.prefix)),r&&u.hideCurrencySymbol&&(p=p.replace(l.negativePrefix,l.minusSymbol).replace(l.prefix,"").replace(l.suffix,"")),t.value=p,t.$ci.numberValue=l.parse(t.value)}else t.value=t.$ci.numberValue=null;t.$ci.previousConformedValue=t.value}(t,e,a),D(t,"input")},S=function(t){t.addEventListener("input",function(e){if(!e.detail){var a=t.value,i=t.selectionStart,r=t.$ci,s=r.currencyFormat,n=r.options;x(t,a),t.$ci.focus&&h(t,function(t,e,a,i,r){var s=i.prefix,n=i.suffix,l=i.decimalSymbol,c=i.maximumFractionDigits,d=i.groupingSymbol,u=e.indexOf(l)+1,p=e.length-a;return Math.abs(t.length-e.length)>1&&a<=u?t.indexOf(l)+1:t.substr(a,1)===d&&o(t,d)===o(e,d)+1?t.length-p-1:(!r.autoDecimalMode&&0!==u&&a>u&&i.onlyDigits(e.substr(u)).length-1===c&&(p-=1),r.distractionFree.hideCurrencySymbol?t.length-p:Math.max(t.length-Math.max(p,n.length),0===s.length?0:s.length+1))}(t.value,a,i,s,n))}},{capture:!0}),t.addEventListener("keypress",function(e){d.includes(e.key)&&(t.$ci.decimalSymbolInsertedAt=t.selectionStart)}),t.addEventListener("format",function(e){var a=t.$ci,i=a.currencyFormat,r=a.options,s=a.numberValue,n=function(t){return r.valueAsInteger&&null!=t?t/Math.pow(10,i.maximumFractionDigits):t}(e.detail.value);s!==n&&w(t,n)}),t.addEventListener("focus",function(){t.$ci.focus=!0;var e=t.$ci.options.distractionFree,a=e.hideCurrencySymbol,i=e.hideGroupingSymbol,r=e.hideNegligibleDecimalDigits;(a||i||r)&&setTimeout(function(){var e=t.value,a=t.selectionStart,i=t.selectionEnd;e&&x(t,e,r),Math.abs(a-i)>0?t.setSelectionRange(0,t.value.length):h(t,function(t,e,a,i){var r=i;return e.distractionFree.hideCurrencySymbol&&(r-=t.prefix.length),e.distractionFree.hideGroupingSymbol&&(r-=o(a.substring(0,i),t.groupingSymbol)),Math.max(0,r)}(t.$ci.currencyFormat,t.$ci.options,e,a))})}),t.addEventListener("blur",function(){t.$ci.focus=!1,null!=t.$ci.numberValue&&w(t,t.$ci.numberValue)}),t.addEventListener("change",function(e){e.detail||D(t,"change")})},C={bind:function(t,e,a){var i=e.value,r=a.context,s=y(t,i,r);S(s),f(s,s.$ci.currencyFormat.parse(s.value))},componentUpdated:function(t,e,a){var i=e.value,r=e.oldValue,s=a.context;if(!g(i,r)){var n=y(t,i,s);w(n,n.$ci.numberValue,!0)}}},E={render:function(t){var e=this;return t("input",{directives:[{name:"currency",value:this.options}],on:Object.assign({},this.$listeners,{change:function(t){t.detail&&e.$emit("change",t.detail.numberValue)},input:function(t){t.detail&&e.value!==t.detail.numberValue&&e.$emit("input",t.detail.numberValue)}})})},directives:{currency:C},name:"CurrencyInput",props:{value:{type:Number,default:null},locale:{type:String,default:void 0},currency:{type:[String,Object],default:void 0},distractionFree:{type:[Boolean,Object],default:void 0},precision:{type:[Number,Object],default:void 0},autoDecimalMode:{type:Boolean,default:void 0},valueAsInteger:{type:Boolean,default:void 0},valueRange:{type:Object,default:void 0},allowNegative:{type:Boolean,default:void 0}},mounted:function(){this.setValue(this.value)},computed:{options:function(){var t=this,e=Object.assign({},this.$CI_DEFAULT_OPTIONS||p);return Object.keys(p).forEach(function(a){void 0!==t[a]&&(e[a]=t[a])}),e}},watch:{value:"setValue"},methods:{setValue:function(t){f(this.$el,t)}}},k={install:function(t,e){void 0===e&&(e={});var a=e.componentName;void 0===a&&(a=E.name);var i=e.directiveName;void 0===i&&(i="currency");var r=e.globalOptions;void 0===r&&(r={}),t.prototype.$CI_DEFAULT_OPTIONS=Object.assign({},p,r),t.component(a,E),t.directive(i,C),t.prototype.$parseCurrency=function(t,e){return void 0===e&&(e={}),m(t,Object.assign({},r,e))}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(k),e.default=k},"1FZn":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card"},[a("div",{staticClass:"card-body"},[t.showTable?a("div",[a("div",{staticClass:"flex-container flex-container--wrap"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select,size:"small"},on:{change:t.changePageTable},model:{value:t.params.per_page,callback:function(e){t.$set(t.params,"per_page",e)},expression:"params.per_page"}},t._l(t.pages,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-input",{staticClass:"inline-form",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.custReturnData,stripe:""},on:{"sort-change":t.changeSortTable}},[a("el-table-column",{attrs:{label:t.lang.order_no,prop:"return_no",sortable:"","min-width":"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.return_no?a("div",[t._v(t._s(e.row.return_no))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.order_date,prop:"freturn_date",sortable:"","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.freturn_date?a("div",[t._v(t._s(e.row.freturn_date))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.return_amount,prop:"ftotal_amount",sortable:"","min-width":"190"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.ftotal_amount?a("div",[t._v(t._s(e.row.ftotal_amount))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.status,width:"120",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status_desc?a("div",["Confirmed"===e.row.status_desc?a("div",[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(t.rootLang.has_confirm))])],1):t._e(),t._v(" "),"Draft"===e.row.status_desc?a("div",[a("el-tag",{attrs:{size:"mini",type:"info"}},[t._v(t._s(t.rootLang.draft))])],1):t._e(),t._v(" "),"Pending"===e.row.status_desc?a("div",[a("el-tag",{attrs:{size:"mini",type:"warning"}},[t._v(t._s(t.rootLang.pending))])],1):t._e(),t._v(" "),"Received"===e.row.status_desc?a("div",[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(t.lang.received))])],1):t._e(),t._v(" "),"Shipping "===e.row.status_desc?a("div",[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(t.rootLang.being_sent))])],1):t._e(),t._v(" "),"Shipped "===e.row.status_desc?a("div",[a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(t.lang.delivered))])],1):t._e(),t._v(" "),"Cancel"===e.row.status_desc?a("div",[a("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v(t._s(t.lang.cancel))])],1):t._e(),t._v(" "),"Completed"===e.row.status_desc?a("div",[a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(t.rootLang.complete))])],1):t._e()]):a("div",[a("p",[t._v("-")])])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.params.currentPage,"page-size":t.params.per_page,layout:"prev, pager, next, jumper",total:t.params.total},on:{"size-change":t.changePageTable,"current-change":t.changeCurrentPage,"update:currentPage":function(e){return t.$set(t.params,"currentPage",e)},"update:current-page":function(e){return t.$set(t.params,"currentPage",e)}}})],1)],1):a("div",{staticClass:"no-product"},[a("p",[t._v(t._s(t.lang.no_order))]),t._v(" "),a("img",{attrs:{src:"/static/img/no-data.svg",alt:"No Data Picture"}})])])])},r=[]},"1gAp":function(t,e,a){"use strict";a.r(e);var i=a("tNkc"),r=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=r.a},"5w3S":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("xCek"),r=function(t){return t&&t.__esModule?t:{default:t}}(a("vDqi"));e.default={name:"CustomerDetailReturn",props:["rootId"],data:function(){return{loading:!1,custReturnData:[],searchValue:null,showTable:!1,idRoot:null,pages:[{value:5,label:"5 "+this.$store.state.userStores.lang.rows},{value:10,label:"10 "+this.$store.state.userStores.lang.rows},{value:20,label:"20 "+this.$store.state.userStores.lang.rows},{value:50,label:"50 "+this.$store.state.userStores.lang.rows},{value:100,label:"100 "+this.$store.state.userStores.lang.rows}],params:{search:null,total:null,currentPage:1,sort_column:"return_no",sort_type:"asc",per_page:5,page:1,store:null,search_column:null,search_text:""}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},rootLang:function(){return this.$lang[this.$store.state.userStores.langId]}},watch:{"$store.getters.selectedStore":function(){this.getReturnData()}},methods:{getReturnData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"customerreturn/"+this.idRoot),headers:e,params:this.params}).then(function(e){t.custReturnData=e.data.data,t.params.total=e.data.meta.total,t.showTable=!0,t.loading=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.params.total=0,t.loading=!1})},changePageTable:function(t){this.params.per_page=t,this.getReturnData()},handleSearch:function(t){this.params.page=1,this.params.currentPage=1,this.params.search_text="",this.params.search_column=null,this.params.search=this.searchValue,this.getReturnData()},changeSortTable:function(t){"ascending"===t.order&&(t.order="asc"),"descending"===t.order&&(t.order="desc"),console.log(t),this.params.sort_type=t.order,this.params.sort_column=t.prop,this.getReturnData()},changeCurrentPage:function(t){this.params.currentPage=t,this.params.page=t,this.getReturnData()}},mounted:function(){this.idRoot=this.rootId,this.getReturnData()}}},"6XVk":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"customer-items"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"mb-16"},[a("date-range-picker",{attrs:{"init-date":t.initParamDate,attendance:!0},on:{picked:t.getData}})],1),t._v(" "),t.showTable?a("div",[a("div",{staticClass:"flex-container flex-container--wrap"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select,size:"small"},on:{change:t.changePageTable},model:{value:t.params.per_page,callback:function(e){t.$set(t.params,"per_page",e)},expression:"params.per_page"}},t._l(t.pages,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-button",{staticClass:"mr-8",attrs:{type:"info",icon:"el-icon-download",loading:t.loadingDownload},on:{click:t.downloadExcel}},[t._v("\n            "+t._s(t.$lang[t.langId].download_excel)+"\n          ")]),t._v(" "),a("el-input",{staticClass:"inline-form",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.custItemsData,stripe:"","row-class-name":"pointer"},on:{"sort-change":t.changeSortTable,"row-click":t.handleDetail}},[a("el-table-column",{attrs:{label:t.lang.order_no,prop:"order_no",sortable:"","min-width":"230"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-container"},[e.row.photo_md?a("el-avatar",{staticClass:"mr-4",attrs:{src:e.row.photo_md}}):t._e(),t._v(" "),a("div",[e.row.order_no?a("span",[t._v(t._s(e.row.order_no))]):a("span",[t._v("-")])])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.order_date,prop:"order_date",sortable:"","min-width":"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.forder_date?a("div",[t._v(t._s(e.row.forder_date))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.sales_by,prop:"sales_by_name",sortable:"","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.sales_by_name?a("div",[t._v(t._s(e.row.sales_by_name))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.order_item,prop:"product_name",sortable:"","min-width":"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.product_name?a("div",[t._v(t._s(e.row.product_name)+" - "+t._s(e.row.product_variant_name))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.qty,prop:"qty",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.qty?a("div",[t._v(t._s(e.row.qty))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.avg_buy_price,prop:"fprice",sortable:"","min-width":"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.fprice?a("div",[t._v(t._s(e.row.fprice))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.total,prop:"famount",sortable:"","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.famount?a("div",[t._v(t._s(e.row.famount))]):a("div",[t._v("-")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.params.currentPage,"page-size":t.params.per_page,layout:"prev, pager, next, jumper",total:t.params.total},on:{"size-change":t.changePageTable,"current-change":t.changeCurrentPage,"update:currentPage":function(e){return t.$set(t.params,"currentPage",e)},"update:current-page":function(e){return t.$set(t.params,"currentPage",e)}}})],1)],1):a("div",{staticClass:"no-product"},[a("p",[t._v(t._s(t.lang.no_order))]),t._v(" "),a("img",{attrs:{src:"/static/img/no-data.svg",alt:"No Data Picture"}})])])])],1)},r=[]},Ccnf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mixinHiddenFeatureByPlanType=void 0;var i=a("rOiX"),r={computed:{planType:function(){return this.$store.getters.selectedStore.plan_type_id},selectedStore:function(){return this.$store.getters.selectedStore}},watch:{planType:{handler:function(t){this.resetLock()}}},mounted:function(){this.resetLock()},destroyed:function(){this.resetLock()},methods:{precheckByUrlId:function(t){return i.featureAccessByUrlIds[this.selectedStore.url_id]&&i.featureAccessByUrlIds[this.selectedStore.url_id].includes(t)},resetLock:function(){this.destoryIconSubmenuDisabled();var t=document.querySelectorAll(".submenu-disabled a, .button-plan-type-disabled");t&&t.length&&t.forEach(function(t){t.insertAdjacentHTML("beforeend",'<svg aria-hidden="true" class="ml-10 svg-icon icon-submenu-disabled"><use xlink:href="#icon-lock"></use></svg>')})},destoryIconSubmenuDisabled:function(){var t=document.querySelectorAll(".panel.tab-list .icon-submenu-disabled, .button-plan-type-disabled .icon-submenu-disabled");t&&t.length&&t.forEach(function(t){t.remove()})},methodRouteIsHidden:function(t){return this.$isHiddenByPlanType(this.planType,t)},methodFeatureNameIsHidden:function(t){return this.$isFeatureNameHiddenByPlanType(this.planType,t)},methodFeatureIsHiddenCellTable:function(t){return this.handlerClassName(t,"methodFeatureNameIsHidden",["celltable"])},methodRouteIsHiddenSidebarMenuClass:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.precheckByUrlId(t)&&this.handlerClassName(t,"methodRouteIsHidden",["sidebarmenu"],e)},methodRouteIsHiddenSubMenuClass:function(t){return!this.precheckByUrlId(t)&&this.handlerClassName(t,"methodRouteIsHidden",["submenu"])},methodRouteIsHiddenButtonClass:function(t){return this.handlerClassName(t,"methodFeatureNameIsHidden",["button","button-plan-type"])},handlerClassName:function(t,e,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r="-enabled";this[e](t)&&!i&&(r="-disabled");var s=[];return a.map(function(t){s.push(t+r)}),s.join(" ")}}};e.mixinHiddenFeatureByPlanType=r},Cms1:function(t,e,a){"use strict";a.r(e);var i=a("n8De"),r=a("0GjJ");for(var s in r)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return r[t]})}(s);var n=a("KHd+"),o=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);o.options.__file="CustomerProfile.vue",e.default=o.exports},KqHC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("xCek"),r=n(a("vDqi")),s=n(a("hogc"));function n(t){return t&&t.__esModule?t:{default:t}}var o=a("wd/R"),l=o().format("YYYY-MM-DD"),c=o(l).subtract(1,"years").format("YYYY-MM-DD");e.default={name:"CustomerDetailItems",props:["rootId"],components:{dateRangePicker:s.default},data:function(){return{loading:!1,custItemsData:[],searchValue:null,showTable:!1,idRoot:null,pages:[{value:5,label:"5 "+this.$store.state.userStores.lang.rows},{value:10,label:"10 "+this.$store.state.userStores.lang.rows},{value:20,label:"20 "+this.$store.state.userStores.lang.rows},{value:50,label:"50 "+this.$store.state.userStores.lang.rows},{value:100,label:"100 "+this.$store.state.userStores.lang.rows}],params:{search:null,total:null,currentPage:1,sort_column:"order_no",sort_type:"asc",per_page:5,page:1,store:null,search_column:null,search_text:"",start_date:c,end_date:l},loadingDownload:!1,initParamDate:[]}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getItemsData()}},methods:{getItemsData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"customerorderitems/"+this.idRoot),headers:e,params:this.params}).then(function(e){t.custItemsData=e.data.data,t.params.total=e.data.meta.total,t.showTable=!0,t.loading=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.custItemsData=[],t.params.total=0,t.loading=!1,console.log(e)})},changePageTable:function(t){this.params.per_page=t,this.getItemsData()},handleSearch:function(t){this.params.page=1,this.params.currentPage=1,this.params.search_text="",this.params.search_column=null,this.params.search=this.searchValue,this.custItemsData=[],this.getItemsData()},changeSortTable:function(t){"ascending"===t.order&&(t.order="asc"),"descending"===t.order&&(t.order="desc"),console.log(t),this.params.sort_type=t.order,this.params.sort_column="fprice"!==t.prop?t.prop:"price",this.getItemsData()},changeCurrentPage:function(t){this.params.currentPage=t,this.params.page=t,this.getItemsData()},handleDetail:function(t){this.$router.push("/sales/openorder/"+t.id)},getData:function(t){this.params.start_date=t.start_date,this.params.end_date=t.end_date,this.getItemsData()},downloadExcel:function(){var t=this;this.loadingDownload=!0;var e={Authorization:"Bearer "+this.token.access_token};this.params.type="xlsx",(0,r.default)({method:"GET",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"customerorderitems/"+this.idRoot),params:this.params,responseType:"blob",headers:e}).then(function(e){var a="customerorderitems-"+t.params.start_date+"__"+t.params.end_date+".xlsx",i=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=i,r.setAttribute("download",a),document.body.appendChild(r),r.click(),t.loadingDownload=!1}).catch(function(e){console.log(e,"error"),t.loadingDownload=!1})}},mounted:function(){this.idRoot=this.rootId,this.initParamDate=[this.params.start_date,this.params.end_date],this.getItemsData()}}},NMgX:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{md:18}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card"},[a("div",{staticClass:"card-body"},[t.showTable?a("div",[a("div",{staticClass:"flex-container flex-container--wrap"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select,size:"small"},on:{change:t.changePageTable},model:{value:t.params.per_page,callback:function(e){t.$set(t.params,"per_page",e)},expression:"params.per_page"}},t._l(t.pages,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-input",{staticClass:"inline-form",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.custLoyaltyData,stripe:""},on:{"sort-change":t.changeSortTable}},[a("el-table-column",{attrs:{label:t.lang.order_no,prop:"order_no",sortable:"","min-width":"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.order_no?a("div",[t._v(t._s(e.row.order_no))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.received,prop:"earned_points",sortable:"","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.earned_points?a("div",[t._v(t._s(e.row.earned_points))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.redeemed,prop:"redeemed_points",sortable:"","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.redeemed_points?a("div",[a("div",[t._v(t._s(e.row.redeemed_points))])]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.$lang[t.langId].detail,prop:"deducted_details",sortable:"","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.deducted_details?a("div",t._l(e.row.deducted_details,function(e){return a("div",{key:e.id},[t._v("\n                    "+t._s(e.fref_no)+"\n                  ")])}),0):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.balance,prop:"balance_points",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.balance_points?a("div",[t._v(t._s(e.row.balance_points))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.end_date,prop:"expiry_date",sortable:"","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.expiry_date?a("div",[t._v(t._s(e.row.expiry_date))]):a("div",[t._v("-")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.params.currentPage,"page-size":t.params.per_page,layout:"prev, pager, next, jumper",total:t.params.total},on:{"size-change":t.changePageTable,"current-change":t.changeCurrentPage,"update:currentPage":function(e){return t.$set(t.params,"currentPage",e)},"update:current-page":function(e){return t.$set(t.params,"currentPage",e)}}})],1)],1):a("div",{staticClass:"no-product"},[a("p",[t._v(t._s(t.lang.no_order))]),t._v(" "),a("img",{attrs:{src:"/static/img/no-data.svg",alt:"No Data Picture"}})])])])],1),t._v(" "),a("el-col",{attrs:{md:6}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{shadow:"never"}},[a("p",[t._v(t._s(t.lang.total_loyalty_points))]),t._v(" "),a("svg-icon",{attrs:{"icon-class":"star"}}),t._v(" "),a("span",[t._v(t._s(t.balancePoints))])],1)],1)],1)},r=[]},Oy0d:function(t,e,a){"use strict";a.r(e);var i=a("dSAR"),r=a("1gAp");for(var s in r)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return r[t]})}(s);var n=a("KHd+"),o=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);o.options.__file="CustomerDetail.vue",e.default=o.exports},UFtP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("xCek"),r=n(a("vDqi")),s=n(a("hogc"));function n(t){return t&&t.__esModule?t:{default:t}}var o=a("wd/R"),l=o().format("YYYY-MM-DD"),c=o(l).subtract(1,"years").format("YYYY-MM-DD");e.default={name:"CustomerDetailOrder",props:["rootId"],components:{dateRangePicker:s.default},data:function(){return{loading:!1,custOrderData:[],searchValue:null,idRoot:null,showTable:!1,pages:[{value:5,label:"5 "+this.$store.state.userStores.lang.rows},{value:10,label:"10 "+this.$store.state.userStores.lang.rows},{value:20,label:"20 "+this.$store.state.userStores.lang.rows},{value:50,label:"50 "+this.$store.state.userStores.lang.rows},{value:100,label:"100 "+this.$store.state.userStores.lang.rows}],params:{search:null,total:null,currentPage:1,sort_column:"order_no",sort_type:"asc",per_page:5,page:1,store:null,search_column:null,search_text:"",start_date:c,end_date:l},loadingDownload:!1,initParamDate:[]}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},rootLang:function(){return this.$lang[this.$store.state.userStores.langId]}},watch:{"$store.getters.selectedStore":function(){this.getOrderData()}},methods:{getOrderData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"customerorder/"+this.idRoot),headers:e,params:this.params}).then(function(e){t.custOrderData=e.data.data,t.params.total=e.data.meta.total,t.showTable=!0,t.loading=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.custOrderData=[],t.params.total=0,t.loading=!1,console.log(e)})},changePageTable:function(t){this.params.per_page=t,this.params.page=1,this.getOrderData()},handleSearch:function(t){this.params.page=1,this.params.currentPage=1,this.params.search_text="",this.params.search_column=null,this.params.search=this.searchValue,this.getOrderData()},changeSortTable:function(t){"ascending"===t.order&&(t.order="asc"),"descending"===t.order&&(t.order="desc"),console.log(t),this.params.sort_type=t.order,this.params.sort_column="ftotal_amount"===t.prop?"total_amount":t.prop,null===t.order&&(this.params.sort_type="asc",this.params.sort_column="order_no"),this.getOrderData()},changeCurrentPage:function(t){this.params.currentPage=t,this.params.page=t,this.getOrderData()},showOrder:function(t){var e="";e="Z"===order.status?"/sales/completeorder":"X"===order.status?"/sales/cancelorder":(order.status,"/sales/openorder"),this.$router.push({path:e+t.id})},getData:function(t){this.params.start_date=t.start_date,this.params.end_date=t.end_date,this.getOrderData()},downloadExcel:function(){var t=this;this.loadingDownload=!0;var e={Authorization:"Bearer "+this.token.access_token};this.params.type="xlsx",(0,r.default)({method:"GET",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"customerorder/"+this.idRoot),params:this.params,responseType:"blob",headers:e}).then(function(e){var a="customerorder-"+t.params.start_date+"__"+t.params.end_date+".xlsx",i=window.URL.createObjectURL(new Blob([e.data])),r=document.createElement("a");r.href=i,r.setAttribute("download",a),document.body.appendChild(r),r.click(),t.loadingDownload=!1}).catch(function(e){console.log(e,"error"),t.loadingDownload=!1})}},mounted:function(){this.idRoot=this.rootId,this.initParamDate=[this.params.start_date,this.params.end_date],this.getOrderData()}}},V9mS:function(t,e,a){"use strict";a.r(e);var i=a("KqHC"),r=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=r.a},VKIx:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"card-box"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"mb-16"},[a("date-range-picker",{attrs:{"init-date":t.initParamDate,attendance:!0},on:{picked:t.getData}})],1),t._v(" "),t.showTable?a("div",[a("div",{staticClass:"flex-container flex-container--wrap"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select,size:"small"},on:{change:t.changePageTable},model:{value:t.params.per_page,callback:function(e){t.$set(t.params,"per_page",e)},expression:"params.per_page"}},t._l(t.pages,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-button",{staticClass:"mr-8",attrs:{type:"info",icon:"el-icon-download",loading:t.loadingDownload},on:{click:t.downloadExcel}},[t._v("\n          "+t._s(t.$lang[t.langId].download_excel)+"\n        ")]),t._v(" "),a("el-input",{staticClass:"inline-form",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.custOrderData,stripe:""},on:{"sort-change":t.changeSortTable,"row-click":t.showOrder}},[a("el-table-column",{attrs:{label:t.lang.order_no,prop:"order_no",sortable:"","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("router-link",{attrs:{to:{path:"Z"===e.row.status?"/sales/completeorder/"+e.row.id:"A"===e.row.status?"/sales/openorder/"+e.row.id:"T"===e.row.status?"/sales/openorder/"+e.row.id:"X"===e.row.status?"/sales/cancelorder/"+e.row.id:"/sales/openorder/"+e.row.id}}},[e.row.order_no?a("div",[t._v(t._s(e.row.order_no))]):a("div",[t._v("-")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.order_date,prop:"order_date",sortable:"","min-width":"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.forder_date?a("div",[t._v(t._s(e.row.forder_date))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.shipping_to,prop:"shipping_to",sortable:"","min-width":"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.shipping_to?a("div",[t._v(t._s(e.row.shipping_to))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.order_amount,prop:"ftotal_amount",sortable:"","min-width":"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.ftotal_amount?a("div",[t._v(t._s(e.row.ftotal_amount))]):a("div",[t._v("-")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.status,width:"120",sortable:"",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.status?a("div",["A"===e.row.status?a("div",[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(t.rootLang.has_confirm))])],1):t._e(),t._v(" "),"D"===e.row.status?a("div",[a("el-tag",{attrs:{size:"mini",type:"info"}},[t._v(t._s(t.rootLang.draft))])],1):t._e(),t._v(" "),"P"===e.row.status?a("div",[a("el-tag",{attrs:{size:"mini",type:"warning"}},[t._v(t._s(t.rootLang.pending))])],1):t._e(),t._v(" "),"R"===e.row.status?a("div",[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(t.lang.received))])],1):t._e(),t._v(" "),"S"===e.row.status?a("div",[a("el-tag",{attrs:{size:"mini"}},[t._v(t._s(t.rootLang.being_sent))])],1):t._e(),t._v(" "),"T"===e.row.status?a("div",[a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(t.lang.delivered))])],1):t._e(),t._v(" "),"X"===e.row.status?a("div",[a("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v(t._s(t.lang.cancel))])],1):t._e(),t._v(" "),"Z"===e.row.status?a("div",[a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(t.rootLang.complete))])],1):t._e()]):a("div",[a("p",[t._v("-")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.paid,prop:"is_paid",sortable:"",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.is_paid?a("div",[a("el-tag",{attrs:{size:"mini",type:"danger"}},[t._v(t._s(t.lang.not_yet))])],1):t._e(),t._v(" "),1===e.row.is_paid?a("div",[a("el-tag",{attrs:{size:"mini",type:"success"}},[t._v(t._s(t.rootLang.done))])],1):t._e()]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.params.currentPage,"page-size":t.params.per_page,layout:"prev, pager, next, jumper",total:t.params.total},on:{"size-change":t.changePageTable,"current-change":t.changeCurrentPage,"update:currentPage":function(e){return t.$set(t.params,"currentPage",e)},"update:current-page":function(e){return t.$set(t.params,"currentPage",e)}}})],1)],1):a("div",{staticClass:"no-product"},[a("p",[t._v(t._s(t.lang.no_order))]),t._v(" "),a("img",{attrs:{src:"/static/img/no-data.svg",alt:"No Data Picture"}})])])])},r=[]},ZNLW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("xCek"),r=function(t){return t&&t.__esModule?t:{default:t}}(a("vDqi"));e.default={name:"CustomerDetailLoyalty",props:["rootId"],data:function(){return{loading:!1,custLoyaltyData:[],balancePoints:"",searchValue:null,showTable:!1,idRoot:null,pages:[{value:5,label:"5 "+this.$store.state.userStores.lang.rows},{value:10,label:"10 "+this.$store.state.userStores.lang.rows},{value:20,label:"20 "+this.$store.state.userStores.lang.rows}],params:{search:null,total:null,currentPage:1,sort_column:"order_no",sort_type:"asc",per_page:5,page:1,store:null,search_column:null,search_text:""}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getLoyaltyPoints()}},methods:{getLoyaltyPoints:function(t){var e=this;this.loading=!0;var a={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"customerloyaltypoints/"+this.idRoot),headers:a,params:this.params}).then(function(t){e.custLoyaltyData=t.data.data,e.params.total=t.data.meta.total,e.balancePoints=t.data.balance_points,e.showTable=!0,e.loading=!1}).catch(function(t){404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.params.total=0,e.loading=!1,console.log(t)})},changePageTable:function(t){this.params.per_page=t,this.getLoyaltyPoints()},handleSearch:function(t){this.params.page=1,this.params.currentPage=1,this.params.search_text="",this.params.search_column=null,this.params.search=this.searchValue,this.getLoyaltyPoints()},changeSortTable:function(t){"ascending"===t.order&&(t.order="asc"),"descending"===t.order&&(t.order="desc"),console.log(t),this.params.sort_type=t.order,this.params.sort_column=t.prop,this.getLoyaltyPoints()},changeCurrentPage:function(t){this.params.currentPage=t,this.params.page=t,this.getLoyaltyPoints()}},mounted:function(){this.idRoot=this.rootId,this.getLoyaltyPoints()}}},Zdze:function(t,e,a){"use strict";a.r(e);var i=a("6XVk"),r=a("V9mS");for(var s in r)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return r[t]})}(s);var n=a("KHd+"),o=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);o.options.__file="CustomerItems.vue",e.default=o.exports},"a+Wn":function(t,e,a){"use strict";a.r(e);var i=a("5w3S"),r=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=r.a},aXRS:function(t,e,a){"use strict";a.r(e);var i=a("1FZn"),r=a("a+Wn");for(var s in r)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return r[t]})}(s);var n=a("KHd+"),o=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);o.options.__file="CustomerReturn.vue",e.default=o.exports},dSAR:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDetail,expression:"loadingDetail"}],staticClass:"inner-page-navigation-wrapper"},[a("div",{ref:"innerPageNavigation",staticClass:"inner-page-navigation"},[a("el-button",{class:t.isProfile?"active":"",attrs:{type:"text"},on:{click:t.activateProfile}},[t._v("\n      "+t._s(t.lang.profile)+"\n    ")]),t._v(" "),a("el-button",{class:t.isOrder?"active":"",attrs:{type:"text"},on:{click:t.activateOrder}},[t._v("\n      "+t._s(t.lang.orders)+"\n    ")]),t._v(" "),a("el-button",{class:t.isItems?"active":"",attrs:{type:"text"},on:{click:t.activateItem}},[t._v("\n      "+t._s(t.lang.item)+"\n    ")]),t._v(" "),a("el-button",{class:t.isReturn?"active":"",attrs:{type:"text"},on:{click:t.activateReturn}},[t._v("\n      "+t._s(t.lang.returns)+"\n    ")]),t._v(" "),a("el-button",{class:t.isLoyaltyPoints?"active":"",attrs:{type:"text",disabled:t.methodFeatureNameIsHidden("customer-loyaltypoint")},on:{click:t.activateLoyaltyPoint}},[t._v("\n      "+t._s(t.lang.loyalty_point)+"\n    ")])],1),t._v(" "),a("div",{staticClass:"tab-content",staticStyle:{"margin-top":"0"}},[t.isProfile?a("div",{staticClass:"tab-pane fade",class:{"active in":t.isProfile},attrs:{role:"tabpanel"}},[a("customer-profile",{attrs:{dataDetail:t.profileData},on:{back:t.backDetail,deleteBack:t.deleteDetail}})],1):t._e(),t._v(" "),t.isOrder?a("div",{staticClass:"tab-pane fade",class:{"active in":t.isOrder},attrs:{role:"tabpanel"}},[a("customer-order",{attrs:{"root-id":t.idDetail}})],1):t._e(),t._v(" "),t.isItems?a("div",{staticClass:"tab-pane fade",class:{"active in":t.isItems},attrs:{role:"tabpanel"}},[a("customer-items",{attrs:{"root-id":t.idDetail}})],1):t._e(),t._v(" "),t.isReturn?a("div",{staticClass:"tab-pane fade",class:{"active in":t.isReturn},attrs:{role:"tabpanel"}},[a("customer-return",{attrs:{"root-id":t.idDetail}})],1):t._e(),t._v(" "),t.isLoyaltyPoints?a("div",{staticClass:"tab-pane fade",class:{"active in":t.isLoyaltyPoints},attrs:{role:"tabpanel"}},[a("customer-loyalty",{attrs:{"root-id":t.idDetail}})],1):t._e()])])},r=[]},ihIy:function(t,e,a){"use strict";a.r(e);var i=a("VKIx"),r=a("n7V/");for(var s in r)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return r[t]})}(s);var n=a("KHd+"),o=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);o.options.__file="CustomerOrder.vue",e.default=o.exports},"kQ+S":function(t,e,a){"use strict";a.r(e);var i=a("ZNLW"),r=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=r.a},"n7V/":function(t,e,a){"use strict";a.r(e);var i=a("UFtP"),r=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=r.a},n8De:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{staticClass:"customer-profile"},[a("el-card",{staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[t.isEditing?a("div",[a("el-input",{model:{value:t.formEdit.nameHeader,callback:function(e){t.$set(t.formEdit,"nameHeader",e)},expression:"formEdit.nameHeader"}})],1):a("div",[t.profileData.name?a("h3",[t._v("\n                "+t._s(t.profileData.name)+"\n              ")]):a("div")]),t._v(" "),t.isEditing?t._e():a("p",[t._v(t._s(t.profileData.fcreated_time))])]),t._v(" "),a("div",{staticClass:"col-md-8 text-right"},[t.isEditing?t._e():a("el-button",{attrs:{plain:"",type:"primary"},on:{click:t.back}},[t._v("\n              "+t._s(t.lang.back)+"\n            ")]),t._v(" "),t.isEditing?t._e():a("button-action-authenticated",{attrs:{permission:["customer/customers","edit"],type:"primary",icon:"el-icon-edit"},on:{click:t.editHandle}},[t._v("\n              "+t._s(t.lang.edit)+"\n            ")]),t._v(" "),t.isEditing?a("el-button",{attrs:{type:"text"},on:{click:t.cancelHandle}},[t._v("\n              "+t._s(t.lang.cancel)+"\n            ")]):t._e(),t._v(" "),t.isEditing?a("el-button",{attrs:{type:"success"},on:{click:t.saveHandle}},[a("svg-icon",{attrs:{"icon-class":"save"}}),t._v("\n              "+t._s(t.lang.save)+"\n            ")],1):t._e()],1)])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 tablet-style"},[a("h4",{staticClass:"font-bold font-14"},[t._v(t._s(t.lang.customer_detail))]),t._v(" "),a("ul",{staticClass:"list-unstyled"},[a("li",[a("p",[t._v(t._s(t.lang.code))]),t._v(" "),t.isEditing?a("div",[a("el-input",{model:{value:t.formEdit.code,callback:function(e){t.$set(t.formEdit,"code",e)},expression:"formEdit.code"}})],1):a("div",[t.profileData.code?a("h5",[t._v(t._s(t.profileData.code))]):a("h5",[t._v("-")])])]),t._v(" "),a("li",[a("p",[t._v(t._s(t.lang.customer_type))]),t._v(" "),t.isEditing?a("div",[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select},model:{value:t.formEdit.customerTypes,callback:function(e){t.$set(t.formEdit,"customerTypes",e)},expression:"formEdit.customerTypes"}},t._l(t.customerType,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1):a("div",[t.profileData.customer_type_name?a("h5",[t._v(t._s(t.profileData.customer_type_name))]):a("h5",[t._v("-")])])]),t._v(" "),a("li",[a("p",[t._v(t._s(t.lang.company_name))]),t._v(" "),t.isEditing?a("div",[a("el-input",{model:{value:t.formEdit.companyName,callback:function(e){t.$set(t.formEdit,"companyName",e)},expression:"formEdit.companyName"}})],1):a("div",[t.profileData.company?a("h5",[t._v(t._s(t.profileData.company))]):a("h5",[t._v("-")])])]),t._v(" "),a("li",[a("p",[t._v(t._s(t.lang.accept_newsletter))]),t._v(" "),t.isEditing?a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.formEdit.switchValue,callback:function(e){t.$set(t.formEdit,"switchValue",e)},expression:"formEdit.switchValue"}}),t._v(" "),0===t.formEdit.switchValue?a("span",[t._v(t._s(t.lang.no))]):t._e(),t._v(" "),1===t.formEdit.switchValue?a("span",[t._v(t._s(t.lang.yes))]):t._e()],1):a("div",[null===t.profileData.accept_newsletter?a("h5",[t._v("-")]):t._e(),t._v(" "),0===t.profileData.accept_newsletter?a("h5",[t._v(t._s(t.lang.no))]):t._e(),t._v(" "),1===t.profileData.accept_newsletter?a("h5",[t._v(t._s(t.lang.yes))]):t._e()])]),t._v(" "),a("li",[a("p",[t._v(t._s(t.lang.date_of_birth))]),t._v(" "),t.isEditing?a("div",[a("el-date-picker",{attrs:{type:"date",placeholder:t.$lang[t.langId].pick_a_day,format:"dd-MM-yyyy","value-format":"yyyy-MM-dd"},model:{value:t.formEdit.dob,callback:function(e){t.$set(t.formEdit,"dob",e)},expression:"formEdit.dob"}})],1):a("div",[null===t.profileData.dob?a("h5",[t._v("-")]):a("h5",[t._v(t._s(t.profileData.fdob))])])]),t._v(" "),a("li",[a("p",[t._v(t._s(t.lang.expiry_date))]),t._v(" "),t.isEditing?a("div",[a("el-date-picker",{attrs:{type:"date",placeholder:t.$lang[t.langId].pick_a_day,format:"dd-MM-yyyy","value-format":"yyyy-MM-dd"},model:{value:t.formEdit.expiry_date,callback:function(e){t.$set(t.formEdit,"expiry_date",e)},expression:"formEdit.expiry_date"}})],1):a("div",[null===t.profileData.expiry_date?a("h5",[t._v("-")]):a("h5",[t._v(t._s(t.profileData.fexpiry_date))])])])]),t._v(" "),t.isEditing?t._e():a("el-button",{attrs:{type:"default",icon:"el-icon-delete"},on:{click:function(e){t.deleteDialog=!0}}},[t._v("\n              "+t._s(t.$lang[t.langId].delete)+" "+t._s(t.lang.customer)+"\n            ")])],1),t._v(" "),a("div",{staticClass:"col-md-4 tablet-style"},[a("h4",{staticClass:"font-bold font-14"},[t._v(t._s(t.lang.contact))]),t._v(" "),a("ul",{staticClass:"list-unstyled"},[a("li",[a("p",[t._v(t._s(t.lang.phone))]),t._v(" "),t.isEditing?a("div",[a("el-input",{model:{value:t.formEdit.phone,callback:function(e){t.$set(t.formEdit,"phone",e)},expression:"formEdit.phone"}})],1):a("div",[t.profileData.phone?a("h5",[t._v(t._s(t.profileData.phone))]):a("h5",[t._v("-")])])]),t._v(" "),a("li",[a("p",[t._v(t._s(t.lang.email))]),t._v(" "),t.isEditing?a("div",[a("el-input",{model:{value:t.formEdit.email,callback:function(e){t.$set(t.formEdit,"email",e)},expression:"formEdit.email"}})],1):a("div",[t.profileData.email?a("h5",[t._v(t._s(t.profileData.email))]):a("h5",[t._v("-")])])]),t._v(" "),a("li",[a("p",[t._v(t._s(t.lang.address))]),t._v(" "),t.isEditing?a("div",[a("el-input",{model:{value:t.formEdit.address,callback:function(e){t.$set(t.formEdit,"address",e)},expression:"formEdit.address"}})],1):a("div",[t.profileData.address?a("h5",[t._v(t._s(t.profileData.address))]):a("h5",[t._v("-")])])]),t._v(" "),t.isEditing?a("li",[a("p",[t._v(t._s(t.lang.country))]),t._v(" "),a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select,size:"small"},on:{change:t.editCountry},model:{value:t.formEdit.country,callback:function(e){t.$set(t.formEdit,"country",e)},expression:"formEdit.country"}},t._l(t.country,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1):t._e(),t._v(" "),t.isEditing?a("li",[a("p",[t._v(t._s(t.lang.province))]),t._v(" "),a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select,size:"small"},on:{change:t.editStateCountry},model:{value:t.profileData.state_name,callback:function(e){t.$set(t.profileData,"state_name",e)},expression:"profileData.state_name"}},t._l(t.stateCountry,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1):t._e(),t._v(" "),t.isEditing?a("li",[a("p",[t._v(t._s(t.lang.city))]),t._v(" "),a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select,size:"small"},on:{change:t.editCity},model:{value:t.profileData.city_name,callback:function(e){t.$set(t.profileData,"city_name",e)},expression:"profileData.city_name"}},t._l(t.shippingCity,function(t){return a("el-option",{key:t.id,attrs:{label:t.city,value:t.id}})}),1)],1):t._e(),t._v(" "),t.isEditing?a("li",[a("p",[t._v(t._s(t.lang.district))]),t._v(" "),a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select,size:"small"},on:{change:t.editSubdistrict},model:{value:t.profileData.city_subdistrict_name,callback:function(e){t.$set(t.profileData,"city_subdistrict_name",e)},expression:"profileData.city_subdistrict_name"}},t._l(t.subDistrict,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1):t._e(),t._v(" "),t.isEditing?a("li",[a("p",[t._v(t._s(t.lang.postal_code))]),t._v(" "),a("el-input",{model:{value:t.formEdit.postalCode,callback:function(e){t.$set(t.formEdit,"postalCode",e)},expression:"formEdit.postalCode"}})],1):t._e()])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("h4",{staticClass:"font-bold font-14"},[t._v(t._s(t.$lang[t.langId].credit_limit))]),t._v(" "),t.isEditing?a("div",{staticClass:"el-input el-input--mini"},[a("input-money",{model:{value:t.formEdit.credit_limit,callback:function(e){t.$set(t.formEdit,"credit_limit",e)},expression:"formEdit.credit_limit"}})],1):a("div",[a("h5",[t._v(t._s(t.profileData.fredit_limit))])])]),t._v(" "),t.isEditing?t._e():a("div",{staticClass:"col-md-4"},[a("h4",{staticClass:"font-bold font-14"},[t._v(t._s(t.rootLang.outstanding_payment))]),t._v(" "),a("h5",[t._v(t._s(t.profileData.foutstanding_payment))])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("h4",{staticClass:"font-bold font-14"},[t._v(t._s(t.$lang[t.langId].is_frozen))]),t._v(" "),t.isEditing?a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.formEdit.is_frozen,callback:function(e){t.$set(t.formEdit,"is_frozen",e)},expression:"formEdit.is_frozen"}}),t._v(" "),0===t.formEdit.is_frozen?a("span",[t._v(t._s(t.lang.no))]):t._e(),t._v(" "),1===t.formEdit.is_frozen?a("span",[t._v(t._s(t.lang.yes))]):t._e()],1):a("div",[null===t.profileData.is_frozen?a("h5",[t._v("-")]):t._e(),t._v(" "),0===t.profileData.is_frozen?a("h5",[t._v(t._s(t.lang.no))]):t._e(),t._v(" "),1===t.profileData.is_frozen?a("h5",[t._v(t._s(t.lang.yes))]):t._e()])]),t._v(" "),a("div",{staticClass:"col-md-4"},[a("h4",{staticClass:"font-bold font-14"},[t._v(t._s(t.lang.notes))]),t._v(" "),t.isEditing?a("div",[a("el-input",{attrs:{type:"textarea"},model:{value:t.formEdit.notes,callback:function(e){t.$set(t.formEdit,"notes",e)},expression:"formEdit.notes"}})],1):a("div",[t.profileData.notes?a("h5",[t._v(t._s(t.profileData.notes))]):a("h5",[t._v(t._s(t.$lang[t.langId].there_is_no))])])])])])])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.deleteDialog,width:"50%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.deleteDialog=e}}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("svg-icon",{staticStyle:{stroke:"#F44336"},attrs:{"icon-class":"alert-triangle"}}),t._v("\n      "+t._s(t.lang.notif_warn)+"\n    ")],1),t._v(" "),a("div",{staticClass:"text-center"},[a("p",[t._v(t._s(t.$lang[t.langId].are_you_want_remove)+" "+t._s(t.lang.customer))]),t._v(" "),a("h5",[t._v(t._s(t.profileData.name))])]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.deleteDialog=!1}}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.deleteHandle}},[t._v(t._s(t.$lang[t.langId].delete))])],1)])],1)},r=[]},sE6r:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a("QbLZ")),r=a("xCek"),s=o(a("vDqi")),n=o(a("Ckak"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={name:"CustomerDetailProfile",props:["dataDetail"],components:{InputMoney:n.default},data:function(){return{loading:!1,profileData:{},isEditing:!1,deleteDialog:!1,customerType:[],country:[],stateCountry:[],shippingCity:[],subDistrict:[],formEdit:{nameHeader:"",code:"",customerTypes:0,companyName:"",dob:"",switchValue:0,is_frozen:0,phone:null,email:"",address:"",country:"",stateCountry:"",shippingCity:"",subDistrict:"",postalCode:null,notes:"",expiry_date:""}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},rootLang:function(){return this.$lang[this.langId]}},watch:{dataDetail:{handler:function(t){this.profileData=(0,i.default)({},t)},deep:!0,immediate:!0}},methods:{editHandle:function(){this.profileData.name&&(this.formEdit.nameHeader=this.profileData.name),this.profileData.code&&(this.formEdit.code=this.profileData.code),this.profileData.customer_type_id&&(this.formEdit.customerTypes=this.profileData.customer_type_id),this.profileData.company&&(this.formEdit.companyName=this.profileData.company),this.profileData.accept_newsletter&&(this.formEdit.switchValue=this.profileData.accept_newsletter),this.profileData.address&&(this.formEdit.address=this.profileData.address),this.profileData.email&&(this.formEdit.email=this.profileData.email),this.profileData.phone&&(this.formEdit.phone=this.profileData.phone),this.profileData.country_id&&(this.formEdit.country=this.profileData.country_id),this.profileData.state_id&&(this.formEdit.stateCountry=this.profileData.state_id),this.profileData.city_id&&(this.formEdit.shippingCity=this.profileData.city_id),this.profileData.subdistrict_id&&(this.formEdit.subDistrict=this.profileData.subdistrict_id),this.profileData.postal_code&&(this.formEdit.postalCode=this.profileData.postal_code),this.profileData.notes&&(this.formEdit.notes=this.profileData.notes),this.profileData.credit_limit&&(this.formEdit.credit_limit=this.profileData.credit_limit),this.profileData.is_frozen&&(this.formEdit.is_frozen=this.profileData.is_frozen),null!==this.profileData.expiry_date&&("0000-00-00"===this.profileData.expiry_date?this.formEdit.expiry_date="":this.formEdit.expiry_date=this.profileData.expiry_date),null!==this.profileData.dob&&(this.formEdit.dob=this.profileData.dob),this.getCustomerType(),this.getCountry(),this.getStateCountry(),this.getShippingCity(),this.getSubDistrict(),this.isEditing=!0},cancelHandle:function(){this.isEditing=!1,this.formEdit={nameHeader:"",code:"",customerTypes:0,companyName:"",switchValue:0,phone:null,email:"",address:"",country:"",stateCountry:"",shippingCity:"",subDistrict:"",postalCode:null,notes:""}},saveHandle:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token},a={name:this.formEdit.nameHeader,customer_type_id:this.formEdit.customerTypes,code:this.formEdit.code,company:this.formEdit.companyName,dob:this.formEdit.dob,email:this.formEdit.email,phone:this.formEdit.phone,address:this.formEdit.address,country_id:this.formEdit.country,state_id:this.formEdit.stateCountry,city_id:this.formEdit.shippingCity,subdistrict_id:this.formEdit.subDistrict,postal_code:this.formEdit.postalCode,accept_newsletter:this.formEdit.switchValue,notes:this.formEdit.notes,credit_limit:this.formEdit.credit_limit,is_frozen:this.formEdit.is_frozen,expiry_date:this.formEdit.expiry_date};(0,s.default)({method:"PUT",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"customer/"+this.profileData.id),headers:e,data:a}).then(function(e){t.result=e.data,200===e.data.status?(t.profileData=e.data.data,t.$message({message:"Success",type:"success"})):t.$message({message:"error",type:"error"}),t.loading=!1,t.isEditing=!1}).catch(function(e){t.loading=!1,t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},deleteHandle:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,s.default)({method:"DELETE",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"customer/"+this.profileData.id),headers:e}).then(function(e){t.result=e.data,200===e.data.status&&t.$message({message:"Success",type:"success"}),t.deleteDialog=!1,t.loading=!1,t.deleteBack()}).catch(function(e){t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.deleteDialog=!1,t.loading=!1})},getCustomerType:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,s.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"customertype"),headers:e,params:{search:"",per_page:100}}).then(function(e){t.customerType=e.data.data,t.loading=!1}).catch(function(e){console.log(e),t.loading=!1})},getCountry:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,s.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"shippingcountry"),headers:e,params:{search:"",per_page:1e3}}).then(function(e){t.country=e.data.data,t.loading=!1}).catch(function(e){console.log(e),t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},editCountry:function(t){this.formEdit.country=t,this.formEdit.stateCountry=null,this.profileData.state_name="",this.profileData.city_name="",this.profileData.city_subdistrict_name="",this.formEdit.shippingCity=null,this.formEdit.subDistrict=null,this.getStateCountry()},getStateCountry:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};this.formEdit.country&&this.formEdit.country;(0,s.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"state"),headers:e,params:{per_page:1e3}}).then(function(e){t.stateCountry=e.data.data,t.loading=!1}).catch(function(e){console.log(e),t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},editStateCountry:function(t){this.formEdit.stateCountry=t,this.profileData.city_name="",this.profileData.city_subdistrict_name="",this.formEdit.shippingCity=null,this.formEdit.subDistrict=null,this.getShippingCity()},getShippingCity:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token},a={search_column:"state_id",search_operator:"=",search_text:this.formEdit.stateCountry?this.formEdit.stateCountry:0,per_page:1e3};(0,s.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"shippingcity"),headers:e,params:a}).then(function(e){t.shippingCity=e.data.data,t.loading=!1}).catch(function(e){console.log(e),t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},editCity:function(t){this.formEdit.shippingCity=t,this.profileData.city_subdistrict_name="",this.formEdit.subDistrict=null,this.getSubDistrict()},getSubDistrict:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token},a={search_column:"city_id",search_operator:"=",search_text:this.formEdit.shippingCity?this.formEdit.shippingCity:0};(0,s.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"shippingcitysubdistrict"),headers:e,params:a}).then(function(e){t.subDistrict=e.data.data,t.loading=!1}).catch(function(e){console.log(e),t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},editSubdistrict:function(t){this.formEdit.subDistrict=t},back:function(){this.profileData={},this.$emit("back")},deleteBack:function(){this.profileData={},this.$emit("deleteBack")}}}},tNkc:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("xCek"),r=u(a("vDqi")),s=u(a("Cms1")),n=u(a("ihIy")),o=u(a("Zdze")),l=u(a("aXRS")),c=u(a("wID6")),d=a("Ccnf");function u(t){return t&&t.__esModule?t:{default:t}}e.default={name:"CustomerDetailIndex",props:["detailId"],components:{CustomerProfile:s.default,CustomerOrder:n.default,CustomerItems:o.default,CustomerReturn:l.default,CustomerLoyalty:c.default},mixins:[d.mixinHiddenFeatureByPlanType],data:function(){return{loadingDetail:!1,active_el:1,isProfile:!1,isOrder:!1,isLoyaltyPoints:!1,isReturn:!1,isItems:!1,idDetail:null,profileData:{}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getProfileData()}},created:function(){this.idDetail=this.detailId,this.$route.params.id&&(this.idDetail=this.$route.params.id),this.getProfileData(),this.activate()},mounted:function(){var t=this;this.$nextTick(function(){t.affix(),window.addEventListener("resize",t.affix)})},methods:{affix:function(){var t=this.$refs.innerPageNavigation;if(t){var e=t.parentElement.offsetWidth;t.style.width=e+"px"}},initTabsState:function(){this.isProfile=!1,this.isOrder=!1,this.isItems=!1,this.isReturn=!1,this.isLoyaltyPoints=!1},activateProfile:function(){this.initTabsState(),this.active_el=1,this.isProfile=!0},activateOrder:function(){this.initTabsState(),this.active_el=2,this.isOrder=!0},activateItem:function(){this.initTabsState(),this.active_el=3,this.isItems=!0},activateReturn:function(){this.initTabsState(),this.active_el=4,this.isReturn=!0},activateLoyaltyPoint:function(){this.initTabsState(),this.active_el=5,this.isLoyaltyPoints=!0},activate:function(t){this.active_el=t,this.isProfile=!0},getProfileData:function(){var t=this;this.loadingDetail=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"customer/"+this.idDetail),headers:e}).then(function(e){t.profileData=e.data.data,t.loadingDetail=!1}).catch(function(e){t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loadingDetail=!1,console.log(e)})},backDetail:function(){this.profileData={},this.$emit("back")},deleteDetail:function(){this.profileData={},this.$emit("delete")}}}},wID6:function(t,e,a){"use strict";a.r(e);var i=a("NMgX"),r=a("kQ+S");for(var s in r)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return r[t]})}(s);var n=a("KHd+"),o=Object(n.a)(r.default,i.a,i.b,!1,null,null,null);o.options.__file="CustomerLoyaltyPoints.vue",e.default=o.exports}}]);