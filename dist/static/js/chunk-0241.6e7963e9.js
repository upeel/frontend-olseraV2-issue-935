(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0241"],{"C/FO":function(t,e,o){o("MrV2"),t.exports=o("VSTI").Number.isInteger},MrV2:function(t,e,o){var a=o("USwo");a(a.S,"Number",{isInteger:o("PAC6")})},PAC6:function(t,e,o){var a=o("ekG2"),s=Math.floor;t.exports=function(t){return!a(t)&&isFinite(t)&&s(t)===t}},PyKn:function(t,e,o){"use strict";o.d(e,"a",function(){return a}),o.d(e,"b",function(){return s});var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"content-wrapper"},[o("section",{staticClass:"content"},[o("el-card",{staticClass:"box-card"},[o("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[o("h4",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(t.lang.add)+" "+t._s(t.lang.look_book))]),t._v(" "),o("div",[o("el-button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v(t._s(t.lang.cancel))]),t._v(" "),o("el-button",{attrs:{icon:"el-icon-check",disabled:t.disabledSave,type:"success"},on:{click:t.save}},[t._v("\n            "+t._s(t.lang.save)+"\n          ")])],1)]),t._v(" "),o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"card-body"},[o("el-form",{ref:"packageForm",staticClass:"form-sidebyside",attrs:{model:t.data,rules:t.dataRules}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-6"},[o("div",{staticClass:"open-create-body"},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{md:11}},[o("el-form-item",{staticClass:"form-subtitle",attrs:{label:this.$lang[t.langId].info_combo}})],1)],1),t._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{md:11}},[o("el-form-item",{attrs:{label:t.lang.name,required:!0}})],1),t._v(" "),o("el-col",{attrs:{md:13}},[o("el-form-item",{attrs:{prop:"name"}},[o("el-input",{staticStyle:{width:"100%"},attrs:{type:"text"},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1)],1)],1),t._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{md:11}},[o("el-form-item",{attrs:{label:t.lang.group}},[o("p",[t._v(t._s(t.lang.info_choose_existing_or_add_new))])])],1),t._v(" "),o("el-col",{attrs:{md:13}},[o("el-form-item",{attrs:{prop:"look_book_group"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"","allow-create":"",remote:"","reserve-keyword":"",placeholder:this.$lang[t.langId].please_input+t.lang.look_book_group,"remote-method":t.searchLookbookGroups,loading:t.searchingLookbookGroups},model:{value:t.data.look_book_group,callback:function(e){t.$set(t.data,"look_book_group",e)},expression:"data.look_book_group"}},t._l(t.searchResultLookbookGroups,function(t){return o("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1)],1)],1)]),t._v(" "),o("div",{staticClass:"col-md-6"},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{md:11}},[o("el-form-item",{staticClass:"form-subtitle",attrs:{label:t.$lang[t.langId].product_in_lookbook}})],1)],1),t._v(" "),o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{md:11}},[o("el-form-item",{attrs:{label:t.lang.product,required:!0}},[o("p",[t._v(t._s(t.lang.info_combo_products))])])],1),t._v(" "),o("el-col",{attrs:{md:13}},[o("el-form-item",{attrs:{prop:"relateds"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:t.lang.info_auto_complete_product,"remote-method":t.searchProducts,loading:t.searchingProducts},model:{value:t.data.relateds,callback:function(e){t.$set(t.data,"relateds",e)},expression:"data.relateds"}},t._l(t.searchResultProducts,function(t){return o("el-option",{key:t.product_id,attrs:{label:t.name,value:t.product_id}})}),1)],1)],1)],1)],1)]),t._v(" "),o("hr"),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-2"}),t._v(" "),o("div",{staticClass:"col-md-10",staticStyle:{"padding-left":"70px"}},[o("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:t.data.published,callback:function(e){t.$set(t.data,"published",e)},expression:"data.published"}},[t._v(t._s(t.lang.publish))]),t._v(" "),o("p",{staticStyle:{"padding-left":"25px"}},[t._v(t._s(t.lang.info_publish_to_website))])],1)])])],1)])],1)])},s=[]},ly8o:function(t,e,o){"use strict";o.r(e);var a=o("PyKn"),s=o("nokp");for(var r in s)["default"].indexOf(r)<0&&function(t){o.d(e,t,function(){return s[t]})}(r);var l=o("KHd+"),n=Object(l.a)(s.default,a.a,a.b,!1,null,null,null);n.options.__file="Index.vue",e.default=n.exports},nokp:function(t,e,o){"use strict";o.r(e);var a=o("pkgI"),s=o.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){o.d(e,t,function(){return a[t]})}(r);e.default=s.a},pkgI:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(o("ql3t")),s=n(o("P2sY")),r=o("xCek"),l=n(o("vDqi"));function n(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!1,searchingProducts:!1,searchingLookbookGroups:!1,disabledSave:!0,data:{published:1},searchResultProducts:[],searchResultLookbookGroups:[],dataRules:{name:[{required:!0,message:"This is required field",trigger:"blur"},{min:2,message:"Length should min. 2",trigger:"blur"}]}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{data:{handler:function(t){console.log(t),""!==t.name&&t.relateds&&t.relateds.length>0?this.disabledSave=!1:this.disabledSave=!0},deep:!0,immediate:!0}},methods:{searchProducts:function(t){var e=this;this.searchingProducts=!0;var o={Authorization:"Bearer "+this.token.access_token},a={search_column:"name",search_text:t,sort_column:"name",sort_type:"desc"};t.length>0&&(0,l.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"productsearch"),headers:o,params:a}).then(function(t){e.searchingProducts=!1,e.searchResultProducts=t.data.data.map(function(t){return t})}).catch(function(){e.searchingProducts=!1,e.searchResultProducts=[]})},searchLookbookGroups:function(t){var e=this;this.searchingLookbookGroups=!0;var o={Authorization:"Bearer "+this.token.access_token},a={search:t};t.length>0&&(0,l.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"lookbookgroup"),headers:o,params:a}).then(function(t){e.searchingLookbookGroups=!1,e.searchResultLookbookGroups=t.data.data.map(function(t){return t})}).catch(function(){e.searchingLookbookGroups=!1,e.searchResultLookbookGroups=[]})},save:function(){var t=this;this.searchingProducts=!0,this.disabledSave=!0;var e=(0,s.default)({},this.data);e.relateds=e.relateds.join(","),(0,a.default)(e.look_book_group),e.look_book_group_id=e.look_book_group;var o={Authorization:"Bearer "+this.token.access_token};(0,l.default)({method:"POST",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"lookbook"),headers:o,data:e}).then(function(e){t.searchingProducts=!1,t.disabledSave=!1,t.$router.push({path:"/catalog/lookbook/"+e.data.data.id})}).catch(function(e){console.log(e),t.searchingProducts=!1,t.disabledSave=!1,t.$notify({type:"warning",title:"Error",message:"Error"})})},cancel:function(){this.$router.push({path:"/catalog/lookbook"})}},mounted:function(){}}},ql3t:function(t,e,o){t.exports={default:o("C/FO"),__esModule:!0}}}]);