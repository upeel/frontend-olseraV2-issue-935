(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3fc5","chunk-2563","chunk-25638"],{"1BPP":function(t,e,a){"use strict";
/**
 * Vue Currency Input 1.20.3
 * (c) 2018-2020 Matthias Stiller
 * @license MIT
 */
function i(t,e,a){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!0,a),t.dispatchEvent(i)}a.r(e),a.d(e,"CurrencyDirective",function(){return w}),a.d(e,"CurrencyInput",function(){return P}),a.d(e,"parseCurrency",function(){return p}),a.d(e,"setValue",function(){return m});var n=function(t,e,a){return e&&null!=t?Number(t.toFixed(a).split(".").join("")):t},s=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},r=function(t){return t.replace(/^0+(0$|[^0])/,"$1")},o=function(t,e){return(t.match(new RegExp(s(e),"g"))||[]).length},l=function(t,e){return t.substring(0,e.length)===e},c=function(t,e){return t.substring(0,t.indexOf(e))},d=[",",".","Ù«"],u=function(t){var e=t.currency,a=t.locale,i=t.precision,n=t.autoDecimalMode,s=t.valueAsInteger,r=new Intl.NumberFormat(a,"string"==typeof e?{currency:e,style:"currency"}:{minimumFractionDigits:1}),l=r.format(123456);this.locale=a,this.currency=e,this.digits=[0,1,2,3,4,5,6,7,8,9].map(function(t){return t.toLocaleString(a)}),this.decimalSymbol=o(l,this.digits[0])?l.substr(l.indexOf(this.digits[6])+1,1):void 0,this.groupingSymbol=l.substr(l.indexOf(this.digits[3])+1,1),this.minusSymbol=c(Number(-1).toLocaleString(a),this.digits[1]),void 0===this.decimalSymbol?this.minimumFractionDigits=this.maximumFractionDigits=0:"number"==typeof i?this.minimumFractionDigits=this.maximumFractionDigits=i:"object"!=typeof i||n||s?"string"==typeof e?(this.minimumFractionDigits=r.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=r.resolvedOptions().maximumFractionDigits):this.minimumFractionDigits=this.maximumFractionDigits=2:(this.minimumFractionDigits=i.min||0,this.maximumFractionDigits=void 0!==i.max?i.max:20),"string"==typeof e?(this.prefix=c(l,this.digits[1]),this.negativePrefix=c(r.format(-1),this.digits[1]),this.suffix=l.substring(l.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[6])+1)):(this.prefix=(e||{}).prefix||"",this.negativePrefix=""+this.minusSymbol+this.prefix,this.suffix=(e||{}).suffix||"")};u.prototype.parse=function(t){var e=this.isNegative(t);t=this.normalizeDigits(t),t=this.stripCurrencySymbol(t),t=this.stripMinusSymbol(t);var a=this.decimalSymbol?"("+s(this.decimalSymbol)+"\\d*)?":"",i=t.match(new RegExp("^"+this.integerPattern()+a+"$"));return i?Number((e?"-":"")+this.onlyDigits(i[1])+"."+this.onlyDigits(i[3]||"")):null},u.prototype.format=function(t,e){return void 0===e&&(e={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}),"string"==typeof this.currency?t.toLocaleString(this.locale,Object.assign({},{style:"currency",currency:this.currency},e)):this.insertCurrencySymbol(Math.abs(t).toLocaleString(this.locale,e),t<0||0===t&&1/t<0)},u.prototype.integerPattern=function(){return"(0|[1-9]\\d{0,2}("+s(this.groupingSymbol)+"?\\d{3})*)"},u.prototype.toFraction=function(t){return""+this.digits[0]+this.decimalSymbol+this.onlyLocaleDigits(t.substr(1)).substr(0,this.maximumFractionDigits)},u.prototype.isFractionIncomplete=function(t){return!!this.normalizeDigits(t).match(new RegExp("^"+this.integerPattern()+s(this.decimalSymbol)+"$"))},u.prototype.isNegative=function(t){return l(t,this.negativePrefix)||l(t.replace("-",this.minusSymbol),this.minusSymbol)},u.prototype.insertCurrencySymbol=function(t,e){return""+(e?this.negativePrefix:this.prefix)+t+this.suffix},u.prototype.stripMinusSymbol=function(t){return t.replace("-",this.minusSymbol).replace(this.minusSymbol,"")},u.prototype.stripCurrencySymbol=function(t){return t.replace(this.negativePrefix,"").replace(this.prefix,"").replace(this.suffix,"")},u.prototype.normalizeDecimalSymbol=function(t,e){var a=this;return d.forEach(function(i){t=t.substr(0,e)+t.substr(e).replace(i,a.decimalSymbol)}),t},u.prototype.normalizeDigits=function(t){return"0"!==this.digits[0]&&this.digits.forEach(function(e,a){t=t.replace(new RegExp(e,"g"),a)}),t},u.prototype.onlyDigits=function(t){return this.normalizeDigits(t).replace(/\D+/g,"")},u.prototype.onlyLocaleDigits=function(t){return t.replace(new RegExp("[^"+this.digits.join("")+"]*","g"),"")};var h={locale:void 0,currency:"EUR",valueAsInteger:!1,distractionFree:!0,precision:void 0,autoDecimalMode:!1,valueRange:void 0,allowNegative:!0},p=function(t,e){var a=Object.assign({},h,e),i=new u(a);return n(i.parse(t),a.valueAsInteger,i.maximumFractionDigits)},m=function(t,e){return i(t,"format",{value:e})},f=function(t,e){return t.setSelectionRange(e,e)},g=function(t,e){if(t===e)return!0;if(!t||!e||"object"!=typeof t||"object"!=typeof e)return!1;var a=Object.keys(t);return a.length===Object.keys(e).length&&(!!a.every(Object.prototype.hasOwnProperty.bind(e))&&a.every(function(a){return g(t[a],e[a])}))},v=function(t){this.numberFormat=t};v.prototype.conformToMask=function(t,e){var a=this;void 0===e&&(e="");var i=this.numberFormat.isNegative(t),n=t;n=this.numberFormat.stripCurrencySymbol(n);var s=function(t){if(""===t&&i&&e!==a.numberFormat.negativePrefix)return"";if(a.numberFormat.maximumFractionDigits>0){if(a.numberFormat.isFractionIncomplete(t))return t;if(l(t,a.numberFormat.decimalSymbol))return a.numberFormat.toFraction(t)}return null}(n=this.numberFormat.stripMinusSymbol(n));if(null!=s)return this.numberFormat.insertCurrencySymbol(s,i);var o=n.split(this.numberFormat.decimalSymbol),c=o[0],d=o.slice(1),u=r(this.numberFormat.onlyDigits(c)),h=this.numberFormat.onlyDigits(d.join("")).substr(0,this.numberFormat.maximumFractionDigits),p=d.length>0&&0===h.length,m=""===u&&i&&(e===t.slice(0,-1)||e!==this.numberFormat.negativePrefix);return p||m?e:u.match(/\d+/)?{numberValue:Number((i?"-":"")+u+"."+h),fractionDigits:h}:""};var _=function(t){this.numberFormat=t};_.prototype.conformToMask=function(t){if(""===t)return"";var e=this.numberFormat.isNegative(t),a=""===this.numberFormat.stripMinusSymbol(t)?-0:Number((e?"-":"")+r(this.numberFormat.onlyDigits(t)))/Math.pow(10,this.numberFormat.minimumFractionDigits);return{numberValue:a,fractionDigits:a.toFixed(this.numberFormat.minimumFractionDigits).slice(-this.numberFormat.minimumFractionDigits)}};var k=Math.pow(2,53)-1,b=function(t,e,a){var i=a.$CI_DEFAULT_OPTIONS,n="input"===t.tagName.toLowerCase()?t:t.querySelector("input");if(!n)throw new Error("No input element found");var s=Object.assign({},i||h,e),r=s.distractionFree,o=s.autoDecimalMode,l=s.valueRange;"boolean"==typeof r&&(s.distractionFree={hideCurrencySymbol:r,hideNegligibleDecimalDigits:r,hideGroupingSymbol:r}),s.valueRange=l?{min:void 0!==l.min?Math.max(l.min,-k):-k,max:void 0!==l.max?Math.min(l.max,k):k}:{min:-k,max:k},o?(s.distractionFree.hideNegligibleDecimalDigits=!1,n.setAttribute("inputmode","numeric")):n.setAttribute("inputmode","decimal");var c=new u(s);return n.$ci=Object.assign({},n.$ci||{numberValue:null},{options:s,numberMask:s.autoDecimalMode?new _(c):new v(c),currencyFormat:c}),n},y=function(t,e){var a=t.$ci,s=a.numberValue,r=a.currencyFormat,o=a.options;i(t,e,{numberValue:s=n(s,o.valueAsInteger,r.maximumFractionDigits)})},S=function(t,e,a){void 0===a&&(a=!1);var i=t.$ci,n=i.currencyFormat,s=i.options;C(t,null!=e?n.format(function(t,e){return Math.min(Math.max(t,e.min),e.max)}(e,s.valueRange)):null),(e!==t.$ci.numberValue||a)&&y(t,"change")},C=function(t,e,a){void 0===a&&(a=!1),function(t,e,a){if(null!=e){var i=t.$ci,n=i.focus,s=i.decimalSymbolInsertedAt,r=i.options,o=i.numberMask,l=i.currencyFormat,c=i.previousConformedValue,d=r.allowNegative,u=r.distractionFree;void 0!==s&&(e=l.normalizeDecimalSymbol(e,s),t.$ci.decimalSymbolInsertedAt=void 0);var h,p=o.conformToMask(e,c);if("object"==typeof p){var m=p.numberValue,f=p.fractionDigits,g=l.maximumFractionDigits,v=l.minimumFractionDigits;n&&(v=g),v=a?f.replace(/0+$/,"").length:Math.min(v,f.length),h=m>k?c:l.format(m,{useGrouping:!(n&&u.hideGroupingSymbol),minimumFractionDigits:v,maximumFractionDigits:g})}else h=p;d||(h=h.replace(l.negativePrefix,l.prefix)),n&&u.hideCurrencySymbol&&(h=h.replace(l.negativePrefix,l.minusSymbol).replace(l.prefix,"").replace(l.suffix,"")),t.value=h,t.$ci.numberValue=l.parse(t.value)}else t.value=t.$ci.numberValue=null;t.$ci.previousConformedValue=t.value}(t,e,a),y(t,"input")},x=function(t){t.addEventListener("input",function(e){if(!e.detail){var a=t.value,i=t.selectionStart,n=t.$ci,s=n.currencyFormat,r=n.options;C(t,a),t.$ci.focus&&f(t,function(t,e,a,i,n){var s=i.prefix,r=i.suffix,l=i.decimalSymbol,c=i.maximumFractionDigits,d=i.groupingSymbol,u=e.indexOf(l)+1,h=e.length-a;return Math.abs(t.length-e.length)>1&&a<=u?t.indexOf(l)+1:t.substr(a,1)===d&&o(t,d)===o(e,d)+1?t.length-h-1:(!n.autoDecimalMode&&0!==u&&a>u&&i.onlyDigits(e.substr(u)).length-1===c&&(h-=1),n.distractionFree.hideCurrencySymbol?t.length-h:Math.max(t.length-Math.max(h,r.length),0===s.length?0:s.length+1))}(t.value,a,i,s,r))}},{capture:!0}),t.addEventListener("keypress",function(e){d.includes(e.key)&&(t.$ci.decimalSymbolInsertedAt=t.selectionStart)}),t.addEventListener("format",function(e){var a=t.$ci,i=a.currencyFormat,n=a.options,s=a.numberValue,r=function(t){return n.valueAsInteger&&null!=t?t/Math.pow(10,i.maximumFractionDigits):t}(e.detail.value);s!==r&&S(t,r)}),t.addEventListener("focus",function(){t.$ci.focus=!0;var e=t.$ci.options.distractionFree,a=e.hideCurrencySymbol,i=e.hideGroupingSymbol,n=e.hideNegligibleDecimalDigits;(a||i||n)&&setTimeout(function(){var e=t.value,a=t.selectionStart,i=t.selectionEnd;e&&C(t,e,n),Math.abs(a-i)>0?t.setSelectionRange(0,t.value.length):f(t,function(t,e,a,i){var n=i;return e.distractionFree.hideCurrencySymbol&&(n-=t.prefix.length),e.distractionFree.hideGroupingSymbol&&(n-=o(a.substring(0,i),t.groupingSymbol)),Math.max(0,n)}(t.$ci.currencyFormat,t.$ci.options,e,a))})}),t.addEventListener("blur",function(){t.$ci.focus=!1,null!=t.$ci.numberValue&&S(t,t.$ci.numberValue)}),t.addEventListener("change",function(e){e.detail||y(t,"change")})},w={bind:function(t,e,a){var i=e.value,n=a.context,s=b(t,i,n);x(s),m(s,s.$ci.currencyFormat.parse(s.value))},componentUpdated:function(t,e,a){var i=e.value,n=e.oldValue,s=a.context;if(!g(i,n)){var r=b(t,i,s);S(r,r.$ci.numberValue,!0)}}},P={render:function(t){var e=this;return t("input",{directives:[{name:"currency",value:this.options}],on:Object.assign({},this.$listeners,{change:function(t){t.detail&&e.$emit("change",t.detail.numberValue)},input:function(t){t.detail&&e.value!==t.detail.numberValue&&e.$emit("input",t.detail.numberValue)}})})},directives:{currency:w},name:"CurrencyInput",props:{value:{type:Number,default:null},locale:{type:String,default:void 0},currency:{type:[String,Object],default:void 0},distractionFree:{type:[Boolean,Object],default:void 0},precision:{type:[Number,Object],default:void 0},autoDecimalMode:{type:Boolean,default:void 0},valueAsInteger:{type:Boolean,default:void 0},valueRange:{type:Object,default:void 0},allowNegative:{type:Boolean,default:void 0}},mounted:function(){this.setValue(this.value)},computed:{options:function(){var t=this,e=Object.assign({},this.$CI_DEFAULT_OPTIONS||h);return Object.keys(h).forEach(function(a){void 0!==t[a]&&(e[a]=t[a])}),e}},watch:{value:"setValue"},methods:{setValue:function(t){m(this.$el,t)}}},D={install:function(t,e){void 0===e&&(e={});var a=e.componentName;void 0===a&&(a=P.name);var i=e.directiveName;void 0===i&&(i="currency");var n=e.globalOptions;void 0===n&&(n={}),t.prototype.$CI_DEFAULT_OPTIONS=Object.assign({},h,n),t.component(a,P),t.directive(i,w),t.prototype.$parseCurrency=function(t,e){return void 0===e&&(e={}),p(t,Object.assign({},n,e))}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(D),e.default=D},"4Ysu":function(t,e,a){"use strict";a.r(e);var i=a("IZ0+"),n=a("XjPH");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="duplicateProduct.vue",e.default=o.exports},"5sQC":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"before-close":t.handleClose,"show-close":!1,"append-to-body":"","custom-class":"without-padding mw-1020"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[t._v("\n      "+t._s(t.rootLang.pair_product)+"\n    ")]),t._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:t.handleClose}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{loading:t.loadingSavePair,type:"success"},on:{click:t.handleSavePair}},[t._v(t._s(t.rootLang.pair))])],1)]),t._v(" "),0===t.dataProduct.length?a("div",{staticClass:"no-data-wrapper border border--grey p-32 align-center mt-16",staticStyle:{display:"flex","flex-direction":"column"}},[a("img",{staticClass:"no-data-image",attrs:{src:"/static/img/service-activation/shopee/no-product-shopee.png"}}),t._v(" "),a("div",{staticClass:"text-center word-break",staticStyle:{width:"360px"}},[t._v("Sip! Semua produk di Shopee telah dihubungkan dengan produk di toko Olseramu")])]):[a("div",{staticClass:"table-handler-flex full-width text-right px-8"},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearchByEnter.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingBulk,expression:"loadingBulk"}],attrs:{data:t.dataProd,stripe:"",height:"calc(80vh - 144px)",border:""}},[a("el-table-column",{attrs:{width:"50px"},scopedSlots:t._u([{key:"header",fn:function(e){return[a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})],1)]}},{key:"default",fn:function(e){return[a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:function(a){return t.handleCheck(e.row)}},model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Product Lazada"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pictures,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/lazada.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8 word-break"},[t._v("\n                "+t._s(-1===e.row.name.indexOf(" ")&&e.row.name.length>40?e.row.name.slice(0,40)+" ...":e.row.name)+"\n              ")])])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Stock",width:"100px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"font-14 text-right"},[t._v("\n              "+t._s(e.row.stock)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Product Olsera"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-container full-width px-12 py-8 radius-50 border border--primary",staticStyle:{"max-width":"415px"}},[a("div",{staticClass:"font-14 full-width"},[null===e.row.recommendation?a("div",{staticClass:"pointer",on:{click:function(a){return t.handlePair(e.row)}}},[t._v(t._s(t.rootLang.select)+" Product Olsera")]):null!==e.row.recommendation?a("div",{staticClass:"flex-container full-width",on:{click:function(a){return t.handlePair(e.row)}}},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.recommendation.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",{staticClass:"overflow-ellipsis full-width font-bold font-14 ml-8 word-break"},[t._v("\n                    "+t._s(e.row.recommendation.name)+"\n                    "),a("div",{staticClass:"font-8",attrs:{id:"stock"}},[t._v("\n                      OTOMATIS\n                    ")])]),t._v(" "),a("div",{staticClass:"font-14 text-right",staticStyle:{width:"20%"},attrs:{id:"stock"}},[t._v("\n                    "+t._s(e.row.recommendation.stock_qty)+"\n                  ")])]):t._e()])])]}}])})],1),t._v(" "),t.meta.totalProduct>0?a("div",{staticClass:"border border--grey-border table-handler-bottom text-center"},[a("el-pagination",{staticStyle:{"margin-bottom":"20px"},attrs:{total:t.meta.totalProduct,"page-sizes":[15,50,100],"page-size":t.meta.page_size,"current-page":t.meta.currentPage,background:"",layout:"sizes, prev, pager, next"},on:{"update:currentPage":function(e){return t.$set(t.meta,"currentPage",e)},"update:current-page":function(e){return t.$set(t.meta,"currentPage",e)},"current-change":t.handleChangePage,"size-change":t.handleChangeSizePage}})],1):t._e()],t._v(" "),a("offscreen-sync-product",{attrs:{show:t.visibleSynProduct,"form-edit":t.tempDataSync,"from-bulk":!0},on:{setproduct:t.handleSetProduct,cancel:function(e){t.visibleSynProduct=!1}}})],2)},n=[]},"6h3x":function(t,e,a){"use strict";a.r(e);var i=a("v+jO"),n=a("KWy4");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="offscreenSyncProduct.vue",e.default=o.exports},"71O2":function(t,e,a){"use strict";a.r(e);var i=a("yfP2"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},AwJM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a("m1cH")),n=l(a("QbLZ")),s=l(a("DChC")),r=l(a("XFEm")),o=a("G2h9");function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{CloseEsc:r.default},mixins:[s.default],props:{show:{type:Boolean,default:!1},formEdit:{type:Object,default:null},fromBulk:{type:Boolean,default:!1}},data:function(){return{params:{search:"",per_page:50},dataSearch:[],current_page:0,last_page:0,loadingSearch:!1,selectedProduct:{},loadingPair:!1,imgSearch:"/static/img/service-activation/tokopedia/no_product_search1.png"}},watch:{formEdit:function(t){console.log("tracert",t),t&&(this.formData=(0,n.default)({},t),console.log(this.formData))}},computed:{disabledSave:function(){return!this.selectedProduct.id}},mounted:function(){},methods:{handleSearch:function(t){var e=this;this.loadingSearch=!0,this.selectedProduct={},this.params.page=1,""!==this.params.search?(0,o.searchProduct)(this.params).then(function(a){e.dataSearch=[].concat((0,i.default)(a.data.data)),e.dataSearch.map(function(t,e){t.select=!1}),e.current_page=a.data.meta.current_page,e.last_page=a.data.meta.last_page,e.loadingSearch=!1,t&&(e.dataSearch[0].select=!0,e.selectedProduct=(0,n.default)({},e.dataSearch[0]))}).catch(function(t){e.$message({type:"error",message:t.string}),e.dataSearch=[],e.imgSearch="/static/img/service-activation/tokopedia/no_product_search1.png",e.loadingSearch=!1}):(this.dataSearch=[],this.imgSearch="/static/img/service-activation/tokopedia/no_product_search1.png",this.loadingSearch=!1)},getMoreProduct:function(){var t=this;this.loadingSearch=!0,this.params.page=this.current_page+1,(0,o.searchProduct)(this.params).then(function(e){e.data.data.map(function(e){t.dataSearch.push(e)}),t.dataSearch.map(function(t){t.select=!1}),t.current_page=e.data.meta.current_page,t.last_page=e.data.meta.last_page,t.loadingSearch=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataSearch=[],t.imgSearch="/static/img/service-activation/tokopedia/no_product_search1.png",t.loadingSearch=!1})},handleSelect:function(t){this.selectedProduct=(0,n.default)({},t)},syncProduct:function(){var t=this,e={product_id_lazada:this.formEdit.product_id?this.formEdit.product_id:this.formEdit.product_id_lazada,type:this.formEdit.type,product_id_olsera:this.selectedProduct.id,source_product:this.selectedProduct.type,stock:this.formEdit.stock};this.loadingPair=!0,(0,o.pairProductLazada)(e).then(function(e){t.$message({type:"success",message:e.data.message}),t.handleClose(),t.$emit("pair"),t.loadingPair=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPair=!1})},handleClose:function(){this.selectedProduct={},this.dataSearch=[],this.params={search:"",per_page:50},this.$emit("cancel")},handleSave:function(){this.$emit("setproduct",this.selectedProduct),this.dataSearch=[],this.params.search="",this.selectedProduct={}},searchFromMount:function(t){this.params.search=t.name,this.handleSearch(!0)}}}},DChC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a("QbLZ")),n=s(a("Ljqw"));function s(t){return t&&t.__esModule?t:{default:t}}var r={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var t=this.$store.getters.token;return this.$store.getters.webviewMode&&(t=this.$store.getters.webviewToken),{Authorization:"Bearer "+t.access_token}},baseURL:function(){return n.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var t=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],e=[];return this.$store.getters.stores.map(function(a){e.includes(a.store_id)||a.is_store_active&&(t.push((0,i.default)({},a)),e.push(a.store_id))}),t},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};e.default=r},FyfS:function(t,e,a){t.exports={default:a("fUKC"),__esModule:!0}},G2h9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchProductLazada=function(t){return(0,i.service)({url:"/lazada/product",params:t})},e.getOrderLazada=function(t){return(0,i.service)({url:"/lazada/order",params:t})},e.getLazadaStore=function(t){return(0,i.service)({url:"/lazada/product/seller",params:t})},e.detailOrderLazada=function(t){return(0,i.service)({url:"/lazada/order/detail",params:t})},e.getBulkProductLazada=function(t){return(0,i.service)({url:"/lazada/product/recomendation",params:t})},e.fetchCategoryLazada=function(t){return(0,i.service)({url:"/lazada/category",params:t})},e.setSameStockWithOlsera=function(t){return(0,i.service)({url:"/lazada/product/setting-stock",method:"POST",data:t})},e.saveOrderLazada=function(t){return(0,i.service)({url:"/lazada/order/saveorder",method:"POST",data:t})},e.syncProductLazada=function(){return(0,i.service)({url:"/lazada/product/sync",method:"GET"})},e.getLogsLazada=function(t){return(0,i.service)({url:"/lazada/log-activities",method:"GET",params:t})},e.statusOrderLazada=function(t){return(0,i.service)({url:"/lazada/order/status/update",method:"POST",data:t})},e.pairProductLazada=function(t){return(0,i.service)({url:"/lazada/product/pairing",method:"POST",data:t})},e.searchProduct=function(t){return(0,i.service)({url:"/lazada/product/search",method:"GET",params:t})},e.getAuthLink=function(){return(0,i.service)({url:"/lazada/auth/link?",method:"GET"})},e.authorizationLazada=function(t){return(0,i.service)({url:"/lazada/auth",method:"POST",data:t})},e.updateSingleProductLazada=function(t){return(0,i.service)({url:"/lazada/product/stock-conflict/1",method:"POST",data:t})},e.getdetailOrderLazada=function(t){return(0,i.service)({url:"lazada/order/detail",params:t})},e.pairBulkProduct=function(t){return(0,i.service)({url:"/lazada/product/bulk-pairing",method:"POST",data:t})},e.fetchDataDuplicate=function(t){return(0,i.service)({url:"/lazada/product/duplicate-candidate",method:"GET",params:t})},e.fetchRequiredForm=function(t){return(0,i.service)({url:"/lazada/category/attributes",method:"GET",params:t})},e.fetchBrandLazada=function(t){return(0,i.service)({url:"/lazada/brand",method:"GET",params:t})},e.savePreUpload=function(t){return(0,i.service)({url:"/lazada/product-pre-upload/store",method:"POST",data:t})},e.updatePreUpload=function(t){return(0,i.service)({url:"/lazada/product-pre-upload/"+t.product_id+"/update",method:"PUT",data:t})},e.saveDuplicateProduct=function(t){return(0,i.service)({url:"/lazada/product/store",method:"POST",data:t})},e.saveBulkStore=function(t){return(0,i.service)({url:"/lazada/product/bulk-store",method:"POST",data:t})};var i=a("xCek")},"IZ0+":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left color-white--bg",staticStyle:{"z-index":"10"}},[t._v("\n        Duplikat produk ke Lazada\n        "),a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1),t._v(" "),a("div",{staticClass:"table-handler-flex full-width text-right px-24"},[a("el-input",{staticClass:"inline-form input-search full-width",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearchByEnter.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("perfect-scrollbar",{staticClass:"horizontal-scroll",attrs:{options:t.scrollOption}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],staticClass:"flex-container py-12 px-24"},[a("el-button",{attrs:{type:"info-addon",round:""},on:{click:function(e){return t.showGroup("all")}}},[t._v("\n                Semua\n            ")]),t._v(" "),a("el-button",{attrs:{type:"info-addon",round:""},on:{click:function(e){return t.showGroup("not_duplicate")}}},[t._v("\n                "+t._s(t.rootLang.cant_duplicate)+" ("+t._s(t.dataSummaries.cannot)+")\n            ")]),t._v(" "),a("el-button",{attrs:{type:"info-addon",round:""},on:{click:function(e){return t.showGroup("can_duplicate")}}},[t._v("\n                "+t._s(t.rootLang.can_duplicate)+" ("+t._s(t.dataSummaries.can)+")\n            ")])],1)]),t._v(" "),a("div",{staticClass:"px-12 mt-24"},[a("div",{staticClass:"color-info--bg p-12 flex-container flex-container--start"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey--icon",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",[t._v("\n            "+t._s(t.dataSummaries.cannot)+" produk tidak dapat diduplikasi ke Lazada karena data kurang lengkap. "),a("span",{staticClass:"color-primary pointer",on:{click:function(e){t.showInfoInvalidProduct=!0}}},[t._v(" Selengkapnya ")])])])]),t._v(" "),a("div",{staticClass:"like-table-wrapper border border--table-border mt-24"},[a("div",{staticClass:"flex-container mt-16"},[a("div",{staticClass:"full-width px-24 font-bold font-18"},[t._v(t._s(t.rootLang.select)+" "+t._s(t.lang.product))]),t._v(" "),a("div",{staticClass:"px-24"},[a("el-checkbox",{on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})],1)]),t._v(" "),t._l(t.dataProd,function(e,i){return a("div",{key:i,staticClass:"like-table-wrapper--item pointer"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"mr-8 flex-container full-width",on:{click:function(a){return t.handleEdit(e)}}},[a("div",{staticClass:"flex-container"},[null!==e.Images?a("el-avatar",{attrs:{src:e.Images[0],size:32,shape:"square"}}):t._e(),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/olsera.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8 word-break"},[a("div",{staticClass:"color-primary"},[t._v(t._s(e.name))]),t._v(" "),t.isWarnData(e)?a("div",{staticClass:"color-danger font-12"},[t._v("Data belum lengkap")]):a("div",{staticClass:"font-12"},[t._v(t._s(e.lazada_primary_category_name))]),t._v(" "),a("div",{staticClass:"font-12"},[t._v(t._s(e.price))])])]),t._v(" "),a("div",{staticClass:"font-14 px-12 text-right",staticStyle:{width:"30%"}},[t._v("\n              "+t._s(e.quantity)+"\n            ")]),t._v(" "),a("div",[null!==e.lazada_primary_category_id?a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:function(a){return t.handleCheck(e,i)}},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}})],1):a("div",[a("svg-icon",{staticClass:"mr-8",attrs:{"icon-class":"alert-triangle-yellow"}})],1)])])])})],2),t._v(" "),t.nextPage?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],staticClass:"load-more mt-24",staticStyle:{"margin-bottom":"100px"}},[a("el-button",{staticClass:"btn-block",on:{click:t.loadMore}},[t._v("\n          "+t._s(t.$lang[t.langId].load_more)+"..\n        ")])],1):t._e(),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer color-white--bg"},[a("el-button",{staticClass:"btn-block mt-24 color-lazada--bg color-white",attrs:{loading:t.loadingDuplicate,disabled:t.disabledSave},on:{click:t.saveProductBatch}},[t._v("\n          "+t._s(t.rootLang.duplicate_product)+"\n        ")])],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.showDetailItem,"show-close":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showDetailItem=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n          Lengkapi Data Produk\n        ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.showDetailItem=!1}}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"lazada",loading:t.loadingPreUpload},on:{click:t.handleSaveSingleProduct}},[t._v(t._s(t.lang.save))])]],2),t._v(" "),a("div",[a("div",{staticClass:"px-12 mb-24"},[a("div",{staticClass:"color-info--bg flex-container"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey--icon",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",[t._v("\n              Data produk disini tidak mengubah data produkmu di Olsera\n            ")])])]),t._v(" "),a("div",{staticClass:"flex-container flex-container--start"},[a("div",{staticClass:"mr-8",staticStyle:{width:"30%"}},[a("div",{staticClass:"font-12"},[t._v("Foto Produk")]),t._v(" "),a("div",{staticClass:"flex-container justify-center"},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingUpload,expression:"loadingUpload"}],attrs:{action:t.uploadPhotoUrl,headers:t.headersReverify,"before-upload":t.beforeUpload,"show-file-list":!1,"on-progress":t.handleUploadProgress,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError,"list-type":"document-grabfood"}},[null!==t.tempItem.img_upload?[a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"8px"},attrs:{src:t.tempItem.img_upload.photo_md,alt:""}})]:[t.tempItem.Images.length>0?a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"8px"},attrs:{src:t.tempItem.Images[0],alt:""}}):a("i",{staticClass:"el-icon-camera"})]],2)],1)]),t._v(" "),a("div",{staticClass:"full-width"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.product_name))]),t._v(" "),a("el-input",{model:{value:t.tempItem.name,callback:function(e){t.$set(t.tempItem,"name",e)},expression:"tempItem.name"}}),t._v(" "),a("div",{staticClass:"font-12 mt-12"},[t._v(t._s(t.lang.price))]),t._v(" "),a("input-money",{model:{value:t.tempItem.price,callback:function(e){t.$set(t.tempItem,"price",e)},expression:"tempItem.price"}}),t._v(" "),a("div",{staticClass:"font-11 mt-12 color-info"},[t._v("Harga diambil dari harga Jual Online Produk")]),t._v(" "),a("div",{staticClass:"font-12 mt-12"},[t._v(t._s(t.lang.sku)+" (Stock Keeping Unit)")]),t._v(" "),a("el-input",{attrs:{maxlength:"8"},on:{input:t.handleChange},model:{value:t.tempItem.SellerSku,callback:function(e){t.$set(t.tempItem,"SellerSku",e)},expression:"tempItem.SellerSku"}},[a("template",{slot:"append"},[a("el-button",{attrs:{type:"text"},on:{click:t.getRandom}},[a("svg-icon",{staticClass:"color-info pointer",attrs:{"icon-class":"refresh-ico"}})],1)],1)],2)],1)]),t._v(" "),a("div",{staticClass:"flex-container mt-8"},[a("div",{staticClass:"full-width pr-4"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.stock_qty))]),t._v(" "),a("el-input",{model:{value:t.tempItem.quantity,callback:function(e){t.$set(t.tempItem,"quantity",e)},expression:"tempItem.quantity"}})],1),t._v(" "),a("div",{staticClass:"full-width pl-4"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.weight))]),t._v(" "),a("el-input",{model:{value:t.tempItem.package_weight,callback:function(e){t.$set(t.tempItem,"package_weight",e)},expression:"tempItem.package_weight"}})],1)]),t._v(" "),a("div",{staticClass:"mt-12"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.description))]),t._v(" "),a("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.tempItem.description,callback:function(e){t.$set(t.tempItem,"description",e)},expression:"tempItem.description"}})],1),t._v(" "),a("div",{staticClass:"color-info--bg p-8 mt-24 text-center"},[a("div",{staticClass:"font-12",staticStyle:{color:"#999999"}},[t._v("Kategory Olsera")]),t._v(" "),a("div",{staticClass:"font-bold"},[t._v(t._s(t.tempItem.category_name))])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingRequired,expression:"loadingRequired"}],staticClass:"mt-24"},[a("div",{staticClass:"font-12"},[t._v("Kategory Lazada")]),t._v(" "),a("el-autocomplete",{staticClass:"full-width",attrs:{"fetch-suggestions":t.getCategorySearch,placeholder:"Search Category"},on:{select:t.handleGetRequired},model:{value:t.tempItem.lazada_primary_category_name,callback:function(e){t.$set(t.tempItem,"lazada_primary_category_name",e)},expression:"tempItem.lazada_primary_category_name"}})],1),t._v(" "),t.tempItem.formRequired?t._l(t.tempItem.formRequired,function(e,i){return a("div",{key:i,staticClass:"mt-24"},["singleSelect"!==e.input_type?[a("div",{staticClass:"font-12 mt-16"},[t._v(t._s(e.label))]),t._v(" "),a("el-input",{attrs:{type:e.input_type},on:{input:t.handleChangeInput},model:{value:t.tempItem.formRequired[i].value,callback:function(e){t.$set(t.tempItem.formRequired[i],"value",e)},expression:"tempItem.formRequired[idx].value"}})]:"singleSelect"===e.input_type?[a("div",{staticClass:"font-12 mt-16"},[t._v(t._s(e.label))]),t._v(" "),a("el-autocomplete",{staticClass:"full-width",attrs:{"fetch-suggestions":t.getBrandLazada,placeholder:"Search Brand"},on:{select:t.selectBrandLazada,input:t.handleChangeInput},model:{value:t.tempItem.formRequired[i].value_name,callback:function(e){t.$set(t.tempItem.formRequired[i],"value_name",e)},expression:"tempItem.formRequired[idx].value_name"}})]:t._e()],2)}):t._e(),t._v(" "),a("div",{staticClass:"mt-24"},[a("el-button",{staticClass:"btn-block",attrs:{loading:t.loadingDuplicate,plain:""},on:{click:t.saveSingleProductBatch}},[t._v(" Duplikat produk ini ")])],1)],2)]),t._v(" "),a("el-dialog",{attrs:{visible:t.showInfoInvalidProduct,"show-close":!1,width:"344px","append-to-body":""},on:{"update:visible":function(e){t.showInfoInvalidProduct=e}}},[a("div",{staticClass:"text-center",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"font-bold"},[t._v("Data produk kurang lengkap")]),t._v(" "),a("div",{staticClass:"word-break",staticStyle:{"font-weight":"normal"}},[t._v("2 produk tidak dapat diduplikasi ke Lazada. Produk di Olsera harus memiliki minimal data-data di bawah ini")])]),t._v(" "),a("div",[a("div",{staticClass:"color-info--bg p-12"},[a("ul",[a("li",[t._v("Foto")]),t._v(" "),a("li",[t._v("Nama Produk")]),t._v(" "),a("li",[t._v("Kategory Lazada")]),t._v(" "),a("li",[t._v("Harga Ritel")]),t._v(" "),a("li",[t._v("Stok")]),t._v(" "),a("li",[t._v("Berat")])])]),t._v(" "),a("div",{staticClass:"mt-24"},[a("el-button",{staticClass:"btn-block",on:{click:function(e){t.showInfoInvalidProduct=!1}}},[t._v("Ok")])],1)])])],1):t._e()])},n=[]},JqEa:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a("FyfS")),n=u(a("m1cH")),s=u(a("QbLZ")),r=u(a("DChC")),o=u(a("XFEm")),l=a("xCek"),c=u(a("Ckak")),d=a("G2h9");function u(t){return t&&t.__esModule?t:{default:t}}e.default={name:"DuplicateProduct",mixins:[r.default],components:{CloseEsc:o.default,InputMoney:c.default},props:{show:{type:Boolean,default:!1},dataProduct:{type:Array,default:[]},fromBulk:{type:Boolean,default:!1},loadingData:{type:Boolean,default:!1},dataSummaries:{type:Object,default:{}},nextPage:{type:String,default:null}},data:function(){return{params:{search:"",per_page:50},tempItem:{Images:[],img_upload:null},showDetailItem:!1,searchCategoryData:[],searchBrandData:[],showInfoInvalidProduct:!1,loadingPair:!1,disabledSave:!1,loadingPreUpload:!1,loadingRequired:!1,loadingDuplicate:!1,scrollOption:{suppressScrollY:!0,suppressScrollX:!1},checkAll:!1,dataChecked:[],loadingUpload:!1,isEdit:!1,search:""}},computed:{dataProd:function(){var t=this;return this.dataProduct.map(function(e){return e.checked=!1,t.dataChecked.length>0&&t.dataChecked.map(function(t){e.uniq_id===t.uniq_id&&(e.checked=!0)}),e})},uploadPhotoUrl:function(){return(0,l.baseApi)(this.selectedStore.url_id,this.langId,"product/upload")},headersReverify:function(){return{Authorization:"Bearer "+this.token.access_token}}},methods:{handleClose:function(){this.$emit("close")},handleEdit:function(t){var e=this;if(this.tempItem=(0,s.default)({},t),this.tempItem.img_upload=null,this.tempItem.formRequired=[],this.isEdit=!1,null===this.tempItem.SellerSku&&this.getRandom(),null!==t.lazada_attributes&&null!==t.lazada_primary_category_id){this.isEdit=!0;var a=[].concat((0,n.default)(t.lazada_attributes)),i={primary_category_id_lazada:t.lazada_primary_category_id};(0,d.fetchRequiredForm)(i).then(function(t){console.log("temp",a),e.tempItem.formRequired=[].concat((0,n.default)(t.data.data)),e.tempItem.formRequired.map(function(t){t.value="","numeric"===t.input_type&&(t.input_type="number"),a.map(function(e){t.name===e.name&&("singleSelect"!==t.input_type?t.value=e.value:(t.value=e.value,t.value_name=e.value_label))})}),e.loadingRequired=!1,e.$forceUpdate()}).catch(function(t){e.loadingRequired=!1,console.log(t)})}this.showDetailItem=!0},getCategorySearch:function(t,e){var a=this,n={sort_column:"name",sort_type:"asc",search:t,per_page:50,search_column:"is_last_level",search_text:1};(0,d.fetchCategoryLazada)(n).then(function(t){var n=!0,s=!1,r=void 0;try{for(var o,l=(0,i.default)(t.data.data);!(n=(o=l.next()).done);n=!0){var c=o.value;c.value=c.name}}catch(t){s=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(s)throw r}}a.searchCategoryData=t.data.data,e(a.searchCategoryData)}).catch(function(t){console.log(t)})},handleGetRequired:function(t){var e=this;console.log("dat",t),this.loadingRequired=!0,this.tempItem.lazada_primary_category_id=t.lazada_category_id;var a={primary_category_id_lazada:t.lazada_category_id};this.tempItem.formRequired=[],(0,d.fetchRequiredForm)(a).then(function(t){console.log("test",t),e.tempItem.formRequired=[].concat((0,n.default)(t.data.data)),e.tempItem.formRequired.map(function(t){t.value="","numeric"===t.input_type&&(t.input_type="number")}),e.loadingRequired=!1,e.$forceUpdate()}).catch(function(t){e.loadingRequired=!1,console.log(t)})},getBrandLazada:function(t,e){var a=this,n={keyword:t};(0,d.fetchBrandLazada)(n).then(function(t){var n=!0,s=!1,r=void 0;try{for(var o,l=(0,i.default)(t.data.data);!(n=(o=l.next()).done);n=!0){var c=o.value;c.value=c.name}}catch(t){s=!0,r=t}finally{try{!n&&l.return&&l.return()}finally{if(s)throw r}}a.searchBrandData=t.data.data,e(a.searchBrandData)}).catch(function(t){console.log(t),e("No Data")})},handleSaveSingleProduct:function(){var t=this;this.loadingPreUpload=!0;var e={product_name:this.tempItem.name,uniq_id:this.tempItem.uniq_id,product_id:this.tempItem.id,has_variant:this.tempItem.has_variant,product_variant_id:this.tempItem.variant_id,product_sku:this.tempItem.SellerSku,product_description:this.tempItem.description,product_weight:this.tempItem.package_weight,product_sell_price:this.tempItem.price,product_stock_qty:this.tempItem.quantity,product_photo:this.tempItem.img_upload,meta:{primary_category_id:this.tempItem.lazada_primary_category_id}};null===e.product_variant_id&&this.$delete(e,"product_variant_id"),null===e.product_photo&&(e.product_photo={file_name:this.tempItem.photo_name}),this.tempItem.formRequired.map(function(t){t.name,e.meta[t.name]=t.value}),console.log("meta",e),this.isEdit?(0,d.updatePreUpload)(e).then(function(e){t.loadingPreUpload=!1,t.showDetailItem=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPreUpload=!1}):(0,d.savePreUpload)(e).then(function(e){t.loadingPreUpload=!1,t.showDetailItem=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPreUpload=!1})},saveProductBatch:function(){var t=this;this.loadingDuplicate=!0;var e={uniq_ids:[]};this.dataChecked.map(function(t){t.checked&&e.uniq_ids.push(t.uniq_id)}),(0,d.saveBulkStore)(e).then(function(e){t.loadingDuplicate=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingDuplicate=!1})},saveSingleProductBatch:function(){var t=this;this.loadingDuplicate=!0;var e=this.tempItem,a={};e.formRequired.map(function(t){a[t.name]=t.value}),e.lazada_attributes=a,(0,d.saveDuplicateProduct)(e).then(function(e){t.loadingDuplicate=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingDuplicate=!1})},selectBrandLazada:function(t){this.tempItem.formRequired.map(function(e){"brand"===e.name&&(e.value=t.id)})},handleChangeInput:function(){this.$forceUpdate()},showGroup:function(t){this.$emit("filter",t)},loadMore:function(){this.$emit("loadmore")},handleCheck:function(t,e){var a=this;if(20!==this.dataChecked.length?this.checkAll=!1:this.checkAll=!0,null===t.lazada_primary_category_id)this.$notify({type:"warning",message:"Silahkan lengkapi data category lazada"}),this.dataProd[e].checked=!1;else{var i=this.dataChecked.some(function(e){return e.uniq_id===t.uniq_id});console.log("ex",i),i?this.dataChecked.map(function(e,i){e.uniq_id===t.uniq_id&&a.dataChecked.splice(i,1)}):null!==t.lazada_primary_category_id&&this.dataChecked.length<20?this.dataChecked.push(t):this.$notify({type:"warning",message:"Max 20 item terpilih"})}this.$forceUpdate()},handleSaveEdit:function(){var t=this,e=this.tempItem,a={};e.formRequired.map(function(t){a[t.name]=t.value}),e.lazada_attributes=a;var i=this.dataChecked.some(function(t){return t.uniq_id===e.uniq_id});console.log("ex",i),i?(this.dataChecked.map(function(a,i){a.uniq_id===e.uniq_id&&t.dataChecked.splice(i,1)}),this.dataChecked.push(e)):null!==e.lazada_primary_category_id&&this.dataChecked.push(e);var n=null;this.dataProduct.map(function(t,a){t.uniq_id===e.uniq_id&&(n=a)}),this.dataProduct[n]=e,this.showDetailItem=!1},beforeUpload:function(t){var e="image/jpeg"===t.type,a="image/png"===t.type;return e||a||this.$message.error(this.$lang[this.langId].error_upload_photo),e||a},handleUploadProgress:function(t){this.loadingUpload=!0},handleUploadSuccess:function(t,e,a){console.log("res",t),this.tempItem.img_upload=t.data[0],this.loadingUpload=!1},handleUploadError:function(t){this.loading=!1,this.loadingUpload=!1,this.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})},handleSearch:function(t){var e={search_text:"",search_column:"name"};""!==t?(this.$set(e,"search_text",t),this.$set(e,"search_column","name")):(this.$delete(e,"search_text"),this.$delete(e,"search_column")),this.$emit("search",e)},handleSearchByEnter:function(){var t={search_text:"",search_column:"name"};""!==this.search?(this.$set(t,"search_text",this.search),this.$set(t,"search_column","name")):(this.$delete(t,"search_text"),this.$delete(t,"search_column")),this.$emit("search",t)},handleCheckAll:function(t){var e=this;console.log("dds",t),t?(this.dataChecked=[],this.dataProd.map(function(t){null!==t.lazada_primary_category_id&&e.dataChecked.length<20&&e.dataChecked.push(t)})):this.dataChecked=[]},randomString:function(t,e){e=e||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var a="",i=0;i<t;i++){var n=Math.floor(Math.random()*e.length);a+=e.substring(n,n+1)}return a},getRandom:function(){this.tempItem.SellerSku=this.randomString(8)},isWarnData:function(t){return null===t.lazada_primary_category_id||(parseInt(t.quantity)<1||(parseInt(t.price)<1e3||(parseInt(t.package_weight)<1||null===t.SellerSku)))}}}},KWy4:function(t,e,a){"use strict";a.r(e);var i=a("AwJM"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},N8vV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a("QbLZ")),n=o(a("DChC")),s=o(a("6h3x")),r=a("G2h9");function o(t){return t&&t.__esModule?t:{default:t}}e.default={name:"DialogBatchPair",components:{offscreenSyncProduct:s.default},mixins:[n.default],props:{show:{type:Boolean,default:!1},dataProduct:{type:Array,default:[]},meta:{type:Object,default:{}},loadingBulk:{type:Boolean,default:!1}},data:function(){return{dataChecked:[],checkAll:!1,visibleSynProduct:!1,tempDataSync:{},loadingSavePair:!1,search:""}},computed:{dataProd:function(){var t=this;return this.dataProduct.map(function(e){return e.checked=!1,t.dataChecked.length>0&&t.dataChecked.map(function(t){e.product_id===t.product_id&&(e.checked=!0,t.recommendation&&(e.recommendation=t.recommendation),t.pair&&(e.pair=t.pair))}),e})},bgOlseradiv:function(){var t=[];return this.dataProduct.map(function(e){t.push("background-color: #FFFFFF")}),t}},methods:{handleCheck:function(t){var e=this;if(console.log("aaa",t),null===t.recommendation&&null===t.pair)this.$notify({type:"warning",message:this.rootLang.please_select_product_olsera});else{var a=this.dataChecked.some(function(e){return e.product_id===t.product_id});console.log("ex",a),a?this.dataChecked.map(function(a,i){a.product_id===t.product_id&&e.dataChecked.splice(i,1)}):t.recommendation&&this.dataChecked.push({product_id:t.product_id,product_id_olsera:t.recommendation.id,source_product:t.recommendation.type,type:t.type,stock:t.stock,recommendation:t.recommendation})}},handleCheckAll:function(t){var e=this;t?(this.dataChecked=[],this.dataProd.map(function(t){t.recomendation?e.dataChecked.push({product_id:t.product_id,product_id_olsera:t.recomendation.id,source_product:t.recomendation.type,type:t.type,stock:t.stock}):t.pair&&e.dataChecked.push({product_id:t.product_id,product_id_olsera:t.pair.id,source_product:t.pair.type,type:t.type,stock:t.stock})}),0===this.dataChecked.length&&(this.$notify({type:"warning",message:this.rootLang.please_select_product_olsera}),this.checkAll=!this.checkAll)):this.dataChecked=[]},setBg:function(t){this.bgOlseradiv[t]="background-color: #0085CD",console.log("aaa",this.bgOlseradiv[t])},setBg1:function(t){this.bgOlseradiv[t]="background-color: #FFFFFF",console.log("aaa",this.bgOlseradiv[t])},handlePair:function(t){this.tempDataSync=(0,i.default)({},t),this.visibleSynProduct=!0},handleSetProduct:function(t){var e=this;console.log("data",t),this.dataProduct.map(function(a){a.product_id===e.tempDataSync.product_id&&(a.pair=(0,i.default)({},t),a.recommendation=(0,i.default)({},t),a.recommendation.stock_qty=a.recommendation.qty,e.handleCheck(a))}),this.visibleSynProduct=!1},handleSavePair:function(){var t=this;this.loadingSavePair=!0,(0,r.pairBulkProduct)(this.dataChecked).then(function(e){console.log("res",e),t.$message({type:"success",message:e.data.message}),t.handleClose(!0),t.loadingSavePair=!1}).catch(function(e){console.log("err",e),t.$message({type:"error",message:e.string}),t.loadingSavePair=!1})},handleClose:function(t){this.dataChecked=[],this.tempDataSync={},t?this.$emit("save"):this.$emit("close")},handleChangePage:function(t){this.$emit("changepage",t)},handleChangeSizePage:function(t){this.meta.page_size=t,this.$emit("changepagesize",t)},handleSearch:function(t){var e={search_text:"",search_column:"name"};""!==t?(this.$set(e,"search_text",t),this.$set(e,"search_column","name")):(this.$delete(e,"search_text"),this.$delete(e,"search_column")),this.$emit("search",e)},handleSearchByEnter:function(){var t={search_text:"",search_column:"name"};""!==this.search?(this.$set(t,"search_text",this.search),this.$set(t,"search_column","name")):(this.$delete(t,"search_text"),this.$delete(t,"search_column")),this.$emit("search",t)}}}},PUrH:function(t,e,a){"use strict";a.r(e);var i=a("N8vV"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},XjPH:function(t,e,a){"use strict";a.r(e);var i=a("JqEa"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},Y7vz:function(t,e,a){"use strict";a.r(e);var i=a("xV6x"),n=a("71O2");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="offscreenDetailProduct.vue",e.default=o.exports},Y9EE:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-fullscreen",{staticClass:"page-fullscreen-blibli",attrs:{title:"Lazada"},on:{close:function(e){return t.$router.push("/service-activation-v2")}},scopedSlots:t._u([{key:"sticky-top",fn:function(){return[a("div",{staticClass:"card-dual"},[a("card-info",{staticClass:"card-dual__item",attrs:{title:t.lazadaStore.shop_name,desc:t.lazadaStore.total_product_lazada+" "+t.lang.product,thumbnail:null!==t.lazadaStore.photo?t.lazadaStore.photo:"/static/img/lazada.png"},scopedSlots:t._u([{key:"button",fn:function(){return[a("el-button",{attrs:{type:"text"},on:{click:t.syncDataProduct}},[t._v("\n            Sinkronkan produk "),a("svg-icon",{attrs:{"icon-class":"refresh-icon"}})],1)]},proxy:!0}])}),t._v(" "),a("card-info",{staticClass:"card-dual__item",attrs:{title:t.selectedStore.name,thumbnail:t.lazadaStore.merchant_olsera.logo,desc:t.lazadaStore.merchant_olsera.total_product+" "+t.lang.product},scopedSlots:t._u([{key:"button",fn:function(){return[1===t.sameStock&&t.totalConflict>0?[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-12"},[a("el-button",{attrs:{type:"warning",round:""},on:{click:function(e){return t.handleSetSameStock(!0)}}},[t._v("Selesaikan "+t._s(t.rootLang.conflict_stock))])],1),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link font-18 color-info"},[a("svg-icon",{attrs:{"icon-class":"more-vertical"}})],1),t._v(" "),a("el-dropdown-menu",{staticStyle:{"background-color":"#F2F2F2"}},[a("el-dropdown-item",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingShowDuplicate,expression:"loadingShowDuplicate"}],staticClass:"color-primary flex-container full-width ml-4 pointer",on:{click:t.handleManageDuplicate}},[a("div",{staticClass:"full-width"},[t._v(" Duplikat product ")]),t._v(" "),a("svg-icon",{staticClass:"font-18",attrs:{"icon-class":"feather-copy"}})],1)])],1)],1)],1)]:[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingShowDuplicate,expression:"loadingShowDuplicate"}],staticClass:"color-primary full-width ml-4 pointer text-right",on:{click:t.handleManageDuplicate}},[t._v("\n              Duplikat product\n              "),a("svg-icon",{staticClass:"font-18",attrs:{"icon-class":"feather-copy"}})],1)]]},proxy:!0}])})],1),t._v(" "),a("div",{staticClass:"flex-container pb-16"},[a("div",{staticClass:"flex-container flex-grow-1"},[a("div",{staticClass:"mr-8"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"mb-4",staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"el-select-etalase",attrs:{filterable:"",placeholder:t.rootLang.select+" Category",size:"medium"},on:{change:t.handleFilterbyCategory},model:{value:t.params.category_id,callback:function(e){t.$set(t.params,"category_id",e)},expression:"params.category_id"}},[a("el-option",{attrs:{label:t.lang.all+" "+t.lang.category,value:0}}),t._v(" "),t._l(t.dataCategory,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.lazada_category_id}})}),t._v(" "),t.moreCategory?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingMoreCategory,expression:"loadingMoreCategory"}],staticClass:"load-more mt-24"},[a("el-button",{staticClass:"btn-block",on:{click:t.loadMoreCategory}},[t._v("\n                    "+t._s(t.$lang[t.langId].load_more)+"\n                  ")])],1):t._e()],2)],1)])]),t._v(" "),a("div",{staticClass:"px-8"},[t._v("|")]),t._v(" "),t.dataProduct.length?[t.conflictStock?a("el-button",{class:t.visibleItem[3]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"warning"},on:{click:function(e){return t.showGroup("conflict")}}},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}}),t._v("\n              "+t._s(t.rootLang.conflict_stock)+"\n          ")],1):t._e(),t._v(" "),a("el-button",{class:t.visibleItem[0]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon"},on:{click:function(e){return t.showGroup("all")}}},[t._v("\n              Semua\n          ")]),t._v(" "),a("el-button",{class:t.visibleItem[1]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon"},on:{click:function(e){return t.showGroup("not_pair")}}},[t._v("\n              Belum Terhubung ("+t._s(t.totalUnpair)+")\n          ")]),t._v(" "),a("el-button",{class:t.visibleItem[2]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon"},on:{click:function(e){return t.showGroup("pair")}}},[a("svg-icon",{staticClass:"color-warning mr-4",attrs:{"icon-class":"link-2"}}),t._v("\n              Terhubung ("+t._s(t.totalPair)+")\n          ")],1)]:t._e()],2),t._v(" "),a("div",{staticClass:"text-right"},[a("div",{staticClass:"table-handler-flex full-width text-right",staticStyle:{display:"unset"}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearchByEnter.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]},proxy:!0},{key:"sticky-bottom",fn:function(){return[t.dataProduct.length?a("card-info",{attrs:{title:"Update Stock ke Lazada"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n        Update Stock ke Lazada\n      ")]},proxy:!0},{key:"button",fn:function(){return[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"full-width text-right px-8"},[a("span",[t._v("Samakan stok dgn Toko Olsera")]),t._v(" "),a("el-switch",{staticClass:"mr-8 ml-8",attrs:{slot:"reference","active-value":1,"inactive-value":0},on:{change:t.handleSetSameStock},slot:"reference",model:{value:t.sameStock,callback:function(e){t.sameStock=e},expression:"sameStock"}})],1)])]},proxy:!0}],null,!1,1245277944)}):t._e()]},proxy:!0}])},[t._v(" "),a("fixed-table",{attrs:{headers:["Produk Lazada","Stok","Produk Olsera","Stok",""],data:t.dataProduct,cols:["product_lazada","stock_lazada","product_olsera","stock_olsera","control"],"fixed-top":"193px","fixed-bottom":"76px","total-data":t.meta.totalProduct,"current-page":t.meta.currentPage,"per-page":t.params.per_page,loading:t.loading,"empty-desc":"Oops, belum ada produk di "+t.selectedStore.name+". Tekan Sinkron Produk lalu hubungkan produk di Lazada ke Toko Olseramu."},on:{changepage:t.handleChangePage,"change-size":t.handleChangeSizePage},scopedSlots:t._u([{key:"header-4",fn:function(){return[a("el-button",{staticClass:"btn-block",attrs:{type:"lazada",loading:t.loadingBulk},on:{click:t.getDataBulkProduct}},[t._v("\n        Sekaligus\n      ")])]},proxy:!0},{key:"product_lazada",fn:function(e){return[a("div",{staticClass:"mr-8 ml-8 flex-container full-width"},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pictures,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/lazada.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8"},[t._v("\n          "+t._s(/^[A-Za-z]+$/.test(e.row.name)?e.row.name:e.row.name.substring(0,30))+"\n        ")])])]}},{key:"stock_lazada",fn:function(e){return[a("div",{class:1===e.row.balance_stock?"font-14 px-8 color-warning":"font-14 px-8",staticStyle:{width:"30%"}},[t._v("\n        "+t._s(e.row.stock)+"\n      ")])]}},{key:"product_olsera",fn:function(e){return[a("div",{staticClass:"font-14 full-width"},[2===e.row.status?a("div",[t._v(t._s(t.rootLang.not_pair))]):t._e(),t._v(" "),1===e.row.status?a("div",{staticClass:"flex-container p-8",staticStyle:{"align-items":"flex-start !important"}},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pair.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8"},[t._v("\n            "+t._s(e.row.pair.name)+"\n            "),a("div",{staticClass:"font-12 color-grey--placeholder"},[t._v(t._s(e.row.pair.sku))])])]):t._e()])]}},{key:"stock_olsera",fn:function(e){return[1===e.row.status?a("div",{staticClass:"font-14",staticStyle:{width:"30%"},attrs:{id:"stock"}},[t._v("\n        "+t._s(e.row.pair.stock)+"\n      ")]):a("div",[t._v("\n        -\n      ")])]}},{key:"control",fn:function(e){return[2===e.row.status?a("el-button",{attrs:{id:e.row.product_id,type:"pair-lazada",round:""},on:{click:function(a){return t.handlePair(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"plus"}}),t._v("\n          Hubungkan\n      ")],1):t._e(),t._v(" "),1===e.row.status&&2===e.row.balance_stock?a("el-button",{attrs:{type:"lazada",round:""},on:{click:function(a){return t.handleDetail(t.idx,e.row)}}},[a("svg-icon",{attrs:{"icon-class":"icon-feather-link"}}),t._v("\n          "+t._s(t.rootLang.paired)+"\n      ")],1):t._e(),t._v(" "),1===e.row.status&&1===e.row.balance_stock?a("el-button",{attrs:{type:"warning",round:""},on:{click:function(a){return t.handleDetail(t.idx,e.row)}}},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}}),t._v("\n          "+t._s(t.rootLang.conflict_stock)+"\n      ")],1):t._e()]}}])}),t._v(" "),t._v(" "),a("el-dialog",{attrs:{visible:t.showSetSameStock,"show-close":!1,"close-on-click-modal":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showSetSameStock=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n        Samakan Stock\n      ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:t.cancelSameStock}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"lazada",loading:t.loadingUpdateStock},on:{click:t.handleUpdateStock}},[t._v(t._s(t.lang.update))])]],2),t._v(" "),a("div",[t.fixStock?a("div",{staticClass:"mb-24 color-warning--bg color-white radius-10 p-8 flex-container"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}})],1),t._v("\n        "+t._s(t.totalConflict)+" produk konflik ditemukan\n      ")]):t._e(),t._v(" "),a("img",{attrs:{src:"/static/img/service-activation/lazada/sync_product.png"}}),t._v(" "),a("div",{staticClass:"mt-24 word-break font-16"},[a("span",{staticClass:"font-bold"},[t._v("Update Stok ke Lazada")]),t._v(" untuk menyamakan stok Lazada dengan stok produk di toko Olseramu\n      ")])])]),t._v(" "),a("el-dialog",{attrs:{visible:t.showUpdateStock,"show-close":!1,"close-on-click-modal":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showUpdateStock=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[[a("close-esc",{attrs:{hideEsc:!0},on:{close:t.cancelSameStock}})]],2),t._v(" "),0===t.sameStock?a("div",[a("img",{attrs:{src:"/static/img/service-activation/lazada/update_stock.png"}}),t._v(" "),a("div",{staticClass:"mt-24 word-break font-16"},[t._v("\n        Stok produk di Lazada saat ini dibolehkan berbeda dengan produk di toko Olseramu. Nyalakan pelatuk untuk menyamakan stok produk Lazada dan Olsera.\n      ")])]):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-block",attrs:{type:"Lazada",loading:t.loadingUpdateStock},on:{click:t.handleUpdateStock}},[t._v("OK")])],1)]),t._v(" "),a("offscreen-sync-product",{ref:"syncproduct",attrs:{show:t.visibleSynProduct,"form-edit":t.formSync},on:{pair:t.refreshData,cancel:t.handleCloseDialogPair}}),t._v(" "),a("offscreen-detail-product",{attrs:{show:t.visibleDetailProduct,"form-edit":t.formDetail},on:{refresh:t.refreshData,cancel:t.handleCloseDialogDetail,resync:t.handleResync}}),t._v(" "),a("duplicate-product",{attrs:{show:t.showManageDuplicate,"data-product":t.dataProductDuplicate,"loading-data":t.loadingShowDuplicate,"data-summaries":t.dataSummaries,"next-page":t.next_page_duplicate},on:{refresh:t.refreshDataDuplicate,search:t.handleSearchDuplicate,close:function(e){t.showManageDuplicate=!1},filter:t.handleFilterDuplicate,loadmore:t.loadMoreDataDuplicate}}),t._v(" "),a("dialog-batch-pair",{attrs:{show:t.showBulkPair,"data-product":t.dataProductBulk,meta:t.metaBulk,"loading-bulk":t.loadingBulk},on:{search:t.handleSearchBulkPair,save:t.saveBulkPair,close:t.closeBulkPair,changepage:t.handleChangePageBulk,changepagesize:t.handleChangeSizePageBulk}}),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[t.visibleLogs?a("div",{staticClass:"offscreen-right-sidebar"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[t._v("\n          History Update Lazada\n          "),a("close-esc",{on:{close:function(e){t.visibleLogs=!1}}})],1),t._v(" "),a("div",{staticStyle:{height:"80%","max-height":"calc(90vh - 48px)",overflow:"auto"}},[t._l(t.dataLogs,function(e,i){return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingLogs,expression:"loadingLogs"}],key:i,staticClass:"like-table-wrapper"},[t._l(t.dataLogs[i],function(e){return a("div",{key:e.id,staticClass:"like-table-wrapper--item"},[[a("div",{staticClass:"font-bold full-width"},[t._v(t._s(e.user))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(e.tanggal))])]],2)}),t._v(" "),t.dataLogs.length>1?a("div",{staticClass:"text-center p-8"},[t._v("page "+t._s(i+1))]):t._e()],2)}),t._v(" "),t.moreLink?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingLogs,expression:"loadingLogs"}],staticClass:"load-more mt-24"},[a("el-button",{staticClass:"btn-block",attrs:{disabled:t.disabledButton},on:{click:t.loadMore}},[t._v("\n              "+t._s(t.$lang[t.langId].load_more)+"\n            ")])],1):t._e()],2)])]):t._e()])],1)},n=[]},"c/H+":function(t,e,a){"use strict";a.r(e);var i=a("5sQC"),n=a("PUrH");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="dialogBatchPair.vue",e.default=o.exports},ddAl:function(t,e,a){"use strict";a.r(e);var i=a("Y9EE"),n=a("nvfS");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="manage.vue",e.default=o.exports},fUKC:function(t,e,a){a("ZY/g"),a("C5kU"),t.exports=a("sbOA")},nvfS:function(t,e,a){"use strict";a.r(e);var i=a("yRbY"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},sbOA:function(t,e,a){var i=a("d+lc"),n=a("I90/");t.exports=a("VSTI").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},"v+jO":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-center color-white--bg",staticStyle:{"z-index":"10"}},[t._v("\n        Hubungkan ke Toko Olsera\n        "),a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1),t._v(" "),a("div",{staticClass:"p-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"flex-container full-width"},[a("div",[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:32,shape:"square"}}),t._v(" "),a("el-avatar",{staticClass:"mr-4",staticStyle:{position:"absolute",left:"50px"},attrs:{src:"/static/img/lazada.png",size:20}})],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                  "+t._s(t.formEdit.name)+"\n                ")]),t._v(" "),""!==t.formEdit.sku&&null!==t.formEdit.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+" â¢ "+t._s(t.formEdit.sku)+"\n                ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+"\n                ")])])])]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{width:"30%"}},[t._v("\n            "+t._s(t.formEdit.stock)+" stock\n          ")])])]),t._v(" "),a("div",{staticClass:"table-handler-flex full-width text-right px-24"},[a("el-input",{staticClass:"inline-form input-search full-width",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:function(e){return t.handleSearch(!1)}},model:{value:t.params.search,callback:function(e){t.$set(t.params,"search",e)},expression:"params.search"}})],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSearch,expression:"loadingSearch"}],staticClass:"p-24 text-center mb-42"},[0===t.dataSearch.length?a("div",[a("img",{attrs:{src:t.imgSearch}})]):a("div",[t._l(t.dataSearch,function(e){return a("div",{key:e.id,staticClass:"like-table-wrapper--item pointer flex-container",class:t.selectedProduct&&t.selectedProduct.id===e.id?"active":"",attrs:{id:"here"},on:{click:function(a){return t.handleSelect(e)}}},[a("div",{staticClass:"full-width text-left"},[a("div",{staticClass:"flex-container full-width"},[a("el-avatar",{attrs:{src:e.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"container-icon",staticStyle:{position:"absolute","align-items":"unset !important",left:"50px"}},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                    "+t._s(e.name)+"\n                  ")]),t._v(" "),null!==e.sku&&""!==e.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                    "+t._s(e.fsell_price)+" â¢ "+t._s(e.sku)+"\n                  ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                    "+t._s(e.fsell_price)+"\n                  ")])])],1)]),t._v(" "),t.selectedProduct&&t.selectedProduct.id===e.id?a("div",{staticClass:"container-icon"},[a("svg-icon",{attrs:{"icon-class":"awesome-check-circle"}})],1):a("div",{staticClass:"text-right",staticStyle:{width:"40%"}},[t._v("\n              "+t._s(e.qty)+" stock\n            ")])])}),t._v(" "),t.last_page>t.current_page?a("el-button",{staticClass:"btn-block mt-24",on:{click:t.getMoreProduct}},[t._v("\n            "+t._s(t.rootLang.load_more)+"\n          ")]):t._e()],2)]),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer"},[t.fromBulk?a("el-button",{staticClass:"btn-block mt-24",attrs:{loading:t.loadingPair,disabled:t.disabledSave,type:"success"},on:{click:t.handleSave}},[t._v("\n          "+t._s(t.rootLang.save)+"\n        ")]):a("el-button",{staticClass:"btn-block mt-24",attrs:{loading:t.loadingPair,disabled:t.disabledSave,type:"success"},on:{click:t.syncProduct}},[t._v("\n          "+t._s(t.rootLang.pair)+"\n        ")])],1)])]):t._e()])},n=[]},xV6x:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left color-white--bg",staticStyle:{"z-index":"10"}},[a("span",{staticClass:"px-16"},[t._v("Detail Produk")]),t._v(" "),a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1),t._v(" "),a("div",{staticClass:"p-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"flex-container full-width"},[a("div",[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:32,shape:"square"}}),t._v(" "),a("el-avatar",{staticClass:"mr-4",staticStyle:{position:"absolute",left:"50px"},attrs:{src:"/static/img/lazada.png",size:20}})],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                  "+t._s(t.formEdit.name)+"\n                ")]),t._v(" "),""!==t.formEdit.sku&&null!==t.formEdit.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+" â¢ "+t._s(t.formEdit.sku)+"\n                ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+"\n                ")])])])])])]),t._v(" "),a("div",{staticClass:"px-24"},[a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.unit_price))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.price))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.stock_product))]),t._v(" "),a("div",{class:1===parseInt(t.formEdit.balance_stock)?"full-width text-right color-warning":"full-width text-right"},[t._v(t._s(t.formEdit.stock))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.category))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.category))])])]),t._v(" "),a("div",{staticClass:"p-24"},[a("span",{staticClass:"font-24 font-bold"},[t._v("Terhubung Dengan")])]),t._v(" "),a("div",{staticClass:"p-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:t.formEdit.pair.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"container-watermark-olsera color-white--bg"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                  "+t._s(t.formEdit.pair.name)+"\n                ")]),t._v(" "),""!==t.formEdit.pair.sku&&null!==t.formEdit.pair.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.pair.fsell_price)+" â¢ "+t._s(t.formEdit.pair.sku)+"\n                ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.fsell_price)+"\n                ")])])])])])]),t._v(" "),a("div",{staticClass:"px-24"},[a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.unit_price))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair.fsell_price))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.stock_product))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair.stock))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.category))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.category))])])]),t._v(" "),1===parseInt(t.formEdit.balance_stock)?a("div",{staticClass:"px-24 pt-24",staticStyle:{"margin-bottom":"-6px"}},[a("el-button",{staticClass:"btn-block",attrs:{type:"warning"},on:{click:function(e){t.showUpdateStock=!0}}},[t._v("\n          Selesaikan "+t._s(t.rootLang.conflict_stock)+"\n        ")])],1):t._e(),t._v(" "),a("div",{staticClass:"p-24"},[a("el-button",{staticClass:"btn-block",attrs:{type:"info",loading:t.loadingPair},on:{click:t.resyncProduct}},[t._v("\n          Hubungkan Ulang\n        ")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.showUpdateStock,"show-close":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showUpdateStock=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n          Update Stock\n        ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.showUpdateStock=!1}}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"lazada",loading:t.loadingUpdateStock},on:{click:t.updateStock}},[t._v(t._s(t.lang.update))])]],2),t._v(" "),a("div",[a("div",{staticClass:"flex-container justify-center"},[a("div",[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:88,shape:"square"}}),t._v(" "),a("el-image",{staticStyle:{position:"absolute",left:"68px"},attrs:{src:"/static/img/service-activation/tokopedia/source_indicator.png",size:40}})],1),t._v(" "),a("div",{staticClass:"color-warning font-40 font-bold ml-24"},[t._v(t._s(t.formEdit.stock))]),t._v(" "),a("div",[a("el-image",{attrs:{src:"/static/img/service-activation/tokopedia/arrow_right.png",size:40}})],1),t._v(" "),a("div",{staticClass:"avatar-tokped text-right",style:"background-image: url("+t.formEdit.pictures+")"},[a("div",{staticClass:"watermark-lazada color-white--bg fl-right flex-container"})]),t._v(" "),a("div",{staticClass:"color-warning font-40 font-bold ml-24"},[t._v(t._s(t.formEdit.pair.stock))])]),t._v(" "),a("div",{staticClass:"mt-24 word-break"},[a("span",{staticClass:"font-bold"},[t._v("Update")]),t._v(" untuk menyamakan stok Lazada dengan stok produk di toko Olseramu\n        ")])])])],1):t._e()])},n=[]},yRbY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=b(a("YEIV")),s=b(a("14Xm")),r=b(a("D3Ub")),o=b(a("QbLZ")),l=b(a("m1cH")),c=b(a("+YKo")),d=b(a("5fdr")),u=b(a("NgTd")),h=b(a("DChC")),p=b(a("+5/E")),m=b(a("XFEm")),f=a("G2h9"),g=b(a("6h3x")),v=b(a("Y7vz")),_=b(a("c/H+")),k=b(a("4Ysu"));function b(t){return t&&t.__esModule?t:{default:t}}e.default={components:{PageFullscreen:c.default,FixedTable:d.default,CardInfo:u.default,FloatingDiv:p.default,CloseEsc:m.default,offscreenSyncProduct:g.default,offscreenDetailProduct:v.default,dialogBatchPair:_.default,duplicateProduct:k.default},mixins:[h.default],data:function(){return{loading:!1,data:[],dataLogs:[],visibleLogs:!1,loadingLogs:!1,moreLink:!1,dataLogForView:[],visibleItem:[!1,!1,!1,!1],dataProduct:[],activeButton:[],totalPair:0,totalUnpair:0,totalConflict:0,dataCategory:[],visibleSynProduct:!1,formSync:{},visibleDetailProduct:!1,formDetail:{},params:{per_page:15,category_id:0},search:"",meta:{totalProduct:0,currentPage:0},metaBulk:{totalProduct:0,currentPage:0,page_size:15},etalase:0,sameStock:1,visibleShow:!1,showUpdateStock:!1,loadingSameStock:!1,conflictStock:!1,loadingBulk:!1,showBulkPair:!1,paramsbulk:{page:1,per_page:15,status_recomendation:0,status:2},dataProductBulk:[],loadingUpdateStock:!1,lazadaStore:{},fixStock:!1,showSetSameStock:!1,moreCategory:!1,loadingMoreCategory:!1,currentPageCategory:1,showManageDuplicate:!1,dataProductDuplicate:[],loadingShowDuplicate:!1,paramsDuplicate:{per_page:20,page:1},dataSummaries:{can:"",cannot:""},next_page_duplicate:null,dataCheckedDuplicate:[],visibleOverlayLoading:!1}},computed:{},watch:{},mounted:function(){this.getData(),this.getCategoryLazada(),this.getStoreDetail(),this.getUpdateLogs()},methods:(i={getData:function(){var t=this;this.dataProduct=[],this.totalPair=0,this.totalUnpair=0,this.totalConflict=0,this.conflictStock=!1,this.meta={totalProduct:0,currentPage:0},this.loading=!0,(0,f.fetchProductLazada)(this.params).then(function(e){t.dataProduct=[].concat((0,l.default)(e.data.data)),t.dataProduct.map(function(e){t.activeButton.push(!1)}),console.log("r",t.dataProduct.length),t.totalPair=e.data.total_pair,t.totalUnpair=e.data.total_unpair,t.totalConflict=e.data.total_unbalance_stock,t.conflictStock=e.data.total_unbalance_stock>0,t.meta.totalProduct=e.data.meta.total,t.meta.currentPage=e.data.meta.current_page,t.formDetail&&t.formDetail.product_id&&t.dataProduct.map(function(e){e.product_id===t.formDetail.product_id&&(t.formDetail=(0,o.default)({},e))}),t.sameStock=e.data.setting_stock,t.loading=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loading=!1})},getCategoryLazada:function(){var t=this;this.loading=!0,(0,f.fetchCategoryLazada)({per_page:50}).then(function(e){t.dataCategory=e.data.data,null!==e.data.links.next?t.moreCategory=!0:t.moreCategory=!1,t.currentPageCategory=e.data.meta.current_page,t.loading=!1}).catch(function(e){t.$message({type:"error",message:e.string}),console.log("cate",e),t.loading=!1})},loadMoreCategory:function(){var t=this;this.loadingMoreCategory=!0,(0,f.fetchCategoryLazada)({per_page:50,page:this.currentPageCategory+1}).then(function(e){e.data.data.map(function(e){t.dataCategory.push(e)}),null!==e.data.links.next?t.moreCategory=!0:t.moreCategory=!1,t.currentPageCategory=e.data.meta.current_page,t.loadingMoreCategory=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingMoreCategory=!1})},syncDataProduct:function(){var t=this;this.loading=!0,(0,f.syncProductLazada)().then(function(e){t.$message({type:"success",message:e.data.message}),t.loading=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loading=!1})},getUpdateLogs:function(){var t=this;this.loading=!0,(0,f.getLogsLazada)({per_page:15,sort:"desc"}).then(function(e){t.dataLogForView=e.data.data[0],t.dataLogs.push(e.data.data),null!==e.data.links.next?t.moreLink=!0:t.moreLink=!1,t.current_page=e.data.meta.current_page,t.loading=!1}).catch(function(e){t.dataLog=[],404!==e.statusCode&&t.$message({type:"error",message:e.string}),console.log("logs",e),t.loading=!1})},loadMore:function(){var t=this;this.loadingLogs=!0,(0,f.getLogsLazada)({per_page:15,page:this.current_page+1}).then(function(e){t.dataLogs.push(e.data.data),null!==e.data.links.next?t.moreLink=!0:t.moreLink=!1,t.current_page=e.data.meta.current_page,t.loadingLogs=!1}).catch(function(e){t.dataLog=[],t.$message({type:"error",message:e.string}),t.loadingLogs=!1})},refreshData:function(){this.getData(),this.getCategoryLazada()},handlePair:function(t){this.$refs.syncproduct.searchFromMount(t),this.visibleSynProduct=!0,this.formSync=t},handleDetail:function(t,e){console.log("aa",e),this.formDetail=e,this.visibleDetailProduct=!0},handleCloseDialogPair:function(){this.getData(),this.visibleSynProduct=!1},handleCloseDialogDetail:function(){this.formDetail={},this.visibleDetailProduct=!1},handleResync:function(t){this.visibleDetailProduct=!1,this.handlePair(t)},handleSearch:function(t){console.log("data",t),""!==t?(this.$set(this.params,"search_text",t),this.$set(this.params,"search_column","name")):(this.$delete(this.params,"search_text"),this.$delete(this.params,"search_column")),this.getData()},handleSearchByEnter:function(){""!==this.search?(this.$set(this.params,"search_text",this.search),this.$set(this.params,"search_column","name")):(this.$delete(this.params,"search_text"),this.$delete(this.params,"search_column")),this.getData()},showGroup:function(t){"all"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[0]=!0,this.params={per_page:this.params.per_page}),"not_pair"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[1]=!0,this.params={per_page:this.params.per_page,status:2}),"pair"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[2]=!0,this.params={per_page:this.params.per_page,status:1}),"conflict"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[3]=!0,this.params={per_page:this.params.per_page,status:1,balance_stock:1}),""!==this.search?(this.$set(this.params,"search_text",this.search),this.$set(this.params,"search_column","name")):(this.$delete(this.params,"search_text"),this.$delete(this.params,"search_column")),this.getData()},handleChangePage:function(t){this.meta.currentPage=t,this.$set(this.params,"page",t),this.getData()},handleChangeSizePage:function(t){this.meta.currentPage=1,this.params.per_page=t,this.params.page=1,this.getData()},handleFilterbyCategory:function(t){this.params.page=1,this.params.search_column="category_id",this.params.search_text=t,this.getData()}},(0,n.default)(i,"refreshData",function(){this.getData()}),(0,n.default)(i,"cancelSameStock",function(){this.fixStock?(this.showSetSameStock=!1,this.fixStock=!1):(0===this.sameStock?this.sameStock=1:this.sameStock=0,this.showUpdateStock=!1,this.showSetSameStock=!1)}),(0,n.default)(i,"handleSetSameStock",function(t){0===this.sameStock&&(this.showUpdateStock=!0),1===this.sameStock&&(this.fixStock=!!t,this.showSetSameStock=!0)}),(0,n.default)(i,"setSameStock",function(){var t=this;return(0,r.default)(s.default.mark(function e(){var a;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={setting_stock:t.sameStock},t.loadingSameStock=!0,e.next=4,(0,f.setSameStockWithOlsera)(a).then(function(e){t.$message({type:"success",message:"Berhasil update data Tokopedia"}),t.showSetSameStock=!1,t.showUpdateStock=!1,t.loadingSameStock=!1,t.loadingUpdateStock=!1,t.refreshData()}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingSameStock=!1,t.loadingUpdateStock=!1,t.refreshData()});case 4:case"end":return e.stop()}},e,t)}))()}),(0,n.default)(i,"handleUpdateStock",function(){this.loadingUpdateStock=!0,this.setSameStock()}),(0,n.default)(i,"getDataBulkProduct",function(){var t=this;this.loadingBulk=!0,(0,f.getBulkProductLazada)(this.paramsbulk).then(function(e){t.showBulkPair=!0,t.dataProductBulk=e.data.data,t.dataProductBulk.map(function(t){t.pair=null}),t.metaBulk.totalProduct=e.data.meta.total,t.metaBulk.currentPage=e.data.meta.current_page,t.loadingBulk=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingBulk=!1})}),(0,n.default)(i,"handleChangePageBulk",function(t){console.log(t),this.metaBulk.currentPage=t,this.paramsbulk.page=t,this.getDataBulkProduct()}),(0,n.default)(i,"handleChangeSizePageBulk",function(t){this.metaBulk.currentPage=1,this.paramsbulk.per_page=t,this.paramsbulk.page=1,this.getDataBulkProduct()}),(0,n.default)(i,"saveBulkPair",function(){this.getData(),this.paramsbulk.per_page=15,this.paramsbulk.page=0,this.metaBulk.currentPage=0,this.metaBulk.page_size=15,this.showBulkPair=!1}),(0,n.default)(i,"closeBulkPair",function(){this.paramsbulk.per_page=15,this.paramsbulk.page=0,this.metaBulk.currentPage=0,this.metaBulk.page_size=15,this.showBulkPair=!1}),(0,n.default)(i,"getStoreDetail",function(){var t=this;(0,f.getLazadaStore)().then(function(e){t.lazadaStore=e.data.data}).catch(function(e){t.$message({type:"error",message:e.string})})}),(0,n.default)(i,"handleManageDuplicate",function(){var t=this;this.loadingShowDuplicate=!0,this.dataProductDuplicate=[],(0,f.fetchDataDuplicate)(this.paramsDuplicate).then(function(e){t.dataProductDuplicate=e.data.data.data,t.dataProductDuplicate.map(function(e){null!==e.lazada_primary_category_id&&t.dataCheckedDuplicate.push(e)}),t.dataSummaries.can=e.data.data.total_can,t.dataSummaries.cannot=e.data.data.total_cannot,t.next_page_duplicate=e.data.data.next_page_url,t.loadingShowDuplicate=!1,t.showManageDuplicate=!0}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataProductDuplicate=[],t.loadingShowDuplicate=!1})}),(0,n.default)(i,"refreshDataDuplicate",function(){this.handleManageDuplicate()}),(0,n.default)(i,"handleFilterDuplicate",function(t){"all"===t&&this.$delete(this.paramsDuplicate,"can_duplicate"),"can_duplicate"===t&&(this.paramsDuplicate.can_duplicate=1),"not_duplicate"===t&&(this.paramsDuplicate.can_duplicate=0),this.handleManageDuplicate()}),(0,n.default)(i,"loadMoreDataDuplicate",function(){var t=this;this.loadingShowDuplicate=!0,this.paramsDuplicate.page+=1,(0,f.fetchDataDuplicate)(this.paramsDuplicate).then(function(e){e.data.data.data.map(function(e){t.dataProductDuplicate.push(e)}),t.dataSummaries.can=e.data.data.total_can,t.dataSummaries.cannot=e.data.data.total_cannot,t.next_page_duplicate=e.data.data.next_page_url,t.loadingShowDuplicate=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataProductDuplicate=[],t.loadingShowDuplicate=!1})}),(0,n.default)(i,"handleSearchBulkPair",function(t){t.search_column&&t.search_text?(this.$set(this.paramsbulk,"search_text",t.search_text),this.$set(this.paramsbulk,"search_column",t.search_column)):(this.$delete(this.paramsbulk,"search_text"),this.$delete(this.paramsbulk,"search_column")),this.getDataBulkProduct()}),(0,n.default)(i,"handleSearchDuplicate",function(t){this.paramsDuplicate.page=1,t.search_column&&t.search_text?(this.$set(this.paramsDuplicate,"search_text",t.search_text),this.$set(this.paramsDuplicate,"search_column",t.search_column)):(this.$delete(this.paramsDuplicate,"search_text"),this.$delete(this.paramsDuplicate,"search_column")),this.handleManageDuplicate()}),i)}},yfP2:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a("QbLZ")),n=l(a("DChC")),s=l(a("XFEm")),r=a("G2h9"),o=l(a("HIJ2"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{CloseEsc:s.default,PopoverConfirmation:o.default},mixins:[n.default],props:{show:{type:Boolean,default:!1},formEdit:{type:Object,default:null}},data:function(){return{params:{search:"",per_page:50},dataSearch:[],current_page:0,last_page:0,loadingSearch:!1,selectedProduct:{},loadingPair:!1,visibleChangeStatus:!1,loadingStatus:!1,showUpdateStock:!1,loadingUpdateStock:!1}},watch:{formEdit:function(t){console.log("tracert",t),t&&(this.formData=(0,i.default)({},t),console.log(this.formData))}},computed:{},mounted:function(){},methods:{handleClose:function(){this.$emit("cancel")},resyncProduct:function(){this.$emit("resync",this.formEdit)},cancelSwitch:function(){this.visibleChangeStatus=!1},handleChangeStatus:function(t){var e=this;this.visibleChangeStatus=!1,this.loadingStatus=!0;var a={status:t,type:this.formEdit.type,product_id:[this.formEdit.product_id]};changeStatusProduct(a).then(function(t){e.$message({type:"success",message:t.data.data.message}),e.loadingStatus=!1,e.$emit("refresh")}).catch(function(t){e.$message({type:"error",message:t.string}),e.loadingStatus=!1})},updateStock:function(){var t=this;this.loadingUpdateStock=!0;var e={product_id:this.formEdit.product_id,sku_id:this.formEdit.sku_id,type:this.formEdit.type,stock:this.formEdit.pair.stock};(0,r.updateSingleProductLazada)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.loadingUpdateStock=!1,t.showUpdateStock=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingUpdateStock=!1})}}}}}]);