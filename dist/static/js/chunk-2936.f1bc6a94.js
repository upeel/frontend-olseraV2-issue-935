(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2936"],{"3Yn8":function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dd-handle"},[a("div",{staticClass:"flex-container flex-container--wrap"},[e._m(0),e._v(" "),a("div",{staticStyle:{"flex-grow":"1"}},[e._v("\n      "+e._s(e.item.name)+" \n      "),e.item.total_product?a("span",{staticClass:"grey"},[e._v("("+e._s(e.item.total_product)+")")]):e._e()]),e._v(" "),a("div",[a("button-action-authenticated",{attrs:{permission:["catalog/productgroups","edit"],type:"text"},on:{click:e.edit}},[e._v("\n        edit\n      ")])],1)])])},s=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hand handle"},[t("i",{staticClass:"el-icon-rank"})])}]},"8hpw":function(e,t,a){"use strict";a.r(t);var n=a("3Yn8"),s=a("d3c+");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,function(){return s[e]})}(i);var r=a("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);o.options.__file="List.vue",t.default=o.exports},DChC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a("QbLZ")),s=i(a("Ljqw"));function i(e){return e&&e.__esModule?e:{default:e}}var r={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var e=this.$store.getters.selectedStore;return{role_id:e.role_id,role_name:e.role_name,is_pos_only:e.is_pos_only,is_mobile:e.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var e=this.$store.getters.token;return this.$store.getters.webviewMode&&(e=this.$store.getters.webviewToken),{Authorization:"Bearer "+e.access_token}},baseURL:function(){return s.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var e=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],t=[];return this.$store.getters.stores.map(function(a){t.includes(a.store_id)||a.is_store_active&&(e.push((0,n.default)({},a)),t.push(a.store_id))}),e},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};t.default=r},GzL0:function(e,t,a){"use strict";a.r(t);var n=a("sJ4d"),s=a("lrEs");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,function(){return s[e]})}(i);var r=a("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);o.options.__file="Form.vue",t.default=o.exports},JzVu:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"affix-wrapper flex-container flex-container--start flex-container--desktop"},[e.checkCustomPermission("catalog/productgroups","store")?a("div",{staticClass:"affix-container mr-16"},[a("group-form",{ref:"formCreate",attrs:{loading:e.loading,specifications:e.specifications,saved:e.saved},on:{save:e.save}})],1):e._e(),e._v(" "),a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"flex-grow-1",attrs:{shadow:"never"}},[a("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[a("h4",{staticStyle:{"flex-grow":"1"}},[e._v(e._s(e.$lang[e.langId].list)+" "+e._s(e.lang.group))]),e._v(" "),e.showSaveSorts?a("div",[a("button-action-authenticated",{attrs:{permission:["catalog/productgroups","edit"],disabled:e.disabledSaveSorts,type:"success",icon:"el-icon-check"},on:{click:e.saveSorts}},[e._v("\n            "+e._s(e.lang.save)+"\n          ")])],1):e._e()]),e._v(" "),a("div",{staticClass:"card-body"},[a("draggable",{staticClass:"dd-list dragArea",attrs:{options:{group:{name:"groups"}},list:e.data,handle:".hand"},on:{change:e.sortsChanged}},e._l(e.data,function(t){return a("div",{key:t.id,staticClass:"dd-item"},[a("list",{attrs:{item:t},on:{edit:e.handleEditItem}}),e._v(" "),a("draggable",{staticClass:"dd-list children dragArea",attrs:{options:{group:{name:"groups"}},list:t.children,handle:".hand"},on:{change:e.sortsChanged}},e._l(t.children,function(t){return a("div",{key:t.id,staticClass:"dd-item"},[a("list",{attrs:{item:t},on:{edit:e.handleEditItem}})],1)}),0)],1)}),0),e._v(" "),e.moreLink?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingItems,expression:"loadingItems"}],staticClass:"load-more"},[a("el-button",{staticClass:"btn-block",attrs:{disabled:e.disabledButton},on:{click:e.loadMore}},[e._v("\n            "+e._s(e.$lang[e.langId].load_more)+"\n          ")])],1):e._e()],1)])],1),e._v(" "),a("edit-item",{attrs:{"is-editing":e.isEditing,item:e.singleData,specifications:e.specifications,loading:e.loading},on:{close:function(t){e.isEditing=!1},save:e.update,delete:e.remove}})],1)},s=[]},PdBz:function(e,t,a){"use strict";a.r(t);var n=a("mJfK"),s=a("VT8d");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,function(){return s[e]})}(i);var r=a("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);o.options.__file="EditItem.vue",t.default=o.exports},VT8d:function(e,t,a){"use strict";a.r(t);var n=a("ucFh"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,function(){return n[e]})}(i);t.default=s.a},YgAc:function(e,t,a){"use strict";a.r(t);var n=a("wS8O"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,function(){return n[e]})}(i);t.default=s.a},bmi8:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{item:{type:Object,default:null}},methods:{edit:function(){this.$emit("edit",this.item)}}}},"d3c+":function(e,t,a){"use strict";a.r(t);var n=a("bmi8"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,function(){return n[e]})}(i);t.default=s.a},kYKV:function(e,t,a){"use strict";a.r(t);var n=a("JzVu"),s=a("YgAc");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,function(){return s[e]})}(i);var r=a("KHd+"),o=Object(r.a)(s.default,n.a,n.b,!1,null,null,null);o.options.__file="Index.vue",t.default=o.exports},lrEs:function(e,t,a){"use strict";a.r(t);var n=a("vukW"),s=a.n(n);for(var i in n)["default"].indexOf(i)<0&&function(e){a.d(t,e,function(){return n[e]})}(i);t.default=s.a},mJfK:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.isEditing,"before-close":e.cancel,width:"360px",title:"Edit"},on:{"update:visible":function(t){e.isEditing=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-body"},[a("el-form",{attrs:{model:e.data,"label-position":"top"},nativeOn:{submit:function(e){e.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save.apply(null,arguments)}}},[a("el-form-item",{attrs:{label:e.lang.name}},[a("el-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.lang.classification}},[e.showSelectCategory?e._e():a("strong",[e._v(e._s(e.data.category_name))]),e._v(" "),e.showSelectCategory?e._e():a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.showSelectCategory=!0}}},[e._v("\n          "+e._s(e.lang.edit)+"\n        ")]),e._v(" "),e.showSelectCategory?a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(t){e.showSelectCategory=!1}}},[e._v("\n          "+e._s(e.lang.cancel)+"\n        ")]):e._e(),e._v(" "),e.showSelectCategory?a("el-select",{attrs:{placeholder:e.lang.please_select,filterable:""},model:{value:e.data.category_id,callback:function(t){e.$set(e.data,"category_id",t)},expression:"data.category_id"}},e._l(e.specifications,function(t){return a("el-option-group",{key:t.id,attrs:{label:t.name}},e._l(t.children,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)}),1):e._e()],1),e._v(" "),a("el-form-item",{attrs:{label:e.lang.disabled}},[a("el-switch",{attrs:{"active-value":!0,"inactive-value":!1,"active-text":"yes","inactive-text":"no"},model:{value:e.data.disabled,callback:function(t){e.$set(e.data,"disabled",t)},expression:"data.disabled"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.lang.hide_in_pos}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"yes","inactive-text":"no"},model:{value:e.data.pos_hidden,callback:function(t){e.$set(e.data,"pos_hidden",t)},expression:"data.pos_hidden"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.lang.hide_submenus_in_website_navigation}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,"active-text":"yes","inactive-text":"no"},model:{value:e.data.ol_sub_hidden,callback:function(t){e.$set(e.data,"ol_sub_hidden",t)},expression:"data.ol_sub_hidden"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer flex-container",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("delete-button",{attrs:{"custom-permission":"catalog/productgroups"},on:{confirm:e.handleDelete}})],1),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("\n      "+e._s(e.lang.cancel)+"\n    ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("\n      "+e._s(e.lang.save)+"\n    ")])],1)])},s=[]},sJ4d:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return s});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{shadow:"never"}},[a("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[a("h4",{staticStyle:{"flex-grow":"1"}},[e._v(e._s(e.$lang[e.langId].add_group_or_category))]),e._v(" "),a("div",[a("el-button",{attrs:{disabled:e.disabledSave,type:"primary","el-icon":"check"},on:{click:e.save}},[e._v("\n        "+e._s(e.lang.save)+"\n      ")])],1)]),e._v(" "),a("div",{staticClass:"box-body open-create-body"},[a("el-form",{staticClass:"form-sidebyside",attrs:{model:e.data}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.lang.name,required:!0}},[a("p",[e._v(e._s(e.lang.info_product_group))])])],1),e._v(" "),a("el-col",{attrs:{span:13}},[a("el-form-item",[a("el-input",{attrs:{type:"text",placeholder:e.$lang[e.langId].please_input+e.lang.name+" "+e.lang.group},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.lang.classification,required:!0}},[a("p",[e._v(e._s(e.lang.info_product_classification))])])],1),e._v(" "),a("el-col",{attrs:{span:13}},[a("el-form-item",[a("el-select",{attrs:{filterable:"",placeholder:e.lang.please_select},model:{value:e.data.category_id,callback:function(t){e.$set(e.data,"category_id",t)},expression:"data.category_id"}},e._l(e.specifications,function(t){return a("el-option-group",{key:t.name,attrs:{label:t.name}},e._l(t.children,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)}),1)],1)],1)],1),e._v(" "),a("hr"),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.lang.disabled}},[a("p",[e._v(e._s(e.lang.info_disabled))])])],1),e._v(" "),a("el-col",{attrs:{span:13}},[a("el-form-item",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.disabled,callback:function(t){e.$set(e.data,"disabled",t)},expression:"data.disabled"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.lang.hide_in_pos}})],1),e._v(" "),a("el-col",{attrs:{span:13}},[a("el-form-item",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.pos_hidden,callback:function(t){e.$set(e.data,"pos_hidden",t)},expression:"data.pos_hidden"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].hide_submenu_in_menu}})],1),e._v(" "),a("el-col",{attrs:{span:13}},[a("el-form-item",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.ol_sub_hidden,callback:function(t){e.$set(e.data,"ol_sub_hidden",t)},expression:"data.ol_sub_hidden"}})],1)],1)],1)],1)],1)])},s=[]},ucFh:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a("14Xm")),s=o(a("D3Ub")),i=o(a("QbLZ")),r=o(a("DA24"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={props:["isEditing","item","specifications","loading"],components:{DeleteButton:r.default},data:function(){return{data:{},showSelectCategory:!1}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{item:{handler:function(e){this.data=(0,i.default)({},e)},deep:!0,immediate:!0}},methods:{cancel:function(){this.$emit("close"),this.data={},this.showSelectCategory=!1},save:function(){var e=this;return(0,s.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$emit("save",e.data);case 2:e.cancel();case 3:case"end":return t.stop()}},t,e)}))()},handleDelete:function(){var e=this;return(0,s.default)(n.default.mark(function t(){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$emit("delete",e.item);case 2:e.cancel();case 3:case"end":return t.stop()}},t,e)}))()}}}},vukW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a("P2sY"));t.default={props:["saved","loading","specifications"],data:function(){return{disabledSave:!0,data:{}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{data:{handler:function(e){e.name&&""!==e.name&&e.category_id&&""!==e.category_id?this.disabledSave=!1:this.disabledSave=!0},deep:!0},saved:{handler:function(e){console.log(e),!0===e&&(this.data={},this.disabledSave=!0)},deep:!0}},methods:{save:function(){if(console.log(this.disabledSave),!this.disabledSave){this.disabledSave=!0;var e=(0,n.default)({},this.data);this.$emit("save",e)}},refreshData:function(){this.data={}}}}},wS8O:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(a("14Xm")),s=g(a("D3Ub")),i=g(a("4d7F")),r=g(a("t2rG")),o=a("xCek"),l=g(a("vDqi")),d=g(a("GzL0")),c=g(a("8hpw")),u=g(a("PdBz")),f=a("6y4V");function g(e){return e&&e.__esModule?e:{default:e}}t.default={components:{GroupForm:d.default,draggable:r.default,List:c.default,EditItem:u.default},mixins:[f.checkCustomPermission],data:function(){return{loading:!0,loadingItems:!1,saved:!1,data:[],specifications:[],singleData:{},isEditing:!1,tmpData:[],moreLink:null,disabledSaveSorts:!0,showSaveSorts:!1,disabledButton:!1,tmp:{data:[]},list:[{name:"task 1",tasks:[{name:"task 2",tasks:[]}]},{name:"task 3",tasks:[{name:"task 4",tasks:[]}]},{name:"task 5",tasks:[]}]}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getData()}},mounted:function(){this.getData(),this.getSpecifications()},methods:{getData:function(){var e=this;this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token};new i.default(function(a,n){(0,l.default)({method:"GET",url:(0,o.baseApi)(e.selectedStore.url_id,e.langId,"productgroup"),params:e.params,headers:t}).then(function(t){var a=t.data.data.map(function(e){return e.category_id=e.category_id.toString(),e});e.data=a,e.moreLink=t.data.links.next,e.loading=!1}).catch(function(t){e.loading=!1,n(t)})}).then(function(){e.loading=!1}).catch(function(t){e.loading=!1})},getSpecifications:function(e,t){var a=this,n={Authorization:"Bearer "+this.token.access_token},s=(0,o.baseApi)(this.selectedStore.url_id,this.langId,"category");(0,l.default)({method:"GET",url:s,params:{per_page:100},headers:n}).then(function(e){a.specifications=e.data.data,a.loading=!1}).catch(function(e){a.loading=!1,a.$notify({type:"warning",title:e.message,message:e.string}),t(e)})},getSingleData:function(e){var t=this;return(0,s.default)(n.default.mark(function a(){return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,l.default)({method:"GET",url:(0,o.baseApi)(t.selectedStore.url_id,t.langId,"productgroup/"+e),params:t.params,headers:{Authorization:"Bearer "+t.token.access_token}}).then(function(e){t.singleData=e.data.data});case 2:case"end":return a.stop()}},a,t)}))()},sortsChanged:function(e){this.disabledSaveSorts=!1,this.showSaveSorts=!0},save:function(e){var t=this;this.loading=!0;var a={Authorization:"Bearer "+this.token.access_token};(0,l.default)({method:"POST",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"productgroup"),headers:a,data:e}).then(function(e){t.getData(),t.saved=!0,t.loading=!1,t.$refs.formCreate.refreshData(),t.$message({type:"success",message:"Success"})}).catch(function(e){t.saved=!1,t.loading=!1,t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},saveSorts:function(){var e=this;this.disabledSaveSorts=!0;var t={Authorization:"Bearer "+this.token.access_token},a=this.data,n={sorted_ids:a=a.map(function(e,t){var a={id:e.id,children:[]};return e.children&&e.children.length>0&&e.children.map(function(e){a.children.push({id:e.id,name:e.name})}),a})};(0,l.default)({method:"POST",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"productgroup/sorting"),headers:t,params:{per_page:this.data.length},data:n}).then(function(t){e.data=t.data.data,e.showSaveSorts=!1,e.$message({type:"success",message:"Success"})}).catch(function(t){e.disabledSaveSorts=!1,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},loadMore:function(){var e=this;this.disabledButton=!0,this.loadingItems=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,l.default)({method:"GET",url:this.moreLink,params:this.params,headers:t}).then(function(t){var a=t.data.data.map(function(e){return e.category_id=e.category_id.toString(),e});e.data=e.data.concat(a),e.loadingItems=!1,e.moreLink=t.data.links.next,e.disabledButton=!1}).catch(function(t){e.loadingItems=!1,e.disabledButton=!1,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},remove:function(e){var t=this;this.loadingItems=!0;var a={Authorization:"Bearer "+this.token.access_token};(0,l.default)({method:"DELETE",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"productgroup/"+e.id),headers:a,params:{name:e.name}}).then(function(e){t.data=[],t.getData(),t.$message({type:"success",message:e.data.data.message}),t.loadingItems=!1}).catch(function(e){t.loadingItems=!1,t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},dataChanges:function(e){this.tmp.data.push(e)},handleEditItem:function(e){this.getSingleData(e.id),this.isEditing=!0},update:function(e){var t=this;this.loading=!0;var a={Authorization:"Bearer "+this.token.access_token};(0,l.default)({method:"PUT",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"productgroup/"+e.id),headers:a,data:e}).then(function(){t.getData(),t.isEditing=!1,t.loading=!1,t.$message({type:"success",message:"Success"})}).catch(function(e){t.loading=!1,t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})}}}}}]);