(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4c30"],{"6o0W":function(t,e,a){"use strict";a.r(e);var s=a("gbs/"),r=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return s[t]})}(n);e.default=r.a},A8mF:function(t,e,a){"use strict";a.r(e);var s=a("U3V/"),r=a("6o0W");for(var n in r)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return r[t]})}(n);var o=a("KHd+"),i=Object(o.a)(r.default,s.a,s.b,!1,null,null,null);i.options.__file="Index.vue",e.default=i.exports},"U3V/":function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return r});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-content",attrs:{shadow:"never"}},[a("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("h4",{staticClass:"main-content__title"},[t._v(t._s(t.$lang[t.langId].list)+" "+t._s(t.lang.product)+" "+t._s(t.lang.out_of_stock))]),t._v(" "),a("p",{staticClass:"main-content__subtitle"},[t._v(t._s(t.params.total)+" "+t._s(t.lang.product))])]),t._v(" "),a("div",[a("button-action-authenticated",{attrs:{permission:["catalog/outstock","store"],type:"primary",icon:"el-icon-plus",disabled:t.disabledButton},on:{click:t.dialogAddData}},[t._v("\n          "+t._s(t.lang.add)+"\n        ")])],1)]),t._v(" "),a("div",{},[a("div",{staticClass:"table-handler-flex"},[a("div",{staticClass:"mb-4",staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:t.lang.please_select,size:"small"},on:{change:t.changePageTable},model:{value:t.params.per_page,callback:function(e){t.$set(t.params,"per_page",e)},expression:"params.per_page"}},t._l(t.pages,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("div",{staticClass:"mb-4 text-right"},[a("el-input",{staticClass:"inline-form input-search",attrs:{clearable:"",placeholder:t.lang.search_products,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)]),t._v(" "),a("el-divider"),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.tableData,stripe:""},on:{"sort-change":t.changeSortTable}},[a("el-table-column",{attrs:{width:"400",label:t.lang.name},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-container"},[e.row.photo_xs?a("el-image",{staticStyle:{width:"50px",height:"50px","border-radius":"50%","margin-right":"8px"},attrs:{src:e.row.photo_xs,fit:"cover"}}):t._e(),t._v(" "),a("strong",[t._v(t._s(e.row.name))])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"sku",sortable:"",label:t.lang.sku,width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"product_group_name",sortable:"",label:t.lang.group,width:"160"}}),t._v(" "),a("el-table-column",{attrs:{label:t.$lang[t.langId].action},scopedSlots:t._u([{key:"default",fn:function(e){return[a("button-action-authenticated",{staticClass:"btn-plain",attrs:{permission:["catalog/outstock","destroy"],type:"danger",disabled:t.disabledButton,icon:"el-icon-delete"},on:{click:function(a){return t.removeItem(e.row.id)}}})]}}])})],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":t.params.currentPage,"page-size":t.params.per_page,layout:"prev, pager, next, jumper",total:t.params.total},on:{"size-change":t.changePageTable,"current-change":t.changeCurrentPage,"update:currentPage":function(e){return t.$set(t.params,"currentPage",e)},"update:current-page":function(e){return t.$set(t.params,"currentPage",e)}}})],1)],1)]),t._v(" "),a("el-dialog",{attrs:{title:t.lang.add,visible:t.visibleDialogAddData,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.visibleDialogAddData=e}}},[a("el-form",{attrs:{model:t.form}},[a("el-form-item",{attrs:{"label-width":"180px",label:t.lang.product}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",multiple:"",remote:"","reserve-keyword":"",placeholder:t.lang.info_auto_complete_product,"remote-method":t.searchProducts,loading:t.searchingProducts},model:{value:t.form.ids,callback:function(e){t.$set(t.form,"ids",e)},expression:"form.ids"}},t._l(t.searchResultProducts,function(t){return a("el-option",{key:t.product_id,attrs:{label:t.name,value:t.product_id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{"label-width":"140px"}},[a("el-button",{attrs:{disabled:t.disabledButton,type:"info",icon:"el-icon-close"},on:{click:t.resetState}},[t._v("\n          "+t._s(t.lang.cancel)+"\n        ")]),t._v(" "),a("el-button",{attrs:{disabled:t.disabledButton,type:"success",icon:"el-icon-check"},on:{click:t.addData}},[t._v("\n          "+t._s(t.lang.save)+"\n        ")])],1)],1)],1)],1)},r=[]},"gbs/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(a("QbLZ")),r=a("xCek"),n=o(a("vDqi"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!0,tableData:[],statusValue:null,searchValue:null,pages:[{value:5,label:"5 "+this.$store.state.userStores.lang.rows},{value:10,label:"10 "+this.$store.state.userStores.lang.rows},{value:20,label:"20 "+this.$store.state.userStores.lang.rows}],params:{search:null,per_page:5,sort_column:"published_date",sort_type:"desc"},disabledButton:!1,visibleDialogAddData:!1,form:{},searchResultProducts:[],searchingProducts:!1}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getData()}},methods:{getData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"product-outstock"),params:this.params,headers:e}).then(function(e){t.tableData=e.data.data,t.params.total=e.data.meta.total,t.loading=!1}).catch(function(e){t.loading=!1,t.tableData=[],t.params.total=0,404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},changePageTable:function(t){this.params.page=1,this.params.currentPage=1,this.params.per_page=t,this.getData()},handleSearch:function(t){this.params.page=1,this.params.currentPage=1,this.params.search_text="",this.params.search_column=null,this.params.search=this.searchValue,this.getData()},changeSortTable:function(t){"ascending"===t.order&&(t.order="asc"),"descending"===t.order&&(t.order="desc"),this.params.sort_type=t.order,this.params.sort_column=t.prop,this.getData()},changeCurrentPage:function(t){this.params.currentPage=t,this.params.page=t,this.getData()},searchProducts:function(t){var e=this;this.searchingProducts=!0;var a={Authorization:"Bearer "+this.token.access_token},s={search_column:"name",search_text:t,sort_column:"name",sort_type:"desc"};t.length>0?(0,n.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"product-outstock/getproduct"),headers:a,params:s}).then(function(t){e.searchingProducts=!1,e.searchResultProducts=t.data.data.map(function(t){return t})}).catch(function(){e.searchingProducts=!1,e.searchResultProducts=[]}):(this.searchResultProducts=[],this.searchingProducts=!1)},dialogAddData:function(){this.visibleDialogAddData=!0},addData:function(){var t=this;this.loading=!0,this.disabledButton=!0;var e={Authorization:"Bearer "+this.token.access_token},a=(0,s.default)({},this.form);a.ids=a.ids.join(","),(0,n.default)({method:"POST",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"product-outstock/add"),data:a,headers:e}).then(function(e){t.visibleDialogAddData=!1,t.disabledButton=!1,t.form={},t.$message({type:"success",message:"Success"}),t.getData()}).catch(function(e){t.loading=!1,t.disabledButton=!1,t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},removeItem:function(t){var e=this;this.disabledButton=!0;var a={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"DELETE",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"product-outstock/destroy/"+t),headers:a}).then(function(t){e.disabledButton=!1,e.$message({type:"success",message:"Success"}),e.getData()}).catch(function(t){e.disabledButton=!1,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},resetState:function(){this.visibleDialogAddData=!1,this.form.ids=[],this.searchResultProducts=[]}},mounted:function(){this.getData()}}}}]);