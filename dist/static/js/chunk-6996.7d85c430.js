(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6996"],{"3oDX":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(s("4d7F")),o=l(s("QbLZ")),n=s("xCek"),r=l(s("vDqi")),i=s("6y4V");function l(e){return e&&e.__esModule?e:{default:e}}t.default={mixins:[i.checkCustomPermission],data:function(){return{loading:!0,data:{},disabledButton:!1,rules:{pos_pass_key:[{required:!0,message:this.$store.state.userStores.lang.required,trigger:"blur"},{min:6,max:6,message:this.$lang[this.$store.state.userStores.langId].length_should_be_6,trigger:"blur"}]}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getData()}},methods:{getData:function(){var e=this;this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"pospasskey/"),params:this.params,headers:t}).then(function(t){e.data=t.data.data,e.loading=!1}).catch(function(t){e.loading=!1,404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},save:function(e,t,s){var a={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"POST",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"pospasskey/store-update"),headers:a,data:e}).then(function(e){t(e.data.data)}).catch(function(e){s(e.response.data.error)})},update:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;e.loading=!0,e.disabledButton=!0;var s=(0,o.default)({},e.data);s.pass_key=s.pos_pass_key,new a.default(function(t,a){e.save(s,t,a)}).then(function(){e.disabledButton=!1,e.getData(),e.$message({type:"success",message:"saved"})}).catch(function(t){e.disabledButton=!1,e.loading=!1,e.$notify({type:"warning",title:t.message,message:t.error})})})}},mounted:function(){this.getData()}}},CJkm:function(e,t,s){"use strict";s.d(t,"a",function(){return a}),s.d(t,"b",function(){return o});var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{md:14}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[s("h4",[e._v(e._s(e.lang.pos_pass_key))])]),e._v(" "),s("div",{staticClass:"card-body"},[s("el-form",{ref:"ruleForm",attrs:{model:e.data,rules:e.rules,"label-width":"140px"},nativeOn:{submit:function(e){e.preventDefault()}}},[s("el-form-item",{attrs:{label:e.lang.pos_pass_key_for_draft,prop:"pos_pass_key",required:!0}},[s("el-row",{staticStyle:{height:"35px"}},[s("el-col",{attrs:{md:18}},[s("el-input",{attrs:{disabled:!e.checkCustomPermission("settings/pospasskey","edit"),type:"number"},on:{change:e.update},model:{value:e.data.pos_pass_key,callback:function(t){e.$set(e.data,"pos_pass_key",t)},expression:"data.pos_pass_key"}})],1),e._v(" "),e.checkCustomPermission("settings/pospasskey","edit")?s("el-col",{staticClass:"my-4",staticStyle:{"margin-left":"5px"},attrs:{md:5}},[s("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:e.update},model:{value:e.data.pos_pass_key_for_draft,callback:function(t){e.$set(e.data,"pos_pass_key_for_draft",t)},expression:"data.pos_pass_key_for_draft"}})],1):e._e()],1),e._v(" "),s("span",{staticClass:"size-12 input-desc oldgrey"},[e._v("\n                "+e._s(e.lang.info_pos_pass_key_for_draft)+"\n              ")])],1),e._v(" "),s("el-form-item",{attrs:{label:e.lang.pos_pass_key_for_discount,prop:"pos_pass_key_discount",required:!0}},[s("el-row",{staticStyle:{height:"35px"}},[s("el-col",{attrs:{md:18}},[s("el-input",{attrs:{disabled:!e.checkCustomPermission("settings/pospasskey","edit"),type:"number"},on:{change:e.update},model:{value:e.data.pos_pass_key_discount,callback:function(t){e.$set(e.data,"pos_pass_key_discount",t)},expression:"data.pos_pass_key_discount"}})],1),e._v(" "),e.checkCustomPermission("settings/pospasskey","edit")?s("el-col",{staticClass:"my-4",staticStyle:{"margin-left":"5px"},attrs:{md:5}},[s("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:e.update},model:{value:e.data.pos_pass_key_for_discount,callback:function(t){e.$set(e.data,"pos_pass_key_for_discount",t)},expression:"data.pos_pass_key_for_discount"}})],1):e._e()],1),e._v(" "),s("span",{staticClass:"size-12 input-desc oldgrey"},[e._v("\n                "+e._s(e.lang.info_pos_pass_key_for_discount)+"\n              ")])],1),e._v(" "),s("el-form-item",{attrs:{label:e.lang.pos_pass_key_for_customer,prop:"pos_pass_key_customer",required:!0}},[s("el-row",{staticStyle:{height:"35px"}},[s("el-col",{attrs:{md:18}},[s("el-input",{attrs:{disabled:!e.checkCustomPermission("settings/pospasskey","edit"),type:"number"},on:{change:e.update},model:{value:e.data.pos_pass_key_customer,callback:function(t){e.$set(e.data,"pos_pass_key_customer",t)},expression:"data.pos_pass_key_customer"}})],1),e._v(" "),e.checkCustomPermission("settings/pospasskey","edit")?s("el-col",{staticClass:"my-4",staticStyle:{"margin-left":"5px"},attrs:{md:5}},[s("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:e.update},model:{value:e.data.pos_pass_key_for_customer,callback:function(t){e.$set(e.data,"pos_pass_key_for_customer",t)},expression:"data.pos_pass_key_for_customer"}})],1):e._e()],1),e._v(" "),s("span",{staticClass:"size-12 input-desc oldgrey"},[e._v("\n                "+e._s(e.lang.info_pos_pass_key_for_customer)+"\n              ")])],1)],1)],1)])],1)],1)],1)},o=[]},PO18:function(e,t,s){"use strict";s.r(t);var a=s("CJkm"),o=s("prlh");for(var n in o)["default"].indexOf(n)<0&&function(e){s.d(t,e,function(){return o[e]})}(n);var r=s("KHd+"),i=Object(r.a)(o.default,a.a,a.b,!1,null,null,null);i.options.__file="Index.vue",t.default=i.exports},prlh:function(e,t,s){"use strict";s.r(t);var a=s("3oDX"),o=s.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){s.d(t,e,function(){return a[e]})}(n);t.default=o.a}}]);