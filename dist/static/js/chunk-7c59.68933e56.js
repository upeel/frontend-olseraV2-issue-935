(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7c59"],{"9/PI":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=d(e("EJiy")),s=d(e("GQeE")),n=d(e("YEIV")),i=d(e("vDqi")),o=e("xCek"),l=d(e("hcN2")),c=d(e("ulFf"));function d(t){return t&&t.__esModule?t:{default:t}}var u=e("wd/R");a.default={data:function(){return{loading:!1,isLoadingData:!1,itemPage:[{value:"15",label:"15 item"},{value:"25",label:"25 item"},{value:"50",label:"50 item"},{value:"100",label:"100 item"}],filter:[{value:"",label:this.$store.state.userStores.lang.all},{value:"transaction_no",label:this.$store.state.userStores.lang.transaction_no},{value:"transaction_date",label:this.$store.state.userStores.lang.transaction_date}],id:"",data:"",dataDetail:[],deleteData:{},dialogDelete:!1,dialogPair:!1,params:{id:this.$route.query.id,current_page:1,per_page:15,sort_column:"transaction_date",sort_type:"desc",page:1,total:null},paramsPair:{transaction_id:"",transaction_no:"",transaction_name:""}}},components:{DialogJurnalPair:l.default},mixins:[c.default],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},classBasedOnStatus:function(){var t="";return"Aktif"===this.data.asset_status||"Active"===this.data.asset_status?t="posted":"Selesai"!==this.data.asset_status&&"Finish"!==this.data.asset_status||(t="partial"),t},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}}},methods:{selectFilter:function(t){var a;t?this.params={search_column:t,search_text:"",id:this.$route.query.id,current_page:1,per_page:15,page:1,total:null}:(this.params=(a={sort_column:"transaction_date",sort_type:"desc",id:this.$route.query.id,current_page:1,per_page:15},(0,n.default)(a,"sort_column","transaction_date"),(0,n.default)(a,"sort_type","desc"),(0,n.default)(a,"page",1),(0,n.default)(a,"total",null),a),this.loadData())},handleSearch:function(t){var a;("transaction_date"===this.params.search_column?null!==t?this.params.search_text=u(t).format("YYYY-MM-DD"):(this.params.search_column="",this.params.search_text=""):this.params.search_text=t,this.params.page=1,""===this.params.search_column||""===this.params.search_text)&&(this.params=(a={sort_column:"transaction_date",sort_type:"desc",id:this.$route.query.id,current_page:1,per_page:15},(0,n.default)(a,"sort_column","transaction_date"),(0,n.default)(a,"sort_type","desc"),(0,n.default)(a,"page",1),(0,n.default)(a,"total",null),a));this.loadData()},changeSortTable:function(t){"ascending"===t.order&&(t.order="asc"),"descending"===t.order&&(t.order="desc"),null===t.order&&(t.order=this.params.sort_type),this.params.sort_type=t.order,this.params.sort_column=t.prop,this.loadData()},handleSizeChange:function(t){this.params.page=1,this.params.per_page=t,this.loadData()},handleCurrentChange:function(t,a){this.params.currentPage=t,this.params.page=t,this.loadData()},loadData:function(){var t=this;this.isLoadingData=!0;var a={Authorization:"Bearer "+this.token.access_token};this.id=""!==this.id?this.id:this.$route.query.id,(0,i.default)({method:"GET",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"account/depreciation/"+this.id),headers:a,params:{search_column:this.params.search_column,search_text:this.params.search_text,currentPage:this.params.current_page,per_page:this.params.per_page,page:this.params.page,total:this.params.total,sort_column:this.params.sort_column,sort_type:this.params.sort_type}}).then(function(a){t.data=!0===(0,s.default)(t.$route.query).includes("data")?t.$route.query.data:t.data,t.dataDetail=a.data.data,t.params.id=t.$route.query.id,t.params.per_page=a.data.meta.per_page,t.params.current_page=a.data.meta.current_page,t.params.total=a.data.meta.total,t.isLoadingData=!1}).catch(function(a){if(t.data=!0===(0,s.default)(t.$route.query).includes("data")?t.$route.query.data:t.data,"object"===(0,r.default)(a.response.data.error.error)){var e=(0,s.default)(a.response.data.error.error)[0];t.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error[e][0]})}else t.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error});t.isLoadingData=!1})},showDeleteDialog:function(t){this.deleteData=t,this.dialogDelete=!0},cancelDeleteDialog:function(){this.dialogDelete=!1,this.deleteData={}},handleDelete:function(){var t=this;this.loading=!0,this.dialogDelete=!1;var a={Authorization:"Bearer "+this.token.access_token},e=this.deleteData.id;(0,i.default)({method:"DELETE",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"account/depreciation/"+e),headers:a}).then(function(a){t.deleteData={},t.loading=!1,t.dataDetail=[],t.$message({message:a.data.data.message,type:"success"}),t.loadData()}).catch(function(a){if(t.dialogDelete=!1,t.loading=!1,"object"===(0,r.default)(a.response.data.error.error)){var e=(0,s.default)(a.response.data.error.error)[0];t.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error[e][0]})}else t.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error})})},showPairDialog:function(t){this.paramsPair={transaction_id:t.transaction_id,transaction_no:t.transaction_no,transaction_name:t.transaction_name},this.dialogPair=!0},backHandle:function(){var t=this.$route.query.lastParams;this.$router.push({name:"Asset",query:{lastParams:t}})}},mounted:function(){this.loadData()}}},TbO2:function(t,a,e){"use strict";e.r(a);var r=e("chd2"),s=e("UM9u");for(var n in s)["default"].indexOf(n)<0&&function(t){e.d(a,t,function(){return s[t]})}(n);var i=e("KHd+"),o=Object(i.a)(s.default,r.a,r.b,!1,null,null,null);o.options.__file="detailDepreciation.vue",a.default=o.exports},UM9u:function(t,a,e){"use strict";e.r(a);var r=e("9/PI"),s=e.n(r);for(var n in r)["default"].indexOf(n)<0&&function(t){e.d(a,t,function(){return r[t]})}(n);a.default=s.a},chd2:function(t,a,e){"use strict";e.d(a,"a",function(){return r}),e.d(a,"b",function(){return s});var r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content-wrapper"},[e("section",{staticClass:"content-accounting"},[e("el-card",{staticClass:"box-card pos-relative"},[e("div",{staticClass:"card-body"},[e("div",{staticClass:"inventory-status",class:t.classBasedOnStatus},["Aktif"===t.data.asset_status||"Active"===t.data.asset_status?[e("span",{attrs:{align:"center"}},[e("i",{staticClass:"el-icon-document"}),e("br"),t._v(" "+t._s(t.data.asset_status))])]:t._e(),t._v(" "),"Selesai"===t.data.asset_status||"Finish"===t.data.asset_status?[e("span",{attrs:{align:"center"}},[e("i",{staticClass:"el-icon-circle-check"}),e("br"),t._v(t._s(t.data.asset_status))])]:t._e()],2),t._v(" "),e("div",{staticClass:"row with-padding-left"},[e("div",{staticClass:"col-md-9"},[e("small",{staticStyle:{color:"#ccc"}},[t._v(t._s(t.$lang[t.langId].depreciation_asset))]),t._v(" "),t.data.description?e("h4",[t._v(t._s(t.capitalize(t.data.description)))]):e("h4",[t._v("-")])]),t._v(" "),e("div",{staticClass:"col-md-3 text-right"},[e("el-button",{attrs:{icon:"el-icon-back",size:"small",type:"success",plain:""},on:{click:t.backHandle}},[t._v(t._s(t.lang.back))])],1)])])]),t._v(" "),e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"row table-handler-flex"},[e("div",{staticClass:"col-xs-12 col-sm-10 col-md-10 col-lg-10 text-left"},[e("div",{staticClass:"visible-lg visible-md visible-sm text-left inline"},[e("el-select",{attrs:{placeholder:t.$lang[t.langId].select},on:{change:t.selectFilter},model:{value:t.params.search_column,callback:function(a){t.$set(t.params,"search_column",a)},expression:"params.search_column"}},t._l(t.filter,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),"transaction_date"===t.params.search_column?e("el-date-picker",{attrs:{type:"date",format:"dd MMM yyyy",placeholder:t.$lang[t.langId].pick_a_day},on:{change:t.handleSearch},model:{value:t.params.search_text,callback:function(a){t.$set(t.params,"search_text",a)},expression:"params.search_text"}}):t._e(),t._v(" "),"transaction_no"===t.params.search_column?e("el-input",{staticClass:"inline-form input-search",attrs:{clearable:"",placeholder:t.lang.search+" "+t.lang.transaction_no,"prefix-icon":"el-icon-search"},on:{change:t.handleSearch},model:{value:t.params.search_text,callback:function(a){t.$set(t.params,"search_text",a)},expression:"params.search_text"}}):t._e()],1),t._v(" "),e("div",{staticClass:"visible-xs text-center"},[e("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$lang[t.langId].select},on:{change:t.selectFilter},model:{value:t.params.search_column,callback:function(a){t.$set(t.params,"search_column",a)},expression:"params.search_column"}},t._l(t.filter,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)]),t._v(" "),e("div",{staticClass:"col-xs-12 visible-xs text-center",staticStyle:{"margin-top":"10px"}},["transaction_date"===t.params.search_column?e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"dd MMM yyyy",placeholder:t.$lang[t.langId].pick_a_day},on:{change:t.handleSearch},model:{value:t.params.search_text,callback:function(a){t.$set(t.params,"search_text",a)},expression:"params.search_text"}}):t._e(),t._v(" "),"transaction_no"===t.params.search_column?e("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:t.lang.search+" "+t.lang.transaction_no,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},model:{value:t.params.search_text,callback:function(a){t.$set(t.params,"search_text",a)},expression:"params.search_text"}}):t._e()],1)]),t._v(" "),e("div",{staticStyle:{"margin-top":"24px"}},[e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoadingData,expression:"isLoadingData"}],ref:"multipleTable",staticClass:"product-table-max-height mobile-fix-height-unset",attrs:{data:t.dataDetail,stripe:""},on:{"sort-change":t.changeSortTable}},[e("el-table-column",{attrs:{prop:"transaction_date",label:t.lang.date,sortable:"",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(a.row.ftransaction_date))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"transaction_no",label:t.lang.transaction_no,width:"240",sortable:""}}),t._v(" "),e("el-table-column",{attrs:{prop:"description",label:t.lang.description},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t.capitalize(a.row.description)))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"int_depreciation",label:t.lang.amount+" ("+t.selectedStore.currency_id+")",align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[null!==a.row.fdepreciation?e("div",[t._v(t._s(a.row.fdepreciation))]):e("div",[t._v(t._s(t.selectedStore.currency_id)+" 0")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:t.$lang[t.langId].action,align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-dropdown",{staticStyle:{padding:"inherit"},attrs:{trigger:"click"}},[e("el-button",{staticStyle:{color:"#909399"},attrs:{type:"text",icon:"el-icon-more"}}),t._v(" "),e("el-dropdown-menu",{staticStyle:{"background-color":"#F2F2F2"},attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{staticStyle:{padding:"0px"}},[e("el-button",{staticClass:"accounting-dropBtn",staticStyle:{color:"#000000"},attrs:{type:"text"},on:{click:function(e){return t.showPairDialog(a.row)}}},[e("svg-icon",{attrs:{"icon-class":"arrow-couple"}}),t._v("\n                      "+t._s(t.$lang[t.langId].jurnal_pair)+"\n                    ")],1)],1),t._v(" "),e("el-dropdown-item",{staticStyle:{padding:"0px"}},[e("el-button",{staticClass:"accounting-dropBtn",staticStyle:{color:"#FF0000"},attrs:{type:"text"},on:{click:function(e){return t.showDeleteDialog(a.row)}}},[e("svg-icon",{attrs:{"icon-class":"trash",stroke:"#FF0000"}}),t._v("\n                      "+t._s(t.$lang[t.langId].delete)+"\n                    ")],1)],1)],1)],1)]}}])})],1),t._v(" "),e("div",{staticStyle:{"margin-top":"20px","margin-bottom":"-55px"}},[e("el-select",{staticClass:"perpage",staticStyle:{width:"120px"},attrs:{placeholder:t.$lang[t.langId].select},on:{change:t.handleSizeChange},model:{value:t.params.per_page,callback:function(a){t.$set(t.params,"per_page",a)},expression:"params.per_page"}},t._l(t.itemPage,function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),e("div",{staticStyle:{"text-align":"center"}},[e("el-pagination",{staticClass:"paginate",attrs:{"current-page":t.params.current_page,"page-size":parseInt(t.params.per_page),layout:"total, prev, pager, next, jumper",total:t.params.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(a){return t.$set(t.params,"current_page",a)},"update:current-page":function(a){return t.$set(t.params,"current_page",a)}}})],1)],1)])],1),t._v(" "),e("el-dialog",{attrs:{title:t.lang.notif_warn,visible:t.dialogDelete,width:"50%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(a){t.dialogDelete=a}}},[e("div",{staticClass:"text-center"},[e("p",[t._v(t._s(t.$lang[t.langId].are_you_want_remove)+" "+t._s(t.$lang[t.langId].depreciation_asset)+" ")]),t._v(" "),e("p",{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.deleteData.transaction_no)+"\n      ")])]),t._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:t.cancelDeleteDialog}},[t._v(t._s(t.lang.cancel))]),t._v(" "),e("el-button",{attrs:{disabled:t.loading,type:"danger"},on:{click:t.handleDelete}},[t._v(t._s(t.lang.remove))])],1)]),t._v(" "),e("dialog-jurnal-pair",{attrs:{id:t.paramsPair.transaction_id,no:t.paramsPair.transaction_no,name:t.paramsPair.transaction_name,show:t.dialogPair},on:{close:function(a){t.dialogPair=!1}}})],1)},s=[]},ulFf:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r=o(e("GQeE")),s=o(e("EJiy")),n=e("xCek"),i=o(e("vDqi"));function o(t){return t&&t.__esModule?t:{default:t}}var l=e("wd/R"),c={computed:{},data:function(){return{isSetup:"",dialogSetup:!1}},methods:{accountSetup:function(){var t=this,a={Authorization:"Bearer "+this.token.access_token};(0,i.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"account/setup"),headers:a}).then(function(a){t.isSetup=a.data.account_setup}).catch(function(a){if("object"===(0,s.default)(a.response.data.error.error)){var e=(0,r.default)(a.response.data.error.error)[0];t.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error[e][0]})}else t.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error})})},finishSetup:function(){this.dialogSetup=!1,this.accountSetup()},capitalize:function(t){var a="";return t&&(a=t[0].toUpperCase()+t.slice(1)),a},capitalEachWord:function(t){var a="";if(t){var e="";e=t.split(" ");for(var r=0;r<e.length;r++)e[r]=e[r][0].toUpperCase()+e[r].substr(1);a=e.join(" ")}return a},formatPrice:function(t){return(t/1).toFixed(0).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},formatPriceDecimal:function(t){return(t/1).toFixed(2).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},indexNumber:function(t,a,e){return a*e+(t+1)-a},dateFormat:function(t){return l(t).format("DD MMM YYYY")},checkDate:function(t){var a=l(t),e=l();return!(a.diff(e)>0)}}};a.default=c}}]);