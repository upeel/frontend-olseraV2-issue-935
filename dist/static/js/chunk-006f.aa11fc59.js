(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-006f"],{"0qM5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("xCek"),o=function(e){return e&&e.__esModule?e:{default:e}}(a("vDqi"));t.default={name:"SupplierCreate",data:function(){return{loading:!0,country:null,stateCountry:null,shippingCity:null,disableSave:!1,formAdd:{nameSupplier:"",contactPersonal:"",notes:"",email:"",phone:null,address:"",countryName:"ID",stateCountry:"",shippingCity:"",postalCode:null}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},rootLang:function(){return this.$lang[this.$store.state.userStores.langId]}},mounted:function(){this.getCountry(),this.getStateCountry(),this.getShippingCity()},methods:{getCountry:function(){var e=this;this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,o.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"shippingcountry"),headers:t,params:{per_page:1e3}}).then(function(t){e.country=t.data.data,e.loading=!1}).catch(function(t){console.log(t),e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.loading=!1})},editChangeCountry:function(){this.formAdd.stateCountry="",this.formAdd.shippingCity="",this.getStateCountry()},getStateCountry:function(){var e=this;this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token},a={search_column:"country_id",search_operator:"=",search_text:this.formAdd.countryName?this.formAdd.countryName:0,per_page:1e3};(0,o.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"state"),headers:t,params:a}).then(function(t){e.stateCountry=t.data.data,e.loading=!1}).catch(function(t){console.log(t),e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.loading=!1})},editProvince:function(){this.formAdd.shippingCity="",this.getShippingCity()},getShippingCity:function(){var e=this;this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token},a={search_column:"state_id",search_operator:"=",search_text:this.formAdd.stateCountry?this.formAdd.stateCountry:0,per_page:1e3};(0,o.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"shippingcity"),headers:t,params:a}).then(function(t){e.shippingCity=t.data.data,e.loading=!1}).catch(function(t){console.log(t),e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.loading=!1})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"Error",type:"error"}),!1;t.save()})},save:function(){var e=this;this.disableSave=!0,this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token};null===this.formAdd.phone&&(this.formAdd.phone=""),null===this.formAdd.postalCode&&(this.formAdd.postalCode="");var a={name:this.formAdd.nameSupplier,contact_person:this.formAdd.contactPersonal,email:this.formAdd.email,phone:this.formAdd.phone,notes:this.formAdd.notes,address:this.formAdd.address,country_id:this.formAdd.countryName,state_id:this.formAdd.stateCountry,city_id:this.formAdd.shippingCity,postal_code:this.formAdd.postalCode};(0,o.default)({method:"POST",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"supplier"),headers:t,data:a}).then(function(t){e.result=t.data,e.$message({message:"Success",type:"success"}),e.loading=!1,e.disableSave=!1,e.$router.push({path:"/customersupplier/supplier/"+t.data.data.id})}).catch(function(t){e.loading=!1,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),console.log(t),e.disableSave=!1})}}}},"4xgj":function(e,t,a){"use strict";a.d(t,"a",function(){return r}),a.d(t,"b",function(){return o});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box"},[a("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[a("h4",{staticClass:"box-title",staticStyle:{"flex-grow":"1"}},[e._v(e._s(e.lang.add_supplier))]),e._v(" "),a("div",[a("router-link",{attrs:{to:"/customersupplier/supplier"}},[a("el-button",{attrs:{type:"text"}},[e._v(e._s(e.lang.cancel))])],1),e._v(" "),a("el-button",{attrs:{type:"success",disabled:e.disableSave},on:{click:function(t){return e.submitForm("formAdd")}}},[e._v("\n        "+e._s(e.lang.save)+"\n      ")])],1)]),e._v(" "),a("div",{staticClass:"box-body"},[a("el-form",{ref:"formAdd",attrs:{model:e.formAdd,"label-width":"30%"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{sm:12}},[a("label",{staticClass:"font-16 font-bold mb-12 color-success"},[e._v(e._s(e.lang.customer_detail))]),e._v(" "),a("el-form-item",{attrs:{prop:"nameSupplier",label:e.lang.supplier_name,rules:[{required:!0,message:e.rootLang.please_input+e.lang.supplier_name,trigger:"blur"}]}},[a("el-input",{attrs:{placeholder:e.rootLang.please_input+e.lang.supplier_name},model:{value:e.formAdd.nameSupplier,callback:function(t){e.$set(e.formAdd,"nameSupplier",t)},expression:"formAdd.nameSupplier"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"contactPersonal",label:e.lang.contact_person}},[a("el-input",{attrs:{placeholder:e.rootLang.please_input+e.lang.contact_person},model:{value:e.formAdd.contactPersonal,callback:function(t){e.$set(e.formAdd,"contactPersonal",t)},expression:"formAdd.contactPersonal"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"email",label:e.lang.email,rules:[{type:"email",message:e.rootLang.email_error_input,trigger:["blur","change"]}]}},[a("el-input",{attrs:{placeholder:e.rootLang.input_email},model:{value:e.formAdd.email,callback:function(t){e.$set(e.formAdd,"email",t)},expression:"formAdd.email"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"phone",label:e.lang.phone,placeholder:e.rootLang.input_number}},[a("el-input",{attrs:{type:"number",placeholder:e.$lang[e.langId].input_number},model:{value:e.formAdd.phone,callback:function(t){e.$set(e.formAdd,"phone",t)},expression:"formAdd.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"notes",label:e.lang.notes}},[a("el-input",{attrs:{placeholder:e.rootLang.please_input+e.lang.notes},model:{value:e.formAdd.notes,callback:function(t){e.$set(e.formAdd,"notes",t)},expression:"formAdd.notes"}})],1)],1),e._v(" "),a("el-col",{attrs:{sm:12}},[a("label",{staticClass:"font-16 font-bold mb-12 color-success"},[e._v(e._s(e.lang.address))]),e._v(" "),a("el-form-item",{attrs:{prop:"address",label:e.lang.address}},[a("el-input",{attrs:{placeholder:e.rootLang.please_input+e.lang.address},model:{value:e.formAdd.address,callback:function(t){e.$set(e.formAdd,"address",t)},expression:"formAdd.address"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"countryName",label:e.lang.country}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:e.lang.please_select,size:"small"},on:{change:e.editChangeCountry},model:{value:e.formAdd.countryName,callback:function(t){e.$set(e.formAdd,"countryName",t)},expression:"formAdd.countryName"}},e._l(e.country,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"stateCountry",label:e.lang.province}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:e.lang.please_select,size:"small"},on:{change:e.editProvince},model:{value:e.formAdd.stateCountry,callback:function(t){e.$set(e.formAdd,"stateCountry",t)},expression:"formAdd.stateCountry"}},e._l(e.stateCountry,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"shippingCity",label:e.lang.city}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:e.lang.please_select,size:"small"},model:{value:e.formAdd.shippingCity,callback:function(t){e.$set(e.formAdd,"shippingCity",t)},expression:"formAdd.shippingCity"}},e._l(e.shippingCity,function(e){return a("el-option",{key:e.id,attrs:{label:e.city,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"postalCode",label:e.lang.postal_code}},[a("el-input",{attrs:{type:"number",placeholder:e.$lang[e.langId].input_number},model:{value:e.formAdd.postalCode,callback:function(t){e.$set(e.formAdd,"postalCode",t)},expression:"formAdd.postalCode"}})],1)],1)],1)],1)],1)])},o=[]},LaaB:function(e,t,a){"use strict";a.r(t);var r=a("4xgj"),o=a("p5gC");for(var n in o)["default"].indexOf(n)<0&&function(e){a.d(t,e,function(){return o[e]})}(n);var s=a("KHd+"),l=Object(s.a)(o.default,r.a,r.b,!1,null,null,null);l.options.__file="SupplierCreate.vue",t.default=l.exports},p5gC:function(e,t,a){"use strict";a.r(t);var r=a("0qM5"),o=a.n(r);for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,function(){return r[e]})}(n);t.default=o.a}}]);