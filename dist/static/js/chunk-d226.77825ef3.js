(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-d226"],{"+S2o":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=g(a("FyfS")),o=g(a("QbLZ")),n=g(a("m1cH")),s=g(a("/f1G")),r=g(a("YEIV")),l=g(a("DChC")),c=g(a("XFEm")),d=a("xCek"),u=g(a("Ckak")),p=g(a("yJ23")),h=a("G2h9"),m=a("td9W");function g(t){return t&&t.__esModule?t:{default:t}}e.default={name:"DuplicateProduct",mixins:[l.default],components:{CloseEsc:c.default,InputMoney:u.default,DuplicateProductWithVariant:p.default},props:{show:{type:Boolean,default:!1},dataProduct:{type:Array,default:[]},fromBulk:{type:Boolean,default:!1},loadingData:{type:Boolean,default:!1},dataSummaries:{type:Object,default:{}},nextPage:{type:String,default:null}},data:function(){var t;return t={params:{search:"",per_page:50},tempItem:{Images:[],img_upload:null,tokopedia_meta:{},photos:[]},showDetailItem:!1,searchCategoryData:[],searchBrandData:[],showInfoInvalidProduct:!1,loadingPair:!1,disabledSave:!1,loadingPreUpload:!1,loadingRequired:!1,loadingDuplicate:!1,scrollOption:{suppressScrollY:!0,suppressScrollX:!1},checkAll:!1,dataChecked:[],loadingUpload:!1,isEdit:!1,search:"",showDetailItemWithVariant:!1},(0,r.default)(t,"searchBrandData",[]),(0,r.default)(t,"isHideMerk",!1),(0,r.default)(t,"loadingCheckBrand",!1),(0,r.default)(t,"dataTempProduct",{}),t},computed:{dataProd:function(){var t=this;return this.dataProduct.map(function(e){return e.checked=!1,t.dataChecked.length>0&&t.dataChecked.map(function(t){e.id===t.id&&(e.checked=!0)}),e})},uploadPhotoUrl:function(){return(0,d.baseApi)(this.selectedStore.url_id,this.langId,"product/upload")},headersReverify:function(){return{Authorization:"Bearer "+this.token.access_token}},disableDuplicate:function(){var t=!0;return 1===this.tempItem.has_pre_upload&&0===this.tempItem.valobj.length&&(t=!1),t}},methods:{handleClose:function(){this.$emit("close")},handleEdit:function(t){(0,s.default)(t.validation);1===t.has_variant?this.dataTempProduct=[].concat((0,n.default)(t.tokopedia_meta.selection)):this.dataTempProduct=[],this.tempItem=(0,o.default)({},t),this.tempItem.img_upload=null,this.tempItem.min_order=parseInt(this.tempItem.min_order),this.tempItem.stock_qty=parseInt(this.tempItem.stock_qty),this.tempItem.weight=parseInt(this.tempItem.weight),this.tempItem.formRequired=[],null!==this.tempItem.tokopedia_meta&&this.tempItem.tokopedia_meta.brand_availability&&"1"===this.tempItem.tokopedia_meta.brand_availability&&(0===this.tempItem.has_variant?this.isHideMerk=!0:this.$refs.duplwtvariant.setShowMerk()),1===this.tempItem.has_variant&&null!==this.tempItem.tokopedia_meta&&this.tempItem.tokopedia_meta.selection.length>0&&this.$refs.duplwtvariant.setTypeVariantTokped(this.tempItem.tokopedia_meta.selection),1===this.tempItem.has_variant&&this.tempItem.variants.map(function(t){t.stock_qty=parseInt(t.stock_qty),t.checked=!1}),this.isEdit=!1,null===this.tempItem.tokopedia_meta&&(this.tempItem.tokopedia_meta={}),0===this.tempItem.has_variant?this.showDetailItem=!0:(this.$refs.duplwtvariant.resetDataUnit(),this.showDetailItemWithVariant=!0)},getCategorySearch:function(t,e){var a=this,o={sort_column:"name",sort_type:"asc",search:t,per_page:50};(0,m.fetchCategoryTokopedia)(o).then(function(t){var o=!0,n=!1,s=void 0;try{for(var r,l=(0,i.default)(t.data.data);!(o=(r=l.next()).done);o=!0){var c=r.value;c.value=c.name}}catch(t){n=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(n)throw s}}a.searchCategoryData=t.data.data,e(a.searchCategoryData)}).catch(function(t){console.log(t)})},getBrandSearch:function(t,e){var a=this,o={sort_column:"name",sort_type:"asc",search:t,per_page:50,category_id:this.tempItem.tokopedia_meta.category_id};(0,m.getBrandTokopedia)(o).then(function(t){var o=!0,n=!1,s=void 0;try{for(var r,l=(0,i.default)(t.data.data);!(o=(r=l.next()).done);o=!0){var c=r.value;c.value=c.name}}catch(t){n=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(n)throw s}}a.searchBrandData=t.data.data,e(a.searchBrandData)}).catch(function(t){console.log(t)})},handleGetRequired:function(t){var e=this;console.log("dat",t),this.loadingRequired=!0,this.tempItem.lazada_primary_category_id=t.lazada_category_id;var a={primary_category_id_lazada:t.lazada_category_id};this.tempItem.formRequired=[],(0,h.fetchRequiredForm)(a).then(function(t){console.log("test",t),e.tempItem.formRequired=[].concat((0,n.default)(t.data.data)),e.tempItem.formRequired.map(function(t){t.value="","numeric"===t.input_type&&(t.input_type="number")}),e.loadingRequired=!1,e.$forceUpdate()}).catch(function(t){e.loadingRequired=!1,console.log(t)})},getBrandLazada:function(t,e){var a=this,o={keyword:t};(0,h.fetchBrandLazada)(o).then(function(t){var o=!0,n=!1,s=void 0;try{for(var r,l=(0,i.default)(t.data.data);!(o=(r=l.next()).done);o=!0){var c=r.value;c.value=c.name}}catch(t){n=!0,s=t}finally{try{!o&&l.return&&l.return()}finally{if(n)throw s}}a.searchBrandData=t.data.data,e(a.searchBrandData)}).catch(function(t){console.log(t),e("No Data")})},handleSaveSingleProduct:function(){var t=this;this.loadingPreUpload=!0;var e=(0,o.default)({},this.tempItem);e.merchant_tokopedia_id=this.tokopediaActiveStore.id,e.tokopedia_meta.brand_id&&null!==e.tokopedia_meta.brand_id&&(e.tokopedia_meta.brand_availability=1),console.log("meta",e),0===e.has_pre_upload?(0,m.preUploadProduct)(e).then(function(e){t.loadingPreUpload=!1,t.showDetailItem=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPreUpload=!1}):(0,m.updatePreUploadProduct)(e).then(function(e){t.loadingPreUpload=!1,t.showDetailItem=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPreUpload=!1})},saveProductBatch:function(){var t=this;this.loadingDuplicate=!0;var e={ids:[],merchant_tokopedia_id:this.tokopediaActiveStore.id};this.dataChecked.map(function(t){t.checked&&e.ids.push(t.id)}),(0,m.duplicateBulkProduct)(e).then(function(e){t.loadingDuplicate=!1,t.$emit("refresh")}).catch(function(e){if(422===e.errorCode){var a=[];e.response.data.error.map(function(t){a.push(t.error)}),t.$message({type:"error",message:a.join(", ")})}else t.$message({type:"error",message:e.string});t.loadingDuplicate=!1})},saveSingleProductBatch:function(){var t=this,e=this.tempItem;null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),this.loadingDuplicate=!0,(0,m.duplicateSingleProduct)(e).then(function(e){t.loadingDuplicate=!1,t.showDetailItem=!1,t.showDetailItemWithVariant=!1,t.$emit("refresh")}).catch(function(e){console.log("err",e),t.$message({type:"error",message:e.string}),t.loadingDuplicate=!1})},selectBrandLazada:function(t){this.tempItem.formRequired.map(function(e){"brand"===e.name&&(e.value=t.id)})},handleChangeInput:function(){this.$forceUpdate()},showGroup:function(t){this.$emit("filter",t)},loadMore:function(){this.$emit("loadmore")},handleCheck:function(t,e){var a=this;if(20!==this.dataChecked.length?this.checkAll=!1:this.checkAll=!0,null===t.id)this.$notify({type:"warning",message:"Silahkan lengkapi data category lazada"}),this.dataProd[e].checked=!1;else{var i=this.dataChecked.some(function(e){return e.id===t.id});console.log("ex",i),i?this.dataChecked.map(function(e,i){e.id===t.id&&a.dataChecked.splice(i,1)}):null!==t.id&&this.dataChecked.length<20?this.dataChecked.push(t):this.$notify({type:"warning",message:"Max 20 item terpilih"})}this.$forceUpdate()},handleSaveEdit:function(){var t=this,e=this.tempItem,a={};e.formRequired.map(function(t){a[t.name]=t.value}),e.lazada_attributes=a;var i=this.dataChecked.some(function(t){return t.id===e.id});console.log("ex",i),i?(this.dataChecked.map(function(a,i){a.id===e.id&&t.dataChecked.splice(i,1)}),this.dataChecked.push(e)):null!==e.lazada_primary_category_id&&this.dataChecked.push(e);var o=null;this.dataProduct.map(function(t,a){t.id===e.id&&(o=a)}),this.dataProduct[o]=e,this.showDetailItem=!1},beforeUpload:function(t){var e="image/jpeg"===t.type,a="image/png"===t.type;return e||a||this.$message.error(this.$lang[this.langId].error_upload_photo),e||a},handleUploadProgress:function(t){this.loadingUpload=!0},handleUploadSuccess:function(t,e,a){console.log("res",t),0===this.tempItem.photos.length?this.tempItem.photos=[t.data[0]]:this.tempItem.photos[0]=t.data[0],this.tempItem.photo_md=t.data[0].photo_md,this.tempItem.photo_xs=t.data[0].photo_xs,this.tempItem.photo_name=t.data[0].file_name,this.loadingUpload=!1},handleUploadError:function(t){this.loading=!1,this.loadingUpload=!1,this.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})},handleSearch:function(t){var e={search_text:"",search_column:"name"};""!==t?(this.$set(e,"search_text",t),this.$set(e,"search_column","name")):(this.$delete(e,"search_text"),this.$delete(e,"search_column")),this.$emit("search",e)},handleSearchByEnter:function(){var t={search_text:"",search_column:"name"};""!==this.search?(this.$set(t,"search_text",this.search),this.$set(t,"search_column","name")):(this.$delete(t,"search_text"),this.$delete(t,"search_column")),this.$emit("search",t)},handleCheckAll:function(t){var e=this;console.log("dds",t),t?(this.dataChecked=[],this.dataProd.map(function(t){1===t.is_completed&&e.dataChecked.length<20&&e.dataChecked.push(t)})):this.dataChecked=[]},randomString:function(t,e){e=e||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var a="",i=0;i<t;i++){var o=Math.floor(Math.random()*e.length);a+=e.substring(o,o+1)}return a},getRandom:function(){this.tempItem.SellerSku=this.randomString(8)},isWarnData:function(t){return null===t.lazada_primary_category_id||(parseInt(t.quantity)<1||(parseInt(t.price)<1e3||(parseInt(t.package_weight)<1||null===t.SellerSku)))},handleSelectCategory:function(t){this.tempItem.tokopedia_meta.category_id=t.tokopedia_category_id,this.checkHaveMerk()},handleSelectBrand:function(t){this.tempItem.tokopedia_meta.brand_id=t.id},handleCloseDuplicatVariant:function(){this.showDetailItemWithVariant=!1,this.$emit("refresh")},checkHaveMerk:function(){var t=this,e={category_id:this.tempItem.tokopedia_meta.category_id};this.loadingCheckBrand=!0,(0,m.getBrandTokopedia)(e).then(function(e){t.isHideMerk=!0,t.loadingCheckBrand=!1}).catch(function(e){console.log(e),t.isHideMerk=!1,t.loadingCheckBrand=!1})}}}},"/Ilv":function(t,e,a){"use strict";a.r(e);var i=a("PAhW"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},"0H4e":function(t,e,a){"use strict";a.r(e);var i=a("A6uU"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},"0lxS":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a("m1cH")),o=l(a("QbLZ")),n=l(a("DChC")),s=l(a("XFEm")),r=a("td9W");function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{CloseEsc:s.default},mixins:[n.default],props:{show:{type:Boolean,default:!1},formEdit:{type:Object,default:null},fromBulk:{type:Boolean,default:!1}},data:function(){return{params:{search:"",per_page:50},dataSearch:[],current_page:0,last_page:0,loadingSearch:!1,selectedProduct:{},loadingPair:!1,imgSearch:"/static/img/service-activation/tokopedia/no_product_search.png"}},watch:{formEdit:function(t){console.log("tracert",t),t&&(this.formData=(0,o.default)({},t),console.log(this.formData))}},computed:{disabledSave:function(){return!this.selectedProduct.id}},mounted:function(){},methods:{handleSearch:function(t){var e=this;this.loadingSearch=!0,this.selectedProduct={},""!==this.params.search?(0,r.searchProduct)(this.params).then(function(a){e.dataSearch=[].concat((0,i.default)(a.data.data)),e.dataSearch.map(function(t,e){t.select=!1}),e.current_page=a.data.meta.current_page,e.last_page=a.data.meta.last_page,e.loadingSearch=!1,t&&(e.dataSearch[0].select=!0,e.selectedProduct=(0,o.default)({},e.dataSearch[0]))}).catch(function(t){e.$message({type:"error",message:t.string}),e.dataSearch=[],e.imgSearch="/static/img/service-activation/tokopedia/no_product_search1.png",e.loadingSearch=!1}):(this.dataSearch=[],this.imgSearch="/static/img/service-activation/tokopedia/no_product_search.png",this.loadingSearch=!1)},getMoreProduct:function(){var t=this;this.loadingSearch=!0,this.params.page=this.current_page+1,(0,r.searchProduct)(this.params).then(function(e){e.data.data.map(function(e){t.dataSearch.push(e)}),t.dataSearch.map(function(t){t.select=!1}),t.current_page=e.data.meta.current_page,t.last_page=e.data.meta.last_page,t.loadingSearch=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataSearch=[],t.imgSearch="/static/img/service-activation/tokopedia/no_product_search1.png",t.loadingSearch=!1})},handleSelect:function(t){this.selectedProduct=(0,o.default)({},t)},syncProduct:function(){var t=this,e={product_id_tokopedia:this.formEdit.product_id?this.formEdit.product_id:this.formEdit.product_id_tokopedia,type:this.formEdit.type,product_id_olsera:this.selectedProduct.id,source_product:this.selectedProduct.type,stock:this.formEdit.stock};null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),this.loadingPair=!0,(0,r.pairProductTokopedia)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.handleClose(),t.$emit("pair"),t.loadingPair=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPair=!1})},handleClose:function(){this.selectedProduct={},this.dataSearch=[],this.params={search:"",per_page:50},this.$emit("cancel")},handleSave:function(){this.$emit("setproduct",this.selectedProduct),this.dataSearch=[],this.params.search="",this.selectedProduct={}},searchFromMount:function(t){this.params.search=t.name,this.handleSearch(!0)}}}},"1BPP":function(t,e,a){"use strict";
/**
 * Vue Currency Input 1.20.3
 * (c) 2018-2020 Matthias Stiller
 * @license MIT
 */
function i(t,e,a){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!0,a),t.dispatchEvent(i)}a.r(e),a.d(e,"CurrencyDirective",function(){return x}),a.d(e,"CurrencyInput",function(){return P}),a.d(e,"parseCurrency",function(){return h}),a.d(e,"setValue",function(){return m});var o=function(t,e,a){return e&&null!=t?Number(t.toFixed(a).split(".").join("")):t},n=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},s=function(t){return t.replace(/^0+(0$|[^0])/,"$1")},r=function(t,e){return(t.match(new RegExp(n(e),"g"))||[]).length},l=function(t,e){return t.substring(0,e.length)===e},c=function(t,e){return t.substring(0,t.indexOf(e))},d=[",",".","٫"],u=function(t){var e=t.currency,a=t.locale,i=t.precision,o=t.autoDecimalMode,n=t.valueAsInteger,s=new Intl.NumberFormat(a,"string"==typeof e?{currency:e,style:"currency"}:{minimumFractionDigits:1}),l=s.format(123456);this.locale=a,this.currency=e,this.digits=[0,1,2,3,4,5,6,7,8,9].map(function(t){return t.toLocaleString(a)}),this.decimalSymbol=r(l,this.digits[0])?l.substr(l.indexOf(this.digits[6])+1,1):void 0,this.groupingSymbol=l.substr(l.indexOf(this.digits[3])+1,1),this.minusSymbol=c(Number(-1).toLocaleString(a),this.digits[1]),void 0===this.decimalSymbol?this.minimumFractionDigits=this.maximumFractionDigits=0:"number"==typeof i?this.minimumFractionDigits=this.maximumFractionDigits=i:"object"!=typeof i||o||n?"string"==typeof e?(this.minimumFractionDigits=s.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=s.resolvedOptions().maximumFractionDigits):this.minimumFractionDigits=this.maximumFractionDigits=2:(this.minimumFractionDigits=i.min||0,this.maximumFractionDigits=void 0!==i.max?i.max:20),"string"==typeof e?(this.prefix=c(l,this.digits[1]),this.negativePrefix=c(s.format(-1),this.digits[1]),this.suffix=l.substring(l.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[6])+1)):(this.prefix=(e||{}).prefix||"",this.negativePrefix=""+this.minusSymbol+this.prefix,this.suffix=(e||{}).suffix||"")};u.prototype.parse=function(t){var e=this.isNegative(t);t=this.normalizeDigits(t),t=this.stripCurrencySymbol(t),t=this.stripMinusSymbol(t);var a=this.decimalSymbol?"("+n(this.decimalSymbol)+"\\d*)?":"",i=t.match(new RegExp("^"+this.integerPattern()+a+"$"));return i?Number((e?"-":"")+this.onlyDigits(i[1])+"."+this.onlyDigits(i[3]||"")):null},u.prototype.format=function(t,e){return void 0===e&&(e={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}),"string"==typeof this.currency?t.toLocaleString(this.locale,Object.assign({},{style:"currency",currency:this.currency},e)):this.insertCurrencySymbol(Math.abs(t).toLocaleString(this.locale,e),t<0||0===t&&1/t<0)},u.prototype.integerPattern=function(){return"(0|[1-9]\\d{0,2}("+n(this.groupingSymbol)+"?\\d{3})*)"},u.prototype.toFraction=function(t){return""+this.digits[0]+this.decimalSymbol+this.onlyLocaleDigits(t.substr(1)).substr(0,this.maximumFractionDigits)},u.prototype.isFractionIncomplete=function(t){return!!this.normalizeDigits(t).match(new RegExp("^"+this.integerPattern()+n(this.decimalSymbol)+"$"))},u.prototype.isNegative=function(t){return l(t,this.negativePrefix)||l(t.replace("-",this.minusSymbol),this.minusSymbol)},u.prototype.insertCurrencySymbol=function(t,e){return""+(e?this.negativePrefix:this.prefix)+t+this.suffix},u.prototype.stripMinusSymbol=function(t){return t.replace("-",this.minusSymbol).replace(this.minusSymbol,"")},u.prototype.stripCurrencySymbol=function(t){return t.replace(this.negativePrefix,"").replace(this.prefix,"").replace(this.suffix,"")},u.prototype.normalizeDecimalSymbol=function(t,e){var a=this;return d.forEach(function(i){t=t.substr(0,e)+t.substr(e).replace(i,a.decimalSymbol)}),t},u.prototype.normalizeDigits=function(t){return"0"!==this.digits[0]&&this.digits.forEach(function(e,a){t=t.replace(new RegExp(e,"g"),a)}),t},u.prototype.onlyDigits=function(t){return this.normalizeDigits(t).replace(/\D+/g,"")},u.prototype.onlyLocaleDigits=function(t){return t.replace(new RegExp("[^"+this.digits.join("")+"]*","g"),"")};var p={locale:void 0,currency:"EUR",valueAsInteger:!1,distractionFree:!0,precision:void 0,autoDecimalMode:!1,valueRange:void 0,allowNegative:!0},h=function(t,e){var a=Object.assign({},p,e),i=new u(a);return o(i.parse(t),a.valueAsInteger,i.maximumFractionDigits)},m=function(t,e){return i(t,"format",{value:e})},g=function(t,e){return t.setSelectionRange(e,e)},f=function(t,e){if(t===e)return!0;if(!t||!e||"object"!=typeof t||"object"!=typeof e)return!1;var a=Object.keys(t);return a.length===Object.keys(e).length&&(!!a.every(Object.prototype.hasOwnProperty.bind(e))&&a.every(function(a){return f(t[a],e[a])}))},v=function(t){this.numberFormat=t};v.prototype.conformToMask=function(t,e){var a=this;void 0===e&&(e="");var i=this.numberFormat.isNegative(t),o=t;o=this.numberFormat.stripCurrencySymbol(o);var n=function(t){if(""===t&&i&&e!==a.numberFormat.negativePrefix)return"";if(a.numberFormat.maximumFractionDigits>0){if(a.numberFormat.isFractionIncomplete(t))return t;if(l(t,a.numberFormat.decimalSymbol))return a.numberFormat.toFraction(t)}return null}(o=this.numberFormat.stripMinusSymbol(o));if(null!=n)return this.numberFormat.insertCurrencySymbol(n,i);var r=o.split(this.numberFormat.decimalSymbol),c=r[0],d=r.slice(1),u=s(this.numberFormat.onlyDigits(c)),p=this.numberFormat.onlyDigits(d.join("")).substr(0,this.numberFormat.maximumFractionDigits),h=d.length>0&&0===p.length,m=""===u&&i&&(e===t.slice(0,-1)||e!==this.numberFormat.negativePrefix);return h||m?e:u.match(/\d+/)?{numberValue:Number((i?"-":"")+u+"."+p),fractionDigits:p}:""};var _=function(t){this.numberFormat=t};_.prototype.conformToMask=function(t){if(""===t)return"";var e=this.numberFormat.isNegative(t),a=""===this.numberFormat.stripMinusSymbol(t)?-0:Number((e?"-":"")+s(this.numberFormat.onlyDigits(t)))/Math.pow(10,this.numberFormat.minimumFractionDigits);return{numberValue:a,fractionDigits:a.toFixed(this.numberFormat.minimumFractionDigits).slice(-this.numberFormat.minimumFractionDigits)}};var k=Math.pow(2,53)-1,y=function(t,e,a){var i=a.$CI_DEFAULT_OPTIONS,o="input"===t.tagName.toLowerCase()?t:t.querySelector("input");if(!o)throw new Error("No input element found");var n=Object.assign({},i||p,e),s=n.distractionFree,r=n.autoDecimalMode,l=n.valueRange;"boolean"==typeof s&&(n.distractionFree={hideCurrencySymbol:s,hideNegligibleDecimalDigits:s,hideGroupingSymbol:s}),n.valueRange=l?{min:void 0!==l.min?Math.max(l.min,-k):-k,max:void 0!==l.max?Math.min(l.max,k):k}:{min:-k,max:k},r?(n.distractionFree.hideNegligibleDecimalDigits=!1,o.setAttribute("inputmode","numeric")):o.setAttribute("inputmode","decimal");var c=new u(n);return o.$ci=Object.assign({},o.$ci||{numberValue:null},{options:n,numberMask:n.autoDecimalMode?new _(c):new v(c),currencyFormat:c}),o},b=function(t,e){var a=t.$ci,n=a.numberValue,s=a.currencyFormat,r=a.options;i(t,e,{numberValue:n=o(n,r.valueAsInteger,s.maximumFractionDigits)})},C=function(t,e,a){void 0===a&&(a=!1);var i=t.$ci,o=i.currencyFormat,n=i.options;S(t,null!=e?o.format(function(t,e){return Math.min(Math.max(t,e.min),e.max)}(e,n.valueRange)):null),(e!==t.$ci.numberValue||a)&&b(t,"change")},S=function(t,e,a){void 0===a&&(a=!1),function(t,e,a){if(null!=e){var i=t.$ci,o=i.focus,n=i.decimalSymbolInsertedAt,s=i.options,r=i.numberMask,l=i.currencyFormat,c=i.previousConformedValue,d=s.allowNegative,u=s.distractionFree;void 0!==n&&(e=l.normalizeDecimalSymbol(e,n),t.$ci.decimalSymbolInsertedAt=void 0);var p,h=r.conformToMask(e,c);if("object"==typeof h){var m=h.numberValue,g=h.fractionDigits,f=l.maximumFractionDigits,v=l.minimumFractionDigits;o&&(v=f),v=a?g.replace(/0+$/,"").length:Math.min(v,g.length),p=m>k?c:l.format(m,{useGrouping:!(o&&u.hideGroupingSymbol),minimumFractionDigits:v,maximumFractionDigits:f})}else p=h;d||(p=p.replace(l.negativePrefix,l.prefix)),o&&u.hideCurrencySymbol&&(p=p.replace(l.negativePrefix,l.minusSymbol).replace(l.prefix,"").replace(l.suffix,"")),t.value=p,t.$ci.numberValue=l.parse(t.value)}else t.value=t.$ci.numberValue=null;t.$ci.previousConformedValue=t.value}(t,e,a),b(t,"input")},w=function(t){t.addEventListener("input",function(e){if(!e.detail){var a=t.value,i=t.selectionStart,o=t.$ci,n=o.currencyFormat,s=o.options;S(t,a),t.$ci.focus&&g(t,function(t,e,a,i,o){var n=i.prefix,s=i.suffix,l=i.decimalSymbol,c=i.maximumFractionDigits,d=i.groupingSymbol,u=e.indexOf(l)+1,p=e.length-a;return Math.abs(t.length-e.length)>1&&a<=u?t.indexOf(l)+1:t.substr(a,1)===d&&r(t,d)===r(e,d)+1?t.length-p-1:(!o.autoDecimalMode&&0!==u&&a>u&&i.onlyDigits(e.substr(u)).length-1===c&&(p-=1),o.distractionFree.hideCurrencySymbol?t.length-p:Math.max(t.length-Math.max(p,s.length),0===n.length?0:n.length+1))}(t.value,a,i,n,s))}},{capture:!0}),t.addEventListener("keypress",function(e){d.includes(e.key)&&(t.$ci.decimalSymbolInsertedAt=t.selectionStart)}),t.addEventListener("format",function(e){var a=t.$ci,i=a.currencyFormat,o=a.options,n=a.numberValue,s=function(t){return o.valueAsInteger&&null!=t?t/Math.pow(10,i.maximumFractionDigits):t}(e.detail.value);n!==s&&C(t,s)}),t.addEventListener("focus",function(){t.$ci.focus=!0;var e=t.$ci.options.distractionFree,a=e.hideCurrencySymbol,i=e.hideGroupingSymbol,o=e.hideNegligibleDecimalDigits;(a||i||o)&&setTimeout(function(){var e=t.value,a=t.selectionStart,i=t.selectionEnd;e&&S(t,e,o),Math.abs(a-i)>0?t.setSelectionRange(0,t.value.length):g(t,function(t,e,a,i){var o=i;return e.distractionFree.hideCurrencySymbol&&(o-=t.prefix.length),e.distractionFree.hideGroupingSymbol&&(o-=r(a.substring(0,i),t.groupingSymbol)),Math.max(0,o)}(t.$ci.currencyFormat,t.$ci.options,e,a))})}),t.addEventListener("blur",function(){t.$ci.focus=!1,null!=t.$ci.numberValue&&C(t,t.$ci.numberValue)}),t.addEventListener("change",function(e){e.detail||b(t,"change")})},x={bind:function(t,e,a){var i=e.value,o=a.context,n=y(t,i,o);w(n),m(n,n.$ci.currencyFormat.parse(n.value))},componentUpdated:function(t,e,a){var i=e.value,o=e.oldValue,n=a.context;if(!f(i,o)){var s=y(t,i,n);C(s,s.$ci.numberValue,!0)}}},P={render:function(t){var e=this;return t("input",{directives:[{name:"currency",value:this.options}],on:Object.assign({},this.$listeners,{change:function(t){t.detail&&e.$emit("change",t.detail.numberValue)},input:function(t){t.detail&&e.value!==t.detail.numberValue&&e.$emit("input",t.detail.numberValue)}})})},directives:{currency:x},name:"CurrencyInput",props:{value:{type:Number,default:null},locale:{type:String,default:void 0},currency:{type:[String,Object],default:void 0},distractionFree:{type:[Boolean,Object],default:void 0},precision:{type:[Number,Object],default:void 0},autoDecimalMode:{type:Boolean,default:void 0},valueAsInteger:{type:Boolean,default:void 0},valueRange:{type:Object,default:void 0},allowNegative:{type:Boolean,default:void 0}},mounted:function(){this.setValue(this.value)},computed:{options:function(){var t=this,e=Object.assign({},this.$CI_DEFAULT_OPTIONS||p);return Object.keys(p).forEach(function(a){void 0!==t[a]&&(e[a]=t[a])}),e}},watch:{value:"setValue"},methods:{setValue:function(t){m(this.$el,t)}}},D={install:function(t,e){void 0===e&&(e={});var a=e.componentName;void 0===a&&(a=P.name);var i=e.directiveName;void 0===i&&(i="currency");var o=e.globalOptions;void 0===o&&(o={}),t.prototype.$CI_DEFAULT_OPTIONS=Object.assign({},p,o),t.component(a,P),t.directive(i,x),t.prototype.$parseCurrency=function(t,e){return void 0===e&&(e={}),h(t,Object.assign({},o,e))}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(D),e.default=D},"2rSm":function(t,e,a){"use strict";a.r(e);var i=a("q6oi"),o=a("WcWU");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="offscreenDetailProduct.vue",e.default=r.exports},"7+Qs":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a("QbLZ")),o=l(a("DChC")),n=l(a("XFEm")),s=a("td9W"),r=l(a("HIJ2"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{CloseEsc:n.default,PopoverConfirmation:r.default},mixins:[o.default],props:{show:{type:Boolean,default:!1},formEdit:{type:Object,default:null}},data:function(){return{params:{search:"",per_page:50},dataSearch:[],current_page:0,last_page:0,loadingSearch:!1,selectedProduct:{},loadingPair:!1,visibleChangeStatus:!1,loadingStatus:!1,showUpdateStock:!1}},watch:{formEdit:function(t){console.log("tracert",t),t&&(this.formData=(0,i.default)({},t),console.log(this.formData))}},computed:{},mounted:function(){},methods:{syncProduct:function(){var t=this,e={product_id_tokopedia:this.formEdit.product_id,type:this.formEdit.type,product_id_olsera:this.selectedProduct.id,source_product:this.selectedProduct.type,stock:this.formEdit.stock,merchant_tokopedia_id:this.tokopediaActiveStore.id};this.loadingPair=!0,(0,s.pairProductTokopedia)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.handleClose(),t.loadingPair=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPair=!1})},handleClose:function(){this.$emit("cancel")},resyncProduct:function(){this.$emit("resync",this.formEdit)},cancelSwitch:function(){this.visibleChangeStatus=!1},handleChangeStatus:function(t){var e=this;this.visibleChangeStatus=!1,this.loadingStatus=!0;var a={status:t,type:this.formEdit.type,product_id:[this.formEdit.product_id],merchant_tokopedia_id:this.tokopediaActiveStore.id};(0,s.changeStatusProduct)(a).then(function(t){e.$message({type:"success",message:t.data.data.message}),e.loadingStatus=!1,e.$emit("refresh")}).catch(function(t){e.$message({type:"error",message:t.string}),e.loadingStatus=!1})},updateStock:function(){var t=this;this.loadingUpdateStock=!0;var e={product_id_tokopedia:this.formEdit.product_id,type:this.formEdit.type,stock:this.formEdit.pair.stock};null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,s.updateSingleProductTokopedia)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.loadingUpdateStock=!1,t.showUpdateStock=!1,t.$emit("refresh")}).catch(function(e){console.log("e",e),t.$message({type:"error",message:e.string}),t.loadingUpdateStock=!1})},handleUnpairProduct:function(){var t=this,e={product_id_tokopedia:this.formEdit.product_id?this.formEdit.product_id:this.formEdit.product_id_tokopedia,type:this.formEdit.type};null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),this.loadingPair=!0,(0,s.unpairProductTokopedia)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.$emit("unpair"),t.loadingPair=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPair=!1})}}}},"7efQ":function(t,e,a){"use strict";a.r(e);var i=a("hszg"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},A6uU:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=p(a("QbLZ")),o=p(a("FyfS")),n=p(a("GQeE")),s=p(a("m1cH")),r=p(a("DChC")),l=a("td9W"),c=a("xCek"),d=p(a("Ckak")),u=p(a("F3uw"));function p(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[r.default],components:{InputMoney:d.default,listVariantDuplicate:u.default},props:{show:{type:Boolean,default:!1},tempItem:{type:Object,default:{}},dataTemp:{type:Object,default:{}}},mounted:function(){},data:function(){return{maxVariant:!1,searchCategoryData:[],searchVariantData:[],variantTokped:[],tableData:[],typeVariantTokped:[{name:"",variant_id:null,unit_id:null,options:[]},{name:"",variant_id:null,unit_id:null,options:[]}],unitVariantTokped:[],unitGroup:[],loadingPreUpload:!1,searchBrandData:[],loadingUpload:!1,isHideMerk:!1,loadingCheckBrand:!1,formBulk:{stock_qty:"",sku:"",sell_price:""},checkAll:!1,loadingDuplicate:!1}},computed:{dataVariant:function(){var t=[].concat((0,s.default)(this.tempItem.variants)),e=[].concat((0,s.default)(this.tempItem.variant_label)),a=[],i=[];t.map(function(t){t.nameVar=t.name.split(",")}),t.map(function(t){e.map(function(e,o){0===o&&a.push(t.nameVar[o]),1===o&&i.push(t.nameVar[o])})});var o=a.map(function(t){return{count:1,name:t}}).reduce(function(t,e){return t[e.name]=(t[e.name]||0)+e.count,t},{}),r=i.map(function(t){return{count:1,name:t}}).reduce(function(t,e){return t[e.name]=(t[e.name]||0)+e.count,t},{});return a=(0,n.default)(o).sort(function(t,e){return o[t]<o[e]}),i=(0,n.default)(r).sort(function(t,e){return o[t]<o[e]}),{data0:a,data1:i}},dataUnitValue:function(){var t=this,e=[],a=[];return this.unitGroup.map(function(i,o){t.unitVariantTokped[o].map(function(t){i===t.unit_id&&(0===o&&(e=[].concat((0,s.default)(t.values))),1===o&&(a=[].concat((0,s.default)(t.values))))})}),[e,a]},uploadPhotoUrl:function(){return(0,c.baseApi)(this.selectedStore.url_id,this.langId,"product/upload")},headersReverify:function(){return{Authorization:"Bearer "+this.token.access_token}},computedHeaderTable:function(){var t=[].concat((0,s.default)(this.tempItem.variant_label)).concat(["Harga","Qty","SKU"]),e=[];return this.tempItem.variant_label.map(function(t,a){e.push("name"+a)}),{header:t,cols:e.concat(["sell_price","stock_qty","sku","photos"])}},disableApplyBulk:function(){var t=!0;return this.tempItem.variants.map(function(e){console.log("aaa"),e.checked&&(t=!1)}),this.$forceUpdate(),t}},methods:{getCategorySearch:function(t,e){var a=this,i={sort_column:"name",sort_type:"asc",search:t,per_page:50};(0,l.fetchCategoryTokopedia)(i).then(function(t){var i=!0,n=!1,s=void 0;try{for(var r,l=(0,o.default)(t.data.data);!(i=(r=l.next()).done);i=!0){var c=r.value;c.value=c.name}}catch(t){n=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw s}}a.searchCategoryData=t.data.data,e(a.searchCategoryData)}).catch(function(t){console.log(t)})},getTypeVariant:function(t,e){var a=this,i={sort_column:"name",sort_type:"asc",search:t,per_page:50,category_id:this.tempItem.tokopedia_meta.category_id};(0,l.getVariantTokopedia)(i).then(function(t){var i=!0,n=!1,s=void 0;try{for(var r,l=(0,o.default)(t.data.data);!(i=(r=l.next()).done);i=!0){var c=r.value;c.value=c.name}}catch(t){n=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw s}}a.searchVariantData=t.data.data,e(a.searchVariantData)}).catch(function(t){console.log(t)})},handleSelectCategory:function(t){this.tempItem.tokopedia_meta.category_id=t.tokopedia_category_id,this.tempItem.tokopedia_meta.brand_id=null,this.tempItem.tokopedia_meta.brand_name="",this.checkHaveMerk()},handleSelectTypeVariant:function(t){this.typeVariantTokped[0].variant_id=t.variant_id,this.unitVariantTokped[0]=t.units},handleSelectTypeVariantSecond:function(t){this.typeVariantTokped[1].variant_id=t.variant_id,this.unitVariantTokped[1]=t.units},refreshTable:function(){var t=this,e=[],a=[];if(a[0]=this.dataVariant.data0,this.tempItem.variant_label.length>1&&(a[1]=this.dataVariant.data1),this.tempItem.variant_label.length>=1){var i=this.printCombinations(a);console.log("print",i),i.forEach(function(a,i){var o="",n="",s="",r="",l="",c="";t.tableData.length>0&&t.tableData.map(function(t,e){if(i!==e)return!1;o=t.sku,n=t.sell_price,s=t.stock_qty,r=t.photos,l=t.productId,c=t.status});var d={name:a,sku:o,sell_price:n,stock_qty:s,photos:r,product_id:l,status:c};e.push(d)}),e.map(function(e){e.id=null,e.sku=t.tempItem.sku,e.product_id=t.tempItem.id,e.sell_price=t.tempItem.sell_price,e.stock_qty=t.tempItem.stock_qty,e.photos=t.tempItem.photos,e.status="",t.tempItem.variants.map(function(t){e.name===t.name&&(e.id=t.id,e.sku=t.sku,e.product_id=t.product_id,e.sell_price=t.sell_price,e.stock_qty=t.stock_qty,e.photos=t.photos,e.status=t.status)})})}else if(1===this.data.names.length&&0!==this.data.names.length){this.data.names[0].forEach(function(a,i){var o="",n="",s="";t.productData&&(t.productData.sku&&(o=t.productData.sku+"-"+i),t.productData.sell_price&&(n=t.productData.sell_price),t.productData.sell_price_pos&&(s=t.productData.sell_price_pos));var r={name:a,unit:"",sku:o,sell_price:n,sell_price_pos:s};e.push(r)})}this.tableData=e,this.dataCompleted=!0},printCombinations:function(t){return function t(e){if(1===e.length)return e[0];for(var a=[],i=t(e.slice(1)),o=0;o<i.length;o++)for(var n=0;n<e[0].length;n++)a.push(e[0][n]+","+i[o]);return a}(t)},handleSaveSingleProduct:function(){var t=this,e=(0,i.default)({},this.tempItem);e.merchant_tokopedia_id=this.tokopediaActiveStore.id,e.tokopedia_meta.selection=[];e.tokopedia_meta.brand_id&&null!==e.tokopedia_meta.brand_id&&(e.tokopedia_meta.brand_availability=1),this.unitGroup.map(function(e,a){t.unitVariantTokped[a].map(function(i){i.unit_value_id=i.value_id,e===i.unit_id&&(t.typeVariantTokped[a].unit_id=e)})}),this.typeVariantTokped.map(function(e,a){e.id=e.variant_id,t.dataTemp[a]&&(console.log("selet",t.dataTemp[a]),e.options=t.dataTemp[a].options)}),1===this.unitGroup.length&&this.typeVariantTokped.splice(1,1),e.tokopedia_meta.selection=[].concat((0,s.default)(this.typeVariantTokped)),console.log("data",e),0===e.has_pre_upload?(this.loadingPreUpload=!0,(0,l.preUploadProduct)(e).then(function(e){t.loadingPreUpload=!1,t.$emit("close")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPreUpload=!1})):(this.loadingPreUpload=!0,(0,l.updatePreUploadProduct)(e).then(function(e){t.loadingPreUpload=!1,t.showDetailItem=!1,t.$emit("close")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPreUpload=!1}))},getBrandSearch:function(t,e){var a=this,i={sort_column:"name",sort_type:"asc",search:t,per_page:50,category_id:this.tempItem.tokopedia_meta.category_id};(0,l.getBrandTokopedia)(i).then(function(t){var i=!0,n=!1,s=void 0;try{for(var r,l=(0,o.default)(t.data.data);!(i=(r=l.next()).done);i=!0){var c=r.value;c.value=c.name}}catch(t){n=!0,s=t}finally{try{!i&&l.return&&l.return()}finally{if(n)throw s}}a.searchBrandData=t.data.data,e(a.searchBrandData)}).catch(function(t){console.log(t)})},handleSelectBrand:function(t){this.tempItem.tokopedia_meta.brand_id=t.id,this.$forceUpdate()},checkHaveMerk:function(){var t=this,e={category_id:this.tempItem.tokopedia_meta.category_id};this.loadingCheckBrand=!0,(0,l.getBrandTokopedia)(e).then(function(e){t.isHideMerk=!1,t.loadingCheckBrand=!1}).catch(function(e){console.log(e),t.isHideMerk=!0,t.loadingCheckBrand=!1})},setShowMerk:function(){this.isHideMerk=!0},setTypeVariantTokped:function(t){var e=this;t.map(function(a,i){e.typeVariantTokped[i]=t[i]})},beforeUpload:function(t){var e="image/jpeg"===t.type,a="image/png"===t.type;return e||a||this.$message.error(this.$lang[this.langId].error_upload_photo),e||a},handleUploadProgress:function(t){this.loadingUpload=!0},handleUploadSuccess:function(t,e,a){console.log("res",t),0===this.tempItem.photos.length?this.tempItem.photos=[t.data[0]]:this.tempItem.photos[0]=t.data[0],this.tempItem.photo_md=t.data[0].photo_md,this.tempItem.photo_xs=t.data[0].photo_xs,this.tempItem.photo_name=t.data[0].file_name,this.loadingUpload=!1},handleUploadError:function(t){this.loading=!1,this.loadingUpload=!1,this.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})},resetDataUnit:function(){this.unitVariantTokped=[],this.unitGroup=[]},saveSingleProductBatch:function(){var t=this;this.loadingDuplicate=!0;var e=this.tempItem;null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),e.tokopedia_meta.brand_id&&null!==e.tokopedia_meta.brand_id&&(e.tokopedia_meta.brand_availability=1),this.unitGroup.map(function(e,a){t.unitVariantTokped[a].map(function(i){i.unit_value_id=i.value_id,e===i.unit_id&&(t.typeVariantTokped[a].unit_id=e)})}),this.typeVariantTokped.map(function(e,a){e.id=e.variant_id,t.tempItem.tokopedia_meta.selection[a]&&(e.options=t.tempItem.tokopedia_meta.selection[a].options)}),1===this.unitGroup.length&&this.typeVariantTokped.splice(1,1),this.typeVariantTokped.map(function(e,a){null===e.id&&t.typeVariantTokped.splice(a,1)}),e.variants.map(function(t){t.sell_price=parseInt(t.sell_price)}),e.tokopedia_meta.selection=[].concat((0,s.default)(this.typeVariantTokped)),(0,l.duplicateSingleProduct)(e).then(function(e){t.loadingDuplicate=!1,t.showDetailItem=!1,t.$emit("close"),t.$emit("refresh")}).catch(function(e){console.log("err",e),t.$message({type:"error",message:e.string}),t.loadingDuplicate=!1})},handleUploadImageVariant:function(t){this.tempItem.variants.map(function(e){e.id===t.id&&(e.photos=[t.photos])})},handleCheckAll:function(t){this.tempItem.variants.map(function(e){e.checked=t}),this.$forceUpdate()},handleCheckbox:function(){this.$forceUpdate()},setAllVariant:function(){var t=this;this.tempItem.variants.map(function(e){console.log("setall",e.name.replace(/\s+/g,"")),e.checked&&(e.stock_qty=t.formBulk.stock_qty,e.sku=t.formBulk.sku+e.name.replace(/\s+/g,""),e.sell_price=t.formBulk.sell_price)})}}}},"BMj+":function(t,e,a){"use strict";a.r(e);var i=a("+S2o"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},D9VB:function(t,e,a){"use strict";a.r(e);var i=a("0lxS"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},F3uw:function(t,e,a){"use strict";a.r(e);var i=a("ey+o"),o=a("/Ilv");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="listVariantDuplicate.vue",e.default=r.exports},FSah:function(t,e,a){"use strict";a.r(e);var i=a("tEeg"),o=a("BMj+");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="duplicateProduct.vue",e.default=r.exports},FyfS:function(t,e,a){t.exports={default:a("fUKC"),__esModule:!0}},HwJi:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-center color-white--bg",staticStyle:{"z-index":"10"}},[t._v("\n        Hubungkan ke Toko Olsera\n        "),a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1),t._v(" "),a("div",{staticClass:"p-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"flex-container full-width"},[a("div",[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:32,shape:"square"}}),t._v(" "),a("el-avatar",{staticClass:"mr-4",staticStyle:{position:"absolute",left:"50px"},attrs:{src:"/static/img/tokopedia.png",size:20}})],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                  "+t._s(t.formEdit.name)+"\n                ")]),t._v(" "),""!==t.formEdit.sku&&null!==t.formEdit.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+" • "+t._s(t.formEdit.sku)+"\n                ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+"\n                ")])])])]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{width:"30%"}},[t._v("\n            "+t._s(t.formEdit.stock)+" stock\n          ")])])]),t._v(" "),a("div",{staticClass:"table-handler-flex full-width text-right px-24"},[a("el-input",{staticClass:"inline-form input-search full-width",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:function(e){return t.handleSearch(!1)}},model:{value:t.params.search,callback:function(e){t.$set(t.params,"search",e)},expression:"params.search"}})],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSearch,expression:"loadingSearch"}],staticClass:"p-24 text-center mb-42"},[0===t.dataSearch.length?a("div",[a("img",{attrs:{src:t.imgSearch}})]):a("div",[t._l(t.dataSearch,function(e){return a("div",{key:e.id,staticClass:"like-table-wrapper--item pointer flex-container",class:t.selectedProduct&&t.selectedProduct.id===e.id?"active":"",attrs:{id:"here"},on:{click:function(a){return t.handleSelect(e)}}},[a("div",{staticClass:"full-width text-left"},[a("div",{staticClass:"flex-container full-width"},[a("el-avatar",{attrs:{src:e.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"container-icon",staticStyle:{position:"absolute","align-items":"unset !important",left:"50px"}},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                    "+t._s(e.name)+"\n                  ")]),t._v(" "),null!==e.sku&&""!==e.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                    "+t._s(e.fsell_price)+" • "+t._s(e.sku)+"\n                  ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                    "+t._s(e.fsell_price)+"\n                  ")])])],1)]),t._v(" "),t.selectedProduct&&t.selectedProduct.id===e.id?a("div",{staticClass:"container-icon"},[a("svg-icon",{attrs:{"icon-class":"awesome-check-circle"}})],1):a("div",{staticClass:"text-right",staticStyle:{width:"40%"}},[t._v("\n              "+t._s(e.qty)+" stock\n            ")])])}),t._v(" "),t.last_page>t.current_page?a("el-button",{staticClass:"btn-block mt-24",on:{click:t.getMoreProduct}},[t._v("\n            "+t._s(t.rootLang.load_more)+"\n          ")]):t._e()],2)]),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer"},[t.fromBulk?a("el-button",{staticClass:"btn-block mt-24",attrs:{loading:t.loadingPair,disabled:t.disabledSave,type:"success"},on:{click:t.handleSave}},[t._v("\n          "+t._s(t.rootLang.save)+"\n        ")]):a("el-button",{staticClass:"btn-block mt-24",attrs:{loading:t.loadingPair,disabled:t.disabledSave,type:"success"},on:{click:t.syncProduct}},[t._v("\n          Hubungkan\n        ")])],1)])]):t._e()])},o=[]},PAhW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(a("DChC")),o=a("xCek");e.default={mixins:[i.default],props:{rowData:{type:Object,default:{}}},data:function(){return{loadingUpload:!1}},computed:{uploadPhotoUrl:function(){return(0,o.baseApi)(this.selectedStore.url_id,this.langId,"product/upload")},headersReverify:function(){return{Authorization:"Bearer "+this.token.access_token}}},methods:{beforeUpload:function(t){var e="image/jpeg"===t.type,a="image/png"===t.type;return e||a||this.$message.error(this.$lang[this.langId].error_upload_photo),e||a},handleUploadProgress:function(t){this.loadingUpload=!0},handleUploadSuccessVariant:function(t,e,a){console.log("res",t),this.rowData.photos=t.data[0],this.rowData.photo_md=t.data[0].photo_md,this.rowData.photo_xs=t.data[0].photo_xs,this.rowData.photo_name=t.data[0].file_name,this.$emit("upload",this.rowData),this.loadingUpload=!1},handleUploadError:function(t){this.loading=!1,this.loadingUpload=!1,this.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})}}}},V1Fh:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"before-close":t.handleClose,"show-close":!1,"append-to-body":"","custom-class":"without-padding mw-1020"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[t._v("\n      "+t._s(t.rootLang.pair_product)+"\n    ")]),t._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:t.handleClose}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{loading:t.loadingSavePair,type:"success"},on:{click:t.handleSavePair}},[t._v(t._s(t.rootLang.pair))])],1)]),t._v(" "),0===t.dataProduct.length?a("div",{staticClass:"no-data-wrapper border border--grey p-32 align-center mt-16",staticStyle:{display:"flex","flex-direction":"column"}},[a("img",{staticClass:"no-data-image",attrs:{src:"/static/img/service-activation/tokopedia/no-product-tokped.png"}}),t._v(" "),a("div",{staticClass:"text-center word-break",staticStyle:{width:"360px"}},[t._v("Sip! Semua produk di Tokopedia telah dihubungkan dengan produk di toko Olseramu")])]):[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"sales-table-max-height mobile-fix-height-unset",attrs:{data:t.dataProductHeader,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"Product Lazada"}},[a("template",{slot:"header"},[a("div",{staticClass:"mr-8 full-width flex-container"},[a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})],1),t._v(" "),a("div",{staticClass:"font-bold font-14"},[t._v("\n              Product Tokopedia\n            ")])])])],2),t._v(" "),a("el-table-column",{attrs:{label:"Stock",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"Product Olsera"}},[a("template",{slot:"header"},[a("div",{staticClass:"mr-8 full-width flex-container"},[a("div",{staticClass:"font-bold font-14 full-width"},[t._v("\n              Product Olsera\n            ")]),t._v(" "),a("div",{staticStyle:{width:"20%"}},[t._v("\n              Stock\n            ")])])])],2)],1),t._v(" "),a("perfect-scrollbar",{staticClass:"scrollBulkPair"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"sales-table-max-height mobile-fix-height-unset",attrs:{data:t.dataProd,"show-header":!1,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"Product Lazada"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"mr-8 flex-container full-width",on:{click:function(a){return t.handleCheck(e.row)}}},[a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:function(a){return t.handleCheck(e.row)}},model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}})],1),t._v(" "),a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pictures,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/tokopedia.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8 word-break"},[t._v("\n                "+t._s(e.row.name)+"\n              ")])])])]}}])},[a("template",{slot:"header"},[a("div",{staticClass:"mr-8 full-width flex-container"},[a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})],1),t._v(" "),a("div",{staticClass:"font-bold font-14"},[t._v("\n              Product Tokopedia\n            ")])])])],2),t._v(" "),a("el-table-column",{attrs:{label:"Stock",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"font-14 px-12",staticStyle:{width:"30%"}},[t._v("\n              "+t._s(e.row.stock)+"\n            ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Product Olsera"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-container full-width px-12 py-8 radius-50 border border--primary",staticStyle:{"max-width":"415px"},style:t.bgOlseradiv[t.idx],on:{mouseover:function(e){return t.setBg(t.idx)},mouseleave:function(e){return t.setBg1(t.idx)}}},[a("div",{staticClass:"font-14 full-width"},[null===e.row.recomendation&&null===e.row.pair?a("div",{staticClass:"pointer",on:{click:function(a){return t.handlePair(e.row)}}},[t._v(t._s(t.rootLang.select)+" Product Olsera")]):null!==e.row.recomendation&&null===e.row.pair?a("div",{staticClass:"flex-container",on:{click:function(a){return t.handlePair(e.row)}}},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.recomendation.pictures,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",{staticClass:"overflow-ellipsis font-bold full-width font-14 ml-8 word-break"},[t._v("\n                  "+t._s(e.row.recomendation.name)+"\n                  "),a("div",{staticClass:"font-8",attrs:{id:"stock"}},[t._v("\n                    OTOMATIS\n                  ")])]),t._v(" "),a("div",{staticClass:"font-14 text-right",staticStyle:{width:"20%"},attrs:{id:"stock"}},[t._v("\n                  "+t._s(e.row.recomendation.stock_qty)+"\n                ")])]):null!==e.row.pair?a("div",{staticClass:"flex-container",on:{click:function(a){return t.handlePair(e.row)}}},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pair.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",{staticClass:"overflow-ellipsis full-width font-bold font-14 ml-8 word-break"},[t._v("\n                  "+t._s(e.row.pair.name)+"\n                ")]),t._v(" "),a("div",{staticClass:"font-14 text-right",staticStyle:{width:"20%"},attrs:{id:"stock"}},[t._v("\n                  "+t._s(e.row.pair.qty)+"\n                ")])]):t._e()])])]}}])})],1)],1),t._v(" "),t.meta.totalProduct>0?a("div",{staticClass:"border border--grey-border table-handler-bottom text-center"},[a("el-pagination",{staticStyle:{"margin-bottom":"20px"},attrs:{total:t.meta.totalProduct,"page-sizes":[15,50,100],"page-size":t.meta.page_size,"current-page":t.meta.currentPage,background:"",layout:"sizes, prev, pager, next"},on:{"update:currentPage":function(e){return t.$set(t.meta,"currentPage",e)},"update:current-page":function(e){return t.$set(t.meta,"currentPage",e)},"current-change":t.handleChangePage,"size-change":t.handleChangeSizePage}})],1):t._e()],t._v(" "),a("offscreen-sync-product",{attrs:{show:t.visibleSynProduct,"form-edit":t.tempDataSync,"from-bulk":!0},on:{setproduct:t.handleSetProduct,cancel:function(e){t.visibleSynProduct=!1}}})],2)},o=[]},WcWU:function(t,e,a){"use strict";a.r(e);var i=a("7+Qs"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},XjOP:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"show-close":!1,fullscreen:"","append-to-body":""},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n      Lengkapi Data Produk\n    ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("close")}}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"tokopedia",loading:t.loadingPreUpload},on:{click:t.handleSaveSingleProduct}},[t._v(t._s(t.lang.save))])]],2),t._v(" "),a("div",[a("div",{staticClass:"px-12 mb-24"},[a("div",{staticClass:"color-info--bg flex-container"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey--icon",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",[t._v("\n          Data produk disini tidak mengubah data produkmu di Olsera\n        ")])])]),t._v(" "),a("div",{staticClass:"flex-container flex-container--start"},[a("div",{staticClass:"mr-8"},[a("div",{staticClass:"font-12"},[t._v("Foto Produk")]),t._v(" "),a("div",{staticClass:"flex-container"},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingUpload,expression:"loadingUpload"}],staticStyle:{width:"100px",height:"100px",display:"flex","justify-content":"center","align-items":"center"},attrs:{action:t.uploadPhotoUrl,headers:t.headersReverify,"before-upload":t.beforeUpload,"show-file-list":!1,"on-progress":t.handleUploadProgress,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError,"list-type":"document-grabfood"}},[t.tempItem&&t.tempItem.photos.length>0?[a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"8px"},attrs:{src:t.tempItem.photo_md,alt:""}})]:[null!==t.tempItem.photo_md?a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"8px"},attrs:{src:t.tempItem.photo_md,alt:""}}):a("i",{staticClass:"el-icon-camera"})]],2)],1)]),t._v(" "),a("div",{staticClass:"full-width"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.product_name))]),t._v(" "),a("el-input",{model:{value:t.tempItem.name,callback:function(e){t.$set(t.tempItem,"name",e)},expression:"tempItem.name"}}),t._v(" "),a("div",{staticClass:"font-12 mt-8"},[t._v(t._s(t.lang.sell_price))]),t._v(" "),a("input-money",{model:{value:t.tempItem.sell_price,callback:function(e){t.$set(t.tempItem,"sell_price",e)},expression:"tempItem.sell_price"}}),t._v(" "),a("div",{staticClass:"flex-container mt-8"},[a("div",{staticClass:"full-width pr-4"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.weight))]),t._v(" "),a("el-input",{model:{value:t.tempItem.weight,callback:function(e){t.$set(t.tempItem,"weight",e)},expression:"tempItem.weight"}})],1),t._v(" "),a("div",{staticClass:"full-width px-4"},[a("div",{staticClass:"font-12"},[t._v("Panjang (cm)")]),t._v(" "),a("el-input",{model:{value:t.tempItem.length_dimension,callback:function(e){t.$set(t.tempItem,"length_dimension",e)},expression:"tempItem.length_dimension"}})],1),t._v(" "),a("div",{staticClass:"full-width px-4"},[a("div",{staticClass:"font-12"},[t._v("Lebar (cm)")]),t._v(" "),a("el-input",{model:{value:t.tempItem.width_dimension,callback:function(e){t.$set(t.tempItem,"width_dimension",e)},expression:"tempItem.width_dimension"}})],1),t._v(" "),a("div",{staticClass:"full-width pl-4"},[a("div",{staticClass:"font-12"},[t._v("Tinggi (cm)")]),t._v(" "),a("el-input",{model:{value:t.tempItem.high_dimension,callback:function(e){t.$set(t.tempItem,"high_dimension",e)},expression:"tempItem.high_dimension"}})],1)])],1)]),t._v(" "),a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mt-24 full-width pr-8"},[a("div",{staticClass:"font-12"},[t._v("Kategory Olsera")]),t._v(" "),a("el-input",{attrs:{disabled:!0},model:{value:t.tempItem.category_name,callback:function(e){t.$set(t.tempItem,"category_name",e)},expression:"tempItem.category_name"}})],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingCheckBrand,expression:"loadingCheckBrand"}],staticClass:"mt-24 full-width pl-8"},[a("div",{staticClass:"font-12"},[t._v("Kategory Tokopedia")]),t._v(" "),a("el-autocomplete",{staticClass:"full-width",attrs:{"fetch-suggestions":t.getCategorySearch,placeholder:"Search Category"},on:{select:t.handleSelectCategory},model:{value:t.tempItem.tokopedia_meta.category_name,callback:function(e){t.$set(t.tempItem.tokopedia_meta,"category_name",e)},expression:"tempItem.tokopedia_meta.category_name"}})],1)]),t._v(" "),t.isHideMerk?t._e():a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mt-24 full-width pr-8"},[a("div",{staticClass:"font-12"},[t._v("Merk Olsera")]),t._v(" "),a("el-input",{attrs:{disabled:!0},model:{value:t.tempItem.brand_name,callback:function(e){t.$set(t.tempItem,"brand_name",e)},expression:"tempItem.brand_name"}})],1),t._v(" "),a("div",{staticClass:"mt-24 full-width pl-8"},[a("div",{staticClass:"font-12"},[t._v("Merk Tokopedia")]),t._v(" "),a("el-autocomplete",{staticClass:"full-width",attrs:{"fetch-suggestions":t.getBrandSearch,placeholder:"Search Brand"},on:{select:t.handleSelectBrand},model:{value:t.tempItem.tokopedia_meta.brand_name,callback:function(e){t.$set(t.tempItem.tokopedia_meta,"brand_name",e)},expression:"tempItem.tokopedia_meta.brand_name"}})],1)]),t._v(" "),a("div",{staticClass:"font-16 mt-24"},[t._v("Varian Product")]),t._v(" "),t.tempItem.variant_label.length>2?a("div",{staticClass:"color-info--bg mt-8 p-32 text-center"},[a("svg-icon",{staticStyle:{"font-size":"50px"},attrs:{"icon-class":"icon-warning-triangle"}}),t._v(" "),a("div",{staticClass:"flex-container justify-center"},[a("span",{staticStyle:{width:"264px"}},[t._v("Tipe varian produk melebihi batas yang ditentukan Tokopedia (Max. 2 tipe varian)")])])],1):1===t.tempItem.invalid_variant?a("div",{staticClass:"color-info--bg mt-8 p-32 text-center"},[a("svg-icon",{staticStyle:{"font-size":"50px"},attrs:{"icon-class":"icon-warning-triangle"}}),t._v(" "),a("div",{staticClass:"flex-container justify-center"},[a("span",{staticStyle:{width:"264px"}},[t._v("Product variant list doesnt fit Tokopedia requirement")])])],1):a("div",[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"full-width px-4"},[a("div",{staticClass:"font-12"},[t._v("Tipe variant 1 ("+t._s(t.tempItem.variant_label[0])+")")]),t._v(" "),a("el-autocomplete",{staticClass:"full-width",attrs:{"fetch-suggestions":t.getTypeVariant,placeholder:"Search"},on:{select:t.handleSelectTypeVariant},model:{value:t.typeVariantTokped[0].name,callback:function(e){t.$set(t.typeVariantTokped[0],"name",e)},expression:"typeVariantTokped[0].name"}}),t._v(" "),a("div",{staticClass:"mt-4"},t._l(t.dataVariant.data0,function(e){return a("el-tag",{key:e},[t._v("\n              "+t._s(e)+"\n            ")])}),1)],1),t._v(" "),t.tempItem.variant_label.length>1?a("div",{staticClass:"full-width px-4"},[a("div",{staticClass:"font-12"},[t._v("Tipe variant 2 ("+t._s(t.tempItem.variant_label[1])+")")]),t._v(" "),a("el-autocomplete",{staticClass:"full-width",attrs:{"fetch-suggestions":t.getTypeVariant,placeholder:"Search"},on:{select:t.handleSelectTypeVariantSecond},model:{value:t.typeVariantTokped[1].name,callback:function(e){t.$set(t.typeVariantTokped[1],"name",e)},expression:"typeVariantTokped[1].name"}}),t._v(" "),a("div",{staticClass:"mt-4"},t._l(t.dataVariant.data1,function(e){return a("el-tag",{key:e},[t._v("\n              "+t._s(e)+"\n            ")])}),1)],1):t._e()]),t._v(" "),t.unitVariantTokped.length>=1?a("div",{staticClass:"mt-24 flex-container"},[a("div",{staticClass:"full-width"},[a("el-radio-group",{model:{value:t.unitGroup[0],callback:function(e){t.$set(t.unitGroup,0,e)},expression:"unitGroup[0]"}},[t._l(t.unitVariantTokped[0],function(e){return[a("el-radio",{key:e.unit_id,attrs:{label:e.unit_id}},[t._v(t._s(""===e.name?"Default":e.name))])]})],2)],1),t._v(" "),t.tempItem.variant_label.length>1?a("div",{staticClass:"full-width"},[a("el-radio-group",{model:{value:t.unitGroup[1],callback:function(e){t.$set(t.unitGroup,1,e)},expression:"unitGroup[1]"}},[t._l(t.unitVariantTokped[1],function(e){return[a("el-radio",{key:e.unit_id,attrs:{label:e.unit_id}},[t._v(t._s(""===e.name?"Default":e.name))])]})],2)],1):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"radius-5 color-grey--bg p-12 mt-24"},[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"full-width"},[a("el-checkbox",{staticClass:"font-16 font-bold",on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[t._v("Ubah data variant sekaligus")])],1),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.setAllVariant}},[t._v(t._s(t.rootLang.apply))])],1),t._v(" "),t.tempItem.variant_label.length?a("table",{staticClass:"table table-striped table-bordered mt-24"},[t.computedHeaderTable.header.length?a("thead",[a("tr",t._l(t.computedHeaderTable.header,function(e,i){return a("th",{key:i,staticStyle:{border:"none"},style:{top:t.fixedTop}},[t._t("header-"+i,function(){return[t._v("\n                  "+t._s(0===i?"":e)+"\n                ")]},{header:e})],2)}),0)]):t._e(),t._v(" "),a("tbody",[a("tr",t._l(t.computedHeaderTable.cols,function(e,i){return a("td",{key:i,staticStyle:{border:"none"}},[0===i?[a("div",{staticStyle:{"min-width":"100px"}},[t._v(t._s(t.computedHeaderTable.header[i]))])]:t._e(),t._v(" "),"sell_price"===e?[a("input-money",{staticStyle:{width:"100%"},model:{value:t.formBulk.sell_price,callback:function(e){t.$set(t.formBulk,"sell_price",e)},expression:"formBulk.sell_price"}})]:t._e(),t._v(" "),"stock_qty"===e?[a("el-input",{attrs:{type:"number"},model:{value:t.formBulk.stock_qty,callback:function(e){t.$set(t.formBulk,"stock_qty",e)},expression:"formBulk.stock_qty"}})]:t._e(),t._v(" "),"sku"===e?[a("el-input",{staticStyle:{width:"100%","margin-top":"0"},attrs:{placeholder:t.lang.sku},model:{value:t.formBulk.sku,callback:function(e){t.$set(t.formBulk,"sku",e)},expression:"formBulk.sku"}})]:t._e()],2)}),0)])]):t._e()]),t._v(" "),t.tempItem.variant_label.length?a("table",{staticClass:"table table-striped table-bordered mt-24"},[t.computedHeaderTable.header.length?a("thead",[a("tr",t._l(t.computedHeaderTable.header,function(e,i){return a("th",{key:i,style:{top:t.fixedTop}},[t._t("header-"+i,function(){return[t._v("\n                "+t._s(e)+"\n              ")]},{header:e})],2)}),0)]):t._e(),t._v(" "),a("tbody",t._l(t.tempItem.variants,function(e,i){return a("tr",{key:i},t._l(t.computedHeaderTable.cols,function(i,o){return a("td",{key:o},[t._l(t.tempItem.variant_label,function(i,n){return[o===n?[a("div",{key:n,staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:t.handleCheckbox},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"row.checked"}})],1),t._v(" "),a("div",[t._v(t._s(e.nameVar[n]))])])]:t._e()]}),t._v(" "),"sell_price"===i?[a("input-money",{staticStyle:{width:"100%"},model:{value:e.sell_price,callback:function(a){t.$set(e,"sell_price",a)},expression:"row.sell_price"}})]:t._e(),t._v(" "),"stock_qty"===i?[a("el-input",{attrs:{type:"number"},model:{value:e[i],callback:function(a){t.$set(e,i,a)},expression:"row[col]"}})]:t._e(),t._v(" "),"sku"===i?[a("el-input",{staticStyle:{width:"100%","margin-top":"0"},attrs:{placeholder:t.lang.sku},model:{value:e.sku,callback:function(a){t.$set(e,"sku",a)},expression:"row.sku"}})]:t._e(),t._v(" "),"photos"===i?[a("list-variant-duplicate",{attrs:{rowData:e},on:{upload:t.handleUploadImageVariant}})]:t._e()],2)}),0)}),0)]):t._e()]),t._v(" "),t.tempItem.variant_label.length<=2&&1!==t.tempItem.invalid_variant?a("div",{staticClass:"mt-24"},[a("el-button",{staticClass:"btn-block",attrs:{loading:t.loadingDuplicate,plain:""},on:{click:t.saveSingleProductBatch}},[t._v(" Duplikat produk ini ")])],1):t._e()])])},o=[]},aSHB:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-fullscreen",{staticClass:"page-fullscreen-blibli",attrs:{title:"Tokopedia"},on:{close:function(e){return t.$router.push("/service-activation-v2")}},scopedSlots:t._u([{key:"sticky-top",fn:function(){return[a("div",{staticClass:"card-dual"},[a("card-info",{ref:"cardinfo",staticClass:"card-dual__item",attrs:{title:t.tokopediaStore.shop_name,desc:t.tokopediaStore.total_product_tokopedia+" "+t.lang.product,thumbnail:t.tokopediaStore.photo?t.tokopediaStore.photo:"/static/img/tokopedia.png","merchant-store":t.dataMerchant,"is-loading":t.isLoading,"marketplace-id":"Tokopedia"},on:{addmerchant:function(e){t.visibleTokopediaBeforeIntegration=!0},changemerchant:t.handleChangeMerchant},scopedSlots:t._u([{key:"button",fn:function(){return[a("el-button",{attrs:{type:"text"},on:{click:t.syncDataProduct}},[t._v("\n            Perbarui produk "),a("svg-icon",{attrs:{"icon-class":"refresh-icon"}})],1),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link font-18 color-info"},[a("svg-icon",{attrs:{"icon-class":"more-vertical"}})],1),t._v(" "),a("el-dropdown-menu",{staticStyle:{"background-color":"#F2F2F2"}},[a("el-dropdown-item",[a("el-button",{staticClass:"btn-block text-left",attrs:{type:"text"},on:{click:t.handleGetCategory}},[a("i",{staticClass:"el-icon-setting"}),t._v("\n                  "+t._s(t.rootLang.category_setting)+"\n                ")])],1),t._v(" "),a("el-dropdown-item",[a("el-button",{staticClass:"color-danger btn-block ml-4 text-left",attrs:{type:"text"},on:{click:function(e){t.showDialogConfirmDeAuth=!0}}},[a("div",{staticClass:"full-width"},[a("i",{staticClass:"el-icon-close"}),t._v(" Hapus integrasi ")])])],1)],1)],1)]},proxy:!0}])}),t._v(" "),a("card-info",{staticClass:"card-dual__item",attrs:{title:t.selectedStore.name,thumbnail:t.tokopediaStore.merchant_olsera.logo?t.tokopediaStore.merchant_olsera.logo:"/static/img/tokopedia.png"},scopedSlots:t._u([{key:"button",fn:function(){return[1===t.sameStock&&t.totalConflict>0?[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-12"},[a("el-button",{attrs:{type:"warning",round:""},on:{click:function(e){return t.handleSetSameStock(!0)}}},[t._v("Selesaikan "+t._s(t.rootLang.conflict_stock))])],1),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link font-18 color-info"},[a("svg-icon",{attrs:{"icon-class":"more-vertical"}})],1),t._v(" "),a("el-dropdown-menu",{staticStyle:{"background-color":"#F2F2F2"}},[a("el-dropdown-item",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingShowDuplicate,expression:"loadingShowDuplicate"}],staticClass:"color-primary flex-container full-width ml-4 pointer",on:{click:t.handleManageDuplicate}},[a("div",{staticClass:"full-width"},[t._v(" Duplikat product ")]),t._v(" "),a("svg-icon",{staticClass:"font-18",attrs:{"icon-class":"feather-copy"}})],1)])],1)],1)],1)]:[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingShowDuplicate,expression:"loadingShowDuplicate"}],staticClass:"color-primary full-width ml-4 pointer text-right",on:{click:t.handleManageDuplicate}},[t._v("\n              Duplikat product\n              "),a("svg-icon",{staticClass:"font-18",attrs:{"icon-class":"feather-copy"}})],1)]]},proxy:!0}])})],1),t._v(" "),a("div",{staticClass:"color-info font-12 pointer mt-16 mb-16",on:{click:function(e){t.visibleLogs=!0}}},[a("svg-icon",{attrs:{"icon-class":"clock"}}),t._v(" Terakhir update ke Tokopedia pada "),a("strong",[t._v(t._s(t.dataLogForView.tanggal)+" oleh "+t._s(t.dataLogForView.user))])],1),t._v(" "),a("div",{staticClass:"flex-container pb-16"},[a("div",{staticClass:"flex-container flex-grow-1"},[a("div",{staticClass:"mr-8"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"mb-4",staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"el-select-etalase",attrs:{filterable:"",placeholder:t.rootLang.select+" Category",size:"medium"},on:{change:t.handleFilterbyEtalase},model:{value:t.params.showcase_id,callback:function(e){t.$set(t.params,"showcase_id",e)},expression:"params.showcase_id"}},[a("el-option",{attrs:{label:t.lang.all+" "+t.lang.category,value:0}}),t._v(" "),t._l(t.dataEtalase,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),t._v(" "),t.moreCategory?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingMoreCategory,expression:"loadingMoreCategory"}],staticClass:"load-more mt-24"},[a("el-button",{staticClass:"btn-block",on:{click:t.loadMoreCategory}},[t._v("\n                    "+t._s(t.$lang[t.langId].load_more)+"\n                  ")])],1):t._e()],2)],1)])]),t._v(" "),a("div",{staticClass:"px-8"},[t._v("|")]),t._v(" "),t.dataProduct.length?[t.conflictStock?a("el-button",{class:t.visibleItem[3]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"warning"},on:{click:function(e){return t.showGroup("conflict")}}},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}}),t._v("\n              "+t._s(t.rootLang.conflict_stock)+"\n          ")],1):t._e(),t._v(" "),a("el-button",{class:t.visibleItem[0]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon"},on:{click:function(e){return t.showGroup("all")}}},[t._v("\n              Semua\n          ")]),t._v(" "),a("el-button",{class:t.visibleItem[1]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon"},on:{click:function(e){return t.showGroup("not_pair")}}},[t._v("\n              Belum Terhubung ("+t._s(t.totalUnpair)+")\n          ")]),t._v(" "),a("el-button",{class:t.visibleItem[2]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon"},on:{click:function(e){return t.showGroup("pair")}}},[a("svg-icon",{staticClass:"color-warning mr-4",attrs:{"icon-class":"link-2"}}),t._v("\n              Terhubung ("+t._s(t.totalPair)+")\n          ")],1)]:[a("el-button",{class:t.visibleItem[0]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon"},on:{click:function(e){return t.showGroup("all")}}},[t._v("\n              Semua\n          ")])]],2),t._v(" "),a("div",{staticClass:"text-right"},[a("div",{staticClass:"table-handler-flex full-width text-right",staticStyle:{display:"unset"}},[a("el-input",{staticClass:"input-search",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearchByEnter.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]},proxy:!0},{key:"sticky-bottom",fn:function(){return[t.dataProduct.length?a("card-info",{attrs:{title:"Update Stock ke Tokopedia"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n        Update Stock ke Tokopedia\n      ")]},proxy:!0},{key:"button",fn:function(){return[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"full-width text-right px-8"},[a("span",[t._v("Samakan stok dgn Toko Olsera")]),t._v(" "),a("el-switch",{staticClass:"mr-8 ml-8",attrs:{slot:"reference","active-value":1,"inactive-value":0},on:{change:t.handleSetSameStock},slot:"reference",model:{value:t.sameStock,callback:function(e){t.sameStock=e},expression:"sameStock"}})],1)])]},proxy:!0}],null,!1,510698061)}):t._e()]},proxy:!0}])},[t._v(" "),a("fixed-table",{attrs:{headers:["Produk Tokopedia","Stok","Produk Olsera","Stok",""],data:t.dataProduct,cols:["product_tokopedia","stock_tokopedia","product_olsera","stock_olsera","control"],"fixed-top":"193px","fixed-bottom":"76px","total-data":t.meta.totalProduct,"current-page":t.meta.currentPage,"per-page":t.params.per_page,loading:t.loading,"empty-desc":"Oops, belum ada produk di "+t.selectedStore.name+". Tekan Sinkron Produk lalu hubungkan produk di Tokopedia ke Toko Olseramu."},on:{changepage:t.handleChangePage,"change-size":t.handleChangeSizePage},scopedSlots:t._u([{key:"header-4",fn:function(){return[a("el-button",{staticClass:"btn-block",attrs:{type:"tokopedia",loading:t.loadingBulk},on:{click:t.getDataBulkProduct}},[t._v("\n        Sekaligus\n      ")])]},proxy:!0},{key:"product_tokopedia",fn:function(e){return[a("div",{staticClass:"mr-8 ml-8 flex-container full-width"},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pictures,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/tokopedia.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8",staticStyle:{"max-width":"300px"}},[t._v("\n          "+t._s(e.row.name)+"\n          "),a("div",{staticClass:"font-12 color-grey--placeholder"},[t._v(t._s(e.row.sku))])])])]}},{key:"stock_tokopedia",fn:function(e){return[a("div",{class:1===e.row.balance_stock?"font-14 px-8 color-warning":"font-14 px-8",staticStyle:{width:"30%"}},[t._v("\n        "+t._s(e.row.stock)+"\n      ")])]}},{key:"product_olsera",fn:function(e){return[a("div",{staticClass:"font-14 full-width"},[2===e.row.status?a("div",[t._v(t._s(t.rootLang.not_pair))]):t._e(),t._v(" "),1===e.row.status?a("div",{staticClass:"flex-container p-8",staticStyle:{"align-items":"flex-start !important"}},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pair.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8"},[t._v("\n            "+t._s(e.row.pair.name)+"\n            "),a("div",{staticClass:"font-12 color-grey--placeholder"},[t._v(t._s(e.row.pair.sku))])])]):t._e()])]}},{key:"stock_olsera",fn:function(e){return[1===e.row.status?a("div",{staticClass:"font-14",staticStyle:{width:"30%"},attrs:{id:"stock"}},[t._v("\n        "+t._s(e.row.pair.stock)+"\n      ")]):a("div",[t._v("\n        -\n      ")])]}},{key:"control",fn:function(e){return[2===e.row.status?a("el-button",{attrs:{id:e.row.product_id,type:"pair-tokopedia",round:""},on:{click:function(a){return t.handlePair(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"plus"}}),t._v("\n          Hubungkan\n      ")],1):t._e(),t._v(" "),1===e.row.status&&2===e.row.balance_stock?a("el-button",{attrs:{type:"tokopedia",round:""},on:{click:function(a){return t.handleDetail(t.idx,e.row)}}},[a("svg-icon",{attrs:{"icon-class":"icon-feather-link"}}),t._v("\n          "+t._s(t.rootLang.paired)+"\n      ")],1):t._e(),t._v(" "),1===e.row.status&&1===e.row.balance_stock?a("el-button",{attrs:{type:"warning",round:""},on:{click:function(a){return t.handleDetail(t.idx,e.row)}}},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}}),t._v("\n          "+t._s(t.rootLang.conflict_stock)+"\n      ")],1):t._e()]}}])}),t._v(" "),t._v(" "),a("el-dialog",{attrs:{visible:t.showSetSameStock,"show-close":!1,"close-on-click-modal":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showSetSameStock=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n        Samakan Stock\n      ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:t.cancelSameStock}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"tokopedia",loading:t.loadingUpdateStock},on:{click:t.handleUpdateStock}},[t._v(t._s(t.lang.update))])]],2),t._v(" "),a("div",[t.fixStock?a("div",{staticClass:"mb-24 color-warning--bg color-white radius-10 p-8 flex-container"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}})],1),t._v("\n        "+t._s(t.totalConflict)+" produk konflik ditemukan\n      ")]):t._e(),t._v(" "),a("img",{attrs:{src:"/static/img/service-activation/tokopedia/update_stock.png"}}),t._v(" "),a("div",{staticClass:"mt-24 word-break font-16"},[a("span",{staticClass:"font-bold"},[t._v("Update Stok ke Tokopedia")]),t._v(" untuk menyamakan stok Tokopedia dengan stok produk di toko Olseramu\n      ")])])]),t._v(" "),a("el-dialog",{attrs:{visible:t.showUpdateStock,"show-close":!1,"close-on-click-modal":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showUpdateStock=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[[a("close-esc",{attrs:{hideEsc:!0},on:{close:t.cancelSameStock}})]],2),t._v(" "),0===t.sameStock?a("div",[a("img",{attrs:{src:"/static/img/service-activation/tokopedia/update_stock_2.png"}}),t._v(" "),a("div",{staticClass:"mt-24 word-break font-16"},[t._v("\n        Stok produk di Tokopedia saat ini dibolehkan berbeda dengan produk di toko Olseramu. Nyalakan pelatuk untuk menyamakan stok produk Tokopedia dan Olsera.\n      ")])]):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-block",attrs:{type:"tokopedia",loading:t.loadingUpdateStock},on:{click:t.handleUpdateStock}},[t._v("OK")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.showDialogCategorySet,"show-close":!1,"close-on-click-modal":!0,"before-close":t.handleCloseDialogCategoryPair,width:"696px","append-to-body":""},on:{"update:visible":function(e){t.showDialogCategorySet=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n        "+t._s(t.rootLang.category_setting)+"\n      ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:t.handleCloseDialogCategoryPair}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"tokopedia",loading:t.loadingSaveCategory},on:{click:t.handleSaveCategorySet}},[t._v("\n        "+t._s(t.rootLang.save))])]],2),t._v(" "),a("div",{staticClass:"font-14"},[t._v("\n      "+t._s(t.rootLang.category_setting_head_caption_tokped)+"\n    ")]),t._v(" "),a("div",{staticClass:"table-handler-flex full-width text-right",staticStyle:{"margin-top":"16px"}},[a("el-input",{staticClass:"inline-form input-search full-width",attrs:{size:"small","prefix-icon":"el-icon-search",clearable:"",placeholder:t.rootLang.search_olsera_category,disabled:t.loadinFetchCategory},on:{change:t.handleOnBlurCategoryShopee},model:{value:t.textSearchCategory,callback:function(e){t.textSearchCategory=e},expression:"textSearchCategory"}})],1),t._v(" "),a("div",{staticClass:"flex-container",staticStyle:{"margin-top":"16px","margin-bottom":"24px"}},t._l([{caption:t.rootLang.all,methodPayload:"all",amount:t.totalStatsCategory.all},{caption:t.rootLang.not_pair,methodPayload:"unpaired",amount:t.totalStatsCategory.unpaired},{caption:t.rootLang.paired,methodPayload:"paired",amount:t.totalStatsCategory.paired}],function(e){return a("el-button",{key:e.caption,attrs:{type:"info-addon",round:"",disabled:t.loadinFetchCategory||t.categoryPairStatus===e.methodPayload},on:{click:function(a){return t.handleFilterCategory(e.methodPayload)}}},[t._v("\n        "+t._s(e.caption)+" ("+t._s(e.amount)+")\n      ")])}),1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadinFetchCategory,expression:"loadinFetchCategory"}]},[0!==t.dataCategory.length?[a("perfect-scrollbar",{staticClass:"scrollCat"},t._l(t.dataCategory,function(e,i){return a("div",{key:e.category_id,staticClass:"flex-container mt-8"},[a("div",{staticClass:"full-width",class:""!==e.selectedCat.tokopedia_category_id?"color-tokopedia--bg-soft":"color-info--bg "},[a("div",{staticClass:"p-8"},[a("div",{staticClass:"font-14"},[t._v(t._s(e.category_name))])])]),t._v(" "),a("div",{staticClass:"full-width"},[a("el-select",{staticClass:"full-width",attrs:{"value-key":"name",filterable:"",clearable:"",remote:"",placeholder:"Kategori Tokopedia",loading:t.loadingSearchTokopediaOpt,"remote-method":function(e){return t.getSearchCategoryTokopedia(e,i)}},on:{change:function(){return t.handleOnChangeCategoryTokopedia(i)},clear:function(){return t.handleOnClearCategoryTokopedia(i)}},model:{value:e.selectedCat,callback:function(a){t.$set(e,"selectedCat",a)},expression:"cat.selectedCat"}},t._l(e.optionCat,function(t){return a("el-option",{key:t.tokopedia_category_id,attrs:{label:t.name,value:t}})}),1)],1)])}),0)]:[a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[t._v(t._s(t.rootLang.data_not_found))])]],2),t._v(" "),t.moreCategory?a("div",{staticClass:"full-width",staticStyle:{"margin-top":"16px"}},[a("el-button",{staticClass:"full-width",attrs:{round:"",type:"tokopedia",loading:t.loadingMoreCategory},on:{click:t.loadMoreCategoryPair}},[t._v(t._s(t.rootLang.load_more))])],1):t._e()]),t._v(" "),a("offscreen-sync-product",{ref:"syncproduct",attrs:{show:t.visibleSynProduct,"form-edit":t.formSync},on:{pair:t.handleRefreshFromPair,cancel:t.handleCloseDialogPair}}),t._v(" "),a("offscreen-detail-product",{attrs:{show:t.visibleDetailProduct,"form-edit":t.formDetail},on:{refresh:t.refreshData,cancel:t.handleCloseDialogDetail,resync:t.handleResync,unpair:t.handleUnpair}}),t._v(" "),a("dialog-batch-pair",{attrs:{show:t.showBulkPair,"data-product":t.dataProductBulk,meta:t.metaBulk,"loading-bulk":t.loadingBulk},on:{save:t.saveBulkPair,close:t.closeBulkPair,changepage:t.handleChangePageBulk,changepagesize:t.handleChangeSizePageBulk}}),t._v(" "),a("duplicate-product",{attrs:{show:t.showManageDuplicate,"data-product":t.dataProductDuplicate,"loading-data":t.loadingShowDuplicate,"data-summaries":t.dataSummaries,"next-page":t.next_page_duplicate},on:{refresh:t.refreshDataDuplicate,search:t.handleSearchDuplicate,close:function(e){t.showManageDuplicate=!1},filter:t.handleFilterDuplicate,loadmore:t.loadMoreDataDuplicate}}),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[t.visibleLogs?a("div",{staticClass:"offscreen-right-sidebar"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[t._v("\n          History Update Tokopedia\n          "),a("close-esc",{on:{close:function(e){t.visibleLogs=!1}}})],1),t._v(" "),a("div",{staticStyle:{height:"80%","max-height":"calc(90vh - 48px)",overflow:"auto"}},[t._l(t.dataLogs,function(e,i){return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingLogs,expression:"loadingLogs"}],key:i,staticClass:"like-table-wrapper"},[t._l(t.dataLogs[i],function(e){return a("div",{key:e.id,staticClass:"like-table-wrapper--item"},[[a("div",{staticClass:"font-bold full-width"},[t._v(t._s(e.user))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(e.tanggal))])]],2)}),t._v(" "),t.dataLogs.length>1?a("div",{staticClass:"text-center p-8"},[t._v("page "+t._s(i+1))]):t._e()],2)}),t._v(" "),t.moreLink?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingLogs,expression:"loadingLogs"}],staticClass:"load-more mt-24"},[a("el-button",{staticClass:"btn-block",attrs:{disabled:t.disabledButton},on:{click:t.loadMore}},[t._v("\n              "+t._s(t.$lang[t.langId].load_more)+"\n            ")])],1):t._e()],2)])]):t._e()]),t._v(" "),a("tokopedia-dialog-before-integration",{ref:"dialogintegration",attrs:{show:t.visibleTokopediaBeforeIntegration,"loading-submit":t.loadingSubmit,"data-merchant":t.dataMerchant},on:{cancel:function(e){t.visibleTokopediaBeforeIntegration=!1},submit:t.submitTokopedia}}),t._v(" "),a("el-dialog",{attrs:{visible:t.showDialogConfirmDeAuth,"show-close":!1,"close-on-click-modal":!1,width:"344px","append-to-body":""},on:{"update:visible":function(e){t.showDialogConfirmDeAuth=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"}),t._v(" "),a("div",{staticClass:"text-center"},[a("div",{staticClass:"font-18 font-bold text-center"},[t._v("\n        Apakah Anda yakin ingin menghapus integrasi Tokopedia di Olsera?\n      ")]),t._v(" "),a("div",{staticClass:"font-14 mt-24"},[t._v("\n        Setelah dihapus, proses integrasi Tokopedia akan dimulai dari awal.\n      ")])]),t._v(" "),a("div",{staticClass:"flex-container",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-block",on:{click:function(e){t.showDialogConfirmDeAuth=!1}}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{staticClass:"btn-block",attrs:{type:"tokopedia",loading:t.loadingDeauthorize},on:{click:t.handleDeleteIntegration}},[t._v("Hapus integrasi")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogPendingStore,title:"Status Pengajuan","show-close":!1,"append-to-body":"","custom-class":"without-padding"},on:{"update:visible":function(e){t.dialogPendingStore=e}}},[a("div",{staticClass:"text-center p-32"},[a("div",{staticClass:"mr-8 mb-24"},[a("svg-icon",{staticClass:"font-56 color-grey--icon",attrs:{"icon-class":"icon-clock-black"}})],1),t._v(" "),a("span",{staticClass:"font-18"},[t._v("Sedang diproses")]),t._v(" "),a("div",{staticClass:"font-12"},[t._v("Tunggu ya... Waktu proses paling lama 1-3 hari kerja")])])])],1)},o=[]},bNXp:function(t,e,a){"use strict";a.r(e);var i=a("wXz/"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},"ey+o":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container justify-center"},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingUpload,expression:"loadingUpload"}],attrs:{action:t.uploadPhotoUrl,headers:t.headersReverify,"before-upload":t.beforeUpload,"show-file-list":!1,"on-progress":t.handleUploadProgress,"on-success":t.handleUploadSuccessVariant,"on-error":t.handleUploadError,"list-type":"document-grabfood"}},[[a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"8px"},attrs:{src:t.rowData.photo_md,alt:""}})]],2)],1)},o=[]},fUKC:function(t,e,a){a("ZY/g"),a("C5kU"),t.exports=a("sbOA")},hszg:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a("m1cH")),o=l(a("QbLZ")),n=l(a("DChC")),s=l(a("o+lt")),r=a("td9W");function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"DialogBatchPair",components:{offscreenSyncProduct:s.default},mixins:[n.default],props:{show:{type:Boolean,default:!1},dataProduct:{type:Array,default:[]},meta:{type:Object,default:{}},loadingBulk:{type:Boolean,default:!1}},data:function(){return{dataChecked:[],checkAll:!1,visibleSynProduct:!1,tempDataSync:{},loadingSavePair:!1,dataProductHeader:{}}},computed:{dataProd:function(){var t=this;return this.dataProduct.map(function(e){return e.checked=!1,t.dataChecked.length>0&&t.dataChecked.map(function(t){e.product_id===t.product_id_tokopedia&&(e.checked=!0)}),e})},bgOlseradiv:function(){var t=[];return this.dataProduct.map(function(e){t.push("background-color: #FFFFFF")}),t}},methods:{handleCheck:function(t){var e=this;(console.log("aaa",t),null===t.recomendation&&null===t.pair)?this.$notify({type:"warning",message:this.rootLang.please_select_product_olsera}):this.dataChecked.some(function(e){return e.product_id_tokopedia===t.product_id})?this.dataChecked.map(function(a,i){a.product_id_tokopedia===t.product_id&&e.dataChecked.splice(i,1)}):(t.recomendation&&this.dataChecked.push({product_id_tokopedia:t.product_id,product_id_olsera:t.recomendation.id,source_product:t.recomendation.type,type:t.type,stock:t.stock}),t.pair&&this.dataChecked.push({product_id_tokopedia:t.product_id,product_id_olsera:t.pair.id,source_product:t.pair.type,type:t.type,stock:t.stock}))},handleCheckAll:function(t){var e=this;t?(this.dataChecked=[],this.dataProd.map(function(t){t.recomendation?e.dataChecked.push({product_id_tokopedia:t.product_id,product_id_olsera:t.recomendation.id,source_product:t.recomendation.type,type:t.type,stock:t.stock}):t.pair&&e.dataChecked.push({product_id_tokopedia:t.product_id,product_id_olsera:t.pair.id,source_product:t.pair.type,type:t.type,stock:t.stock})}),0===this.dataChecked.length&&(this.$notify({type:"warning",message:this.rootLang.please_select_product_olsera}),this.checkAll=!this.checkAll)):this.dataChecked=[]},setBg:function(t){this.bgOlseradiv[t]="background-color: #0085CD",console.log("aaa",this.bgOlseradiv[t])},setBg1:function(t){this.bgOlseradiv[t]="background-color: #FFFFFF",console.log("aaa",this.bgOlseradiv[t])},handlePair:function(t){this.tempDataSync=(0,o.default)({},t),this.visibleSynProduct=!0},handleSetProduct:function(t){var e=this;console.log("data",t),this.dataProduct.map(function(a){a.product_id===e.tempDataSync.product_id&&(a.pair=(0,o.default)({},t),e.handleCheck(a))}),this.visibleSynProduct=!1},handleSavePair:function(){var t=this;this.loadingSavePair=!0,this.dataChecked.map(function(e){e.merchant_tokopedia_id=t.tokopediaActiveStore.id});var e=[].concat((0,i.default)(this.dataChecked));(0,r.pairBulkProduct)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.handleClose(!0),t.loadingSavePair=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingSavePair=!1})},handleClose:function(t){this.dataChecked=[],this.tempDataSync={},t?this.$emit("save"):this.$emit("close")},handleChangePage:function(t){this.$emit("changepage",t)},handleChangeSizePage:function(t){this.meta.page_size=t,this.$emit("changepagesize",t)}}}},"o+lt":function(t,e,a){"use strict";a.r(e);var i=a("HwJi"),o=a("D9VB");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="offscreenSyncProduct.vue",e.default=r.exports},q6oi:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left color-white--bg",staticStyle:{"z-index":"10"}},[a("span",{staticClass:"px-16"},[t._v("Detail Produk")]),t._v(" "),a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1),t._v(" "),a("div",{staticClass:"p-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"flex-container full-width"},[a("div",[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:32,shape:"square"}}),t._v(" "),a("el-avatar",{staticClass:"mr-4",staticStyle:{position:"absolute",left:"50px"},attrs:{src:"/static/img/tokopedia.png",size:20}})],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                  "+t._s(t.formEdit.name)+"\n                ")]),t._v(" "),""!==t.formEdit.sku&&null!==t.formEdit.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+" • "+t._s(t.formEdit.sku)+"\n                ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+"\n                ")])])])])])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingStatus,expression:"loadingStatus"}],staticClass:"px-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("label",[t._v("Status Produk (Tokopedia)")])]),t._v(" "),a("div",{staticClass:"full-width flex-container"},[a("div",{staticClass:"full-width text-right"},[0==t.formEdit.product_status?a("span",[t._v(t._s(t.lang.no)+" "+t._s(t.rootLang.active))]):t._e(),t._v(" "),1==t.formEdit.product_status?a("span",[t._v(t._s(t.rootLang.active))]):t._e()]),t._v(" "),a("popover-confirmation",{attrs:{tokopedia:!0,data:t.formEdit.product_status,visible:t.visibleChangeStatus},on:{cancel:t.cancelSwitch,confirm:t.handleChangeStatus}})],1)])]),t._v(" "),a("span",{staticClass:"font-11 px-24"},[t._v(t._s(t.rootLang.status_product_tokopedia_note))]),t._v(" "),a("div",{staticClass:"px-24"},[a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.unit_price))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.price))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.stock_product))]),t._v(" "),a("div",{class:1===t.formEdit.balance_stock?"full-width text-right color-warning":"full-width text-right"},[t._v(t._s(t.formEdit.stock))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.category))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.category))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.etalase)+" ("+t._s(t.rootLang.group)+")")]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.etalase))])])]),t._v(" "),a("div",{staticClass:"p-24"},[a("span",{staticClass:"font-24 font-bold"},[t._v("Terhubung Dengan")])]),t._v(" "),a("div",{staticClass:"p-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:t.formEdit.pair.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"container-watermark-olsera color-white--bg"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                  "+t._s(t.formEdit.pair.name)+"\n                ")]),t._v(" "),""!==t.formEdit.pair.sku&&null!==t.formEdit.pair.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.pair.fprice)+" • "+t._s(t.formEdit.sku)+"\n                ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.fprice)+"\n                ")])])])])])]),t._v(" "),a("div",{staticClass:"px-24"},[a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.unit_price))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair.fsell_price))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.stock_product))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair.stock))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.etalase)+" ("+t._s(t.rootLang.group)+")")]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair.etalase))])])]),t._v(" "),1===t.formEdit.balance_stock?a("div",{staticClass:"px-24 pt-24",staticStyle:{"margin-bottom":"-6px"}},[a("el-button",{staticClass:"btn-block",attrs:{type:"warning"},on:{click:function(e){t.showUpdateStock=!0}}},[t._v("\n          Selesaikan "+t._s(t.rootLang.conflict_stock)+"\n        ")])],1):t._e(),t._v(" "),a("div",{staticClass:"p-24"},["dev"===t.stageLevel||"sit"===t.stageLevel?a("el-button",{staticClass:"btn-block color-danger mb-8",attrs:{loading:t.loadingPair},on:{click:t.handleUnpairProduct}},[t._v("\n          Hapus Hubungan\n        ")]):t._e(),t._v(" "),a("el-button",{staticClass:"btn-block",attrs:{type:"info",loading:t.loadingPair},on:{click:t.resyncProduct}},[t._v("\n          Hubungkan Ulang\n        ")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.showUpdateStock,"show-close":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showUpdateStock=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n          Update Stock\n        ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.showUpdateStock=!1}}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"tokopedia",loading:t.loadingUpdateStock},on:{click:t.updateStock}},[t._v(t._s(t.lang.update))])]],2),t._v(" "),a("div",[a("div",{staticClass:"flex-container"},[a("div",[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:88,shape:"square"}}),t._v(" "),a("el-image",{staticStyle:{position:"absolute",left:"68px"},attrs:{src:"/static/img/service-activation/tokopedia/source_indicator.png",size:40}})],1),t._v(" "),a("div",{staticClass:"color-warning font-40 font-bold ml-24"},[t._v(t._s(t.formEdit.stock))]),t._v(" "),a("div",[a("el-image",{attrs:{src:"/static/img/service-activation/tokopedia/arrow_right.png",size:40}})],1),t._v(" "),a("div",{staticClass:"avatar-tokped text-right",style:"background-image: url("+t.formEdit.pictures+")"},[a("div",{staticClass:"watermark-tokped color-white--bg fl-right flex-container"})]),t._v(" "),a("div",{staticClass:"color-warning font-40 font-bold ml-24"},[t._v(t._s(t.formEdit.pair.stock))])]),t._v(" "),a("div",{staticClass:"mt-24 word-break"},[a("span",{staticClass:"font-bold"},[t._v("Update Stok ke Tokopedia")]),t._v(" untuk menyamakan stok Tokopedia dengan stok produk di toko Olseramu\n        ")])])])],1):t._e()])},o=[]},"qrV/":function(t,e,a){"use strict";a.r(e);var i=a("V1Fh"),o=a("7efQ");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="dialogBatchPair.vue",e.default=r.exports},s00c:function(t,e,a){"use strict";a.r(e);var i=a("aSHB"),o=a("bNXp");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="manage.vue",e.default=r.exports},sbOA:function(t,e,a){var i=a("d+lc"),o=a("I90/");t.exports=a("VSTI").getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},tEeg:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left color-white--bg",staticStyle:{"z-index":"10"}},[t._v("\n        Duplikat produk ke Tokopedia\n        "),a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1),t._v(" "),a("div",{staticClass:"table-handler-flex full-width text-right px-24"},[a("el-input",{staticClass:"inline-form input-search full-width",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearchByEnter.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("perfect-scrollbar",{staticClass:"horizontal-scroll",attrs:{options:t.scrollOption}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],staticClass:"flex-container py-12 px-24"},[a("el-button",{attrs:{type:"info-addon",round:""},on:{click:function(e){return t.showGroup("all")}}},[t._v("\n                Semua\n            ")]),t._v(" "),a("el-button",{attrs:{type:"info-addon",round:""},on:{click:function(e){return t.showGroup("not_duplicate")}}},[t._v("\n                "+t._s(t.rootLang.cant_duplicate)+" ("+t._s(t.dataSummaries.cannot)+")\n            ")]),t._v(" "),a("el-button",{attrs:{type:"info-addon",round:""},on:{click:function(e){return t.showGroup("can_duplicate")}}},[t._v("\n                "+t._s(t.rootLang.can_duplicate)+" ("+t._s(t.dataSummaries.can)+")\n            ")])],1)]),t._v(" "),a("div",{staticClass:"px-12 mt-24"},[a("div",{staticClass:"color-info--bg p-12 flex-container flex-container--start"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey--icon",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",[t._v("\n            "+t._s(t.dataSummaries.cannot)+" produk tidak dapat diduplikasi ke Tokopedia karena data kurang lengkap. "),a("span",{staticClass:"color-primary pointer",on:{click:function(e){t.showInfoInvalidProduct=!0}}},[t._v(" Selengkapnya ")])])])]),t._v(" "),a("div",{staticClass:"like-table-wrapper border border--table-border mt-24 ",staticStyle:{"margin-bottom":"80px"}},[a("div",{staticClass:"flex-container mt-16"},[a("div",{staticClass:"full-width px-24 font-bold font-18"},[t._v(t._s(t.rootLang.select)+" "+t._s(t.lang.product))]),t._v(" "),a("div",{staticClass:"px-24"},[a("el-checkbox",{on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})],1)]),t._v(" "),t._l(t.dataProd,function(e,i){return a("div",{key:i,staticClass:"like-table-wrapper--item pointer"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"mr-8 flex-container full-width",on:{click:function(a){return t.handleEdit(e)}}},[a("div",{staticClass:"flex-container"},[null!==e.photo_md?a("el-avatar",{attrs:{src:e.photo_md,size:32,shape:"square"}}):a("el-avatar",{attrs:{src:"/static/img/logo-olsera-icon.png",size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/logo-olsera-premium.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8 word-break"},[a("div",{staticClass:"color-primary"},[t._v(t._s(e.name))]),t._v(" "),0===e.has_pre_upload?[e.validation.tokopedia_meta.length>0?a("div",{staticClass:"color-danger font-12"},[t._v(t._s(e.validation.tokopedia_meta[0]))]):a("div",{staticClass:"font-12"},[t._v(t._s(e.sell_price))])]:[e.valobj.length>0?a("div",{staticClass:"color-danger font-12"},[t._v("Data belum lengkap")]):a("div",{staticClass:"font-12"},[t._v(t._s(e.sell_price))])]],2)]),t._v(" "),1===e.track_inventory?a("div",{staticClass:"font-14 px-12 text-right",staticStyle:{width:"30%"}},[t._v("\n              "+t._s(parseInt(e.stock_qty))+" Stock\n            ")]):a("div",{staticClass:"font-14 px-12 text-right",staticStyle:{width:"30%"}},[t._v("\n              Unlimited\n            ")]),t._v(" "),a("div",[0!==e.is_completed?a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:function(a){return t.handleCheck(e,i)}},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}})],1):a("div",[a("svg-icon",{staticClass:"mr-8",attrs:{"icon-class":"alert-triangle-yellow"}})],1)])])])})],2),t._v(" "),t.nextPage?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],staticClass:"load-more mt-24",staticStyle:{"margin-bottom":"100px"}},[a("el-button",{staticClass:"btn-block",on:{click:t.loadMore}},[t._v("\n          "+t._s(t.$lang[t.langId].load_more)+"..\n        ")])],1):t._e(),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer color-white--bg"},[a("el-button",{staticClass:"btn-block mt-24 color-lazada--bg color-white",attrs:{loading:t.loadingDuplicate,disabled:t.disabledSave},on:{click:t.saveProductBatch}},[t._v("\n          "+t._s(t.rootLang.duplicate_product)+"\n        ")])],1)],1),t._v(" "),a("duplicate-product-with-variant",{ref:"duplwtvariant",attrs:{show:t.showDetailItemWithVariant,"temp-item":t.tempItem,"data-temp":t.dataTempProduct},on:{close:t.handleCloseDuplicatVariant}}),t._v(" "),a("el-dialog",{attrs:{visible:t.showDetailItem,"show-close":!1,width:"696px","append-to-body":""},on:{"update:visible":function(e){t.showDetailItem=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n          Lengkapi Data Produk\n        ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.showDetailItem=!1}}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"tokopedia",loading:t.loadingPreUpload},on:{click:t.handleSaveSingleProduct}},[t._v(t._s(t.lang.save))])]],2),t._v(" "),a("div",[a("div",{staticClass:"px-12 mb-24"},[a("div",{staticClass:"color-info--bg flex-container"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey--icon",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",[t._v("\n              Data produk disini tidak mengubah data produkmu di Olsera\n            ")])])]),t._v(" "),a("div",{staticClass:"flex-container flex-container--start"},[a("div",{staticClass:"mr-8",staticStyle:{width:"30%"}},[a("div",{staticClass:"font-12"},[t._v("Foto Produk")]),t._v(" "),a("div",{staticClass:"flex-container"},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingUpload,expression:"loadingUpload"}],attrs:{action:t.uploadPhotoUrl,headers:t.headersReverify,"before-upload":t.beforeUpload,"show-file-list":!1,"on-progress":t.handleUploadProgress,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError,"list-type":"document-grabfood"}},[t.temptItem&&t.tempItem.photos.length>0?[a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"8px"},attrs:{src:t.tempItem.photo_md,alt:""}})]:[null!==t.tempItem.photo_md?a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"8px"},attrs:{src:t.tempItem.photo_md,alt:""}}):a("i",{staticClass:"el-icon-camera"})]],2)],1)]),t._v(" "),a("div",{staticClass:"full-width"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.product_name))]),t._v(" "),a("el-input",{model:{value:t.tempItem.name,callback:function(e){t.$set(t.tempItem,"name",e)},expression:"tempItem.name"}}),t._v(" "),a("div",{staticClass:"font-12 mt-12"},[t._v(t._s(t.lang.price))]),t._v(" "),a("input-money",{model:{value:t.tempItem.sell_price,callback:function(e){t.$set(t.tempItem,"sell_price",e)},expression:"tempItem.sell_price"}}),t._v(" "),a("div",{staticClass:"font-11 mt-12 color-info"},[t._v("Harga diambil dari harga Jual Online Produk")]),t._v(" "),a("div",{staticClass:"font-12 mt-12"},[t._v(t._s(t.lang.min_order))]),t._v(" "),a("el-input",{attrs:{type:"number"},model:{value:t.tempItem.min_order,callback:function(e){t.$set(t.tempItem,"min_order",e)},expression:"tempItem.min_order"}})],1)]),t._v(" "),a("div",{staticClass:"flex-container mt-12"},[a("div",{staticClass:"full-width pr-4"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.sku)+" (Stock Keeping Unit)")]),t._v(" "),a("el-input",{model:{value:t.tempItem.sku,callback:function(e){t.$set(t.tempItem,"sku",e)},expression:"tempItem.sku"}})],1),t._v(" "),a("div",{staticClass:"full-width pl-4"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.stock_qty))]),t._v(" "),a("el-input",{attrs:{type:"number"},model:{value:t.tempItem.stock_qty,callback:function(e){t.$set(t.tempItem,"stock_qty",e)},expression:"tempItem.stock_qty"}})],1)]),t._v(" "),a("div",{staticClass:"flex-container mt-8"},[a("div",{staticClass:"full-width pr-4"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.weight))]),t._v(" "),a("el-input",{model:{value:t.tempItem.weight,callback:function(e){t.$set(t.tempItem,"weight",e)},expression:"tempItem.weight"}})],1),t._v(" "),a("div",{staticClass:"pl-4"},[a("div",{staticClass:"font-12"},[t._v("Panjang (cm)")]),t._v(" "),a("el-input",{model:{value:t.tempItem.length_dimension,callback:function(e){t.$set(t.tempItem,"length_dimension",e)},expression:"tempItem.length_dimension"}})],1),t._v(" "),a("div",{},[a("div",{staticClass:"font-12"},[t._v("Lebar (cm)")]),t._v(" "),a("el-input",{model:{value:t.tempItem.width_dimension,callback:function(e){t.$set(t.tempItem,"width_dimension",e)},expression:"tempItem.width_dimension"}})],1),t._v(" "),a("div",{},[a("div",{staticClass:"font-12"},[t._v("Tinggi (cm)")]),t._v(" "),a("el-input",{model:{value:t.tempItem.high_dimension,callback:function(e){t.$set(t.tempItem,"high_dimension",e)},expression:"tempItem.high_dimension"}})],1)]),t._v(" "),a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mt-24 full-width pr-8"},[a("div",{staticClass:"font-12"},[t._v("Kategory Olsera")]),t._v(" "),a("el-input",{attrs:{disabled:!0},model:{value:t.tempItem.category_name,callback:function(e){t.$set(t.tempItem,"category_name",e)},expression:"tempItem.category_name"}})],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingCheckBrand,expression:"loadingCheckBrand"}],staticClass:"mt-24 full-width pl-8"},[a("div",{staticClass:"font-12"},[t._v("Kategory Tokopedia")]),t._v(" "),a("el-autocomplete",{staticClass:"full-width",attrs:{"fetch-suggestions":t.getCategorySearch,placeholder:"Search Category"},on:{select:t.handleSelectCategory},model:{value:t.tempItem.tokopedia_meta.category_name,callback:function(e){t.$set(t.tempItem.tokopedia_meta,"category_name",e)},expression:"tempItem.tokopedia_meta.category_name"}})],1)]),t._v(" "),t.isHideMerk?a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mt-24 full-width pr-8"},[a("div",{staticClass:"font-12"},[t._v("Merk Olsera")]),t._v(" "),a("el-input",{attrs:{disabled:!0},model:{value:t.tempItem.brand_name,callback:function(e){t.$set(t.tempItem,"brand_name",e)},expression:"tempItem.brand_name"}})],1),t._v(" "),a("div",{staticClass:"mt-24 full-width pl-8"},[a("div",{staticClass:"font-12"},[t._v("Merk Tokopedia")]),t._v(" "),a("el-autocomplete",{staticClass:"full-width",attrs:{"fetch-suggestions":t.getBrandSearch,placeholder:"Search Brand"},on:{select:t.handleSelectBrand},model:{value:t.tempItem.tokopedia_meta.brand_name,callback:function(e){t.$set(t.tempItem.tokopedia_meta,"brand_name",e)},expression:"tempItem.tokopedia_meta.brand_name"}})],1)]):t._e(),t._v(" "),a("div",{staticClass:"mt-24"},[a("el-button",{staticClass:"btn-block",attrs:{loading:t.loadingDuplicate,plain:""},on:{click:t.saveSingleProductBatch}},[t._v(" Duplikat produk ini ")])],1)])]),t._v(" "),a("el-dialog",{attrs:{visible:t.showInfoInvalidProduct,"show-close":!1,width:"344px","append-to-body":""},on:{"update:visible":function(e){t.showInfoInvalidProduct=e}}},[a("div",{staticClass:"text-center",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"font-bold"},[t._v("Data produk kurang lengkap")]),t._v(" "),a("div",{staticClass:"word-break",staticStyle:{"font-weight":"normal"}},[t._v("2 produk tidak dapat diduplikasi ke Tokopedia. Produk di Olsera harus memiliki minimal data-data di bawah ini")])]),t._v(" "),a("div",[a("div",{staticClass:"color-info--bg p-12"},[a("ul",[a("li",[t._v("Foto")]),t._v(" "),a("li",[t._v("Nama Produk")]),t._v(" "),a("li",[t._v("Kategory Tokopedia")]),t._v(" "),a("li",[t._v("Harga Ritel")]),t._v(" "),a("li",[t._v("Stok")]),t._v(" "),a("li",[t._v("Berat")])])]),t._v(" "),a("div",{staticClass:"mt-24"},[a("el-button",{staticClass:"btn-block",on:{click:function(e){t.showInfoInvalidProduct=!1}}},[t._v("Ok")])],1)])])],1):t._e()])},o=[]},"wXz/":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=C(a("/f1G")),n=C(a("14Xm")),s=C(a("D3Ub")),r=C(a("QbLZ")),l=C(a("m1cH")),c=C(a("YEIV")),d=C(a("+YKo")),u=C(a("5fdr")),p=C(a("NgTd")),h=C(a("Gvdk")),m=C(a("FSah")),g=C(a("DChC")),f=C(a("+5/E")),v=C(a("XFEm")),_=a("td9W"),k=(a("bKoQ"),C(a("o+lt"))),y=C(a("2rSm")),b=C(a("qrV/"));function C(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FloatingDiv:f.default,CloseEsc:v.default,offscreenSyncProduct:k.default,offscreenDetailProduct:y.default,dialogBatchPair:b.default,PageFullscreen:d.default,FixedTable:u.default,CardInfo:p.default,TokopediaDialogBeforeIntegration:h.default,duplicateProduct:m.default},mixins:[g.default],data:function(){var t;return t={loading:!1,data:[],dataLogs:[],visibleLogs:!1,loadingLogs:!1,moreLink:!1,dataLogForView:[],visibleItem:[!1,!1,!1,!1],dataProduct:[],activeButton:[],totalPair:0,totalUnpair:0,totalConflict:0,dataEtalase:[],visibleSynProduct:!1,formSync:{},visibleDetailProduct:!1,formDetail:{},params:{per_page:15,showcase_id:0},search:"",meta:{totalProduct:0,currentPage:0},metaBulk:{totalProduct:0,currentPage:0,page_size:15},etalase:0,sameStock:1,visibleShow:!1,showUpdateStock:!1,loadingSameStock:!1,conflictStock:!1,loadingBulk:!1,showBulkPair:!1,paramsbulk:{page:1,per_page:15,status_recomendation:0},dataProductBulk:[],loadingUpdateStock:!1,tokopediaStore:{},cancelStock:!1,showSetSameStock:!1,fixStock:!1,dataProductHeader:{},moreCategory:!1,loadingMoreCategory:!1,currentPageCategory:1,dataMerchant:[]},(0,c.default)(t,"loading",!1),(0,c.default)(t,"visibleTokopediaBeforeIntegration",!1),(0,c.default)(t,"loadingSubmit",!1),(0,c.default)(t,"showManageDuplicate",!1),(0,c.default)(t,"dataProductDuplicate",{}),(0,c.default)(t,"loadingShowDuplicate",!1),(0,c.default)(t,"dataSummaries",!1),(0,c.default)(t,"paramsDuplicate",{per_page:20,page:1}),(0,c.default)(t,"dataSummaries",{can:"",cannot:""}),(0,c.default)(t,"next_page_duplicate",null),(0,c.default)(t,"dataCheckedDuplicate",[]),(0,c.default)(t,"visibleOverlayLoading",!1),(0,c.default)(t,"showDialogConfirmDeAuth",!1),(0,c.default)(t,"loadingDeauthorize",!1),(0,c.default)(t,"dialogPendingStore",!1),(0,c.default)(t,"isLoading",!1),(0,c.default)(t,"showDialogCategorySet",!1),(0,c.default)(t,"totalStatsCategory",{}),(0,c.default)(t,"dataCategory",[]),(0,c.default)(t,"loadinFetchCategory",!1),(0,c.default)(t,"textSearchCategory",""),(0,c.default)(t,"loadingSearchTokopediaOpt",""),(0,c.default)(t,"categoryPairStatus","all"),(0,c.default)(t,"loadingSaveCategory",!1),t},computed:{},watch:{},mounted:function(){this.fetchGroups(!0),this.getData(),this.getEtalase(),this.getStoreDetail(),this.getUpdateLogs()},methods:(i={getData:function(){var t=this;this.dataProduct=[],this.totalPair=0,this.totalUnpair=0,this.conflictStock=!1,this.meta={totalProduct:0,currentPage:0},this.loading=!0,null!==this.tokopediaActiveStore&&(this.params.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,_.fetchProductTokopedia)(this.params).then(function(e){t.dataProduct=[].concat((0,l.default)(e.data.data)),t.dataProduct.map(function(e){t.activeButton.push(!1)}),t.totalPair=e.data.total_pair,t.totalUnpair=e.data.total_unpair,t.conflictStock=e.data.total_unbalance_stock>0,t.meta.totalProduct=e.data.meta.total,t.meta.currentPage=e.data.meta.current_page,t.formDetail&&t.formDetail.product_id&&t.dataProduct.map(function(e){e.product_id===t.formDetail.product_id&&(t.formDetail=(0,r.default)({},e))}),t.sameStock=e.data.setting_stock,t.loading=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loading=!1})},getEtalase:function(){var t=this;this.loading=!0;var e={};null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,_.fetchCaseTokopedia)(e).then(function(e){t.dataEtalase=e.data.data,e.data.links&&null!==e.data.links.next?t.moreCategory=!0:t.moreCategory=!1,e.data.meta&&e.data.meta.current_page&&(t.currentPageCategory=e.data.meta.current_page),t.loading=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loading=!1})},loadMoreCategory:function(){var t=this;this.loadingMoreCategory=!0;var e={per_page:15,page:this.currentPageCategory+1};null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,_.fetchCaseTokopedia)(e).then(function(e){e.data.data.map(function(e){t.dataEtalase.push(e)}),null!==e.data.links.next?t.moreCategory=!0:t.moreCategory=!1,t.currentPageCategory=e.data.meta.current_page,t.loadingMoreCategory=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingMoreCategory=!1})},syncDataProduct:function(){var t=this;this.loading=!0;var e={};null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,_.syncProductTokopedia)(e).then(function(e){t.getData(),t.getEtalase(),t.getStoreDetail(),t.getUpdateLogs(),t.loading=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loading=!1})},getUpdateLogs:function(){var t=this;this.loading=!0;var e={per_page:15};null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,_.getLogs)(e).then(function(e){t.dataLogForView=e.data.data[0],t.dataLogs.push(e.data.data),null!==e.data.links.next?t.moreLink=!0:t.moreLink=!1,t.current_page=e.data.meta.current_page,t.loading=!1}).catch(function(e){t.dataLog=[],404!==e.statusCode&&t.$message({type:"error",message:e.string}),t.loading=!1})},loadMore:function(){var t=this;this.loadingLogs=!0;var e={per_page:15,page:this.current_page+1};null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,_.getLogs)(e).then(function(e){t.dataLogs.push(e.data.data),null!==e.data.links.next?t.moreLink=!0:t.moreLink=!1,t.current_page=e.data.meta.current_page,t.loadingLogs=!1}).catch(function(e){t.dataLog=[],t.$message({type:"error",message:e.string}),t.loadingLogs=!1})},refreshData:function(){console.log("aa"),this.getStoreDetail(),this.getData(),this.getEtalase(),this.getUpdateLogs()},handlePair:function(t){this.$refs.syncproduct.searchFromMount(t),this.visibleSynProduct=!0,this.formSync=t},handleDetail:function(t,e){console.log("aa",e),this.formDetail=e,this.visibleDetailProduct=!0},handleCloseDialogPair:function(){this.getData(),this.visibleSynProduct=!1},handleRefreshFromPair:function(){this.getStoreDetail(),this.getData(),this.getEtalase(),this.getUpdateLogs()},handleCloseDialogDetail:function(){this.formDetail={},this.visibleDetailProduct=!1},handleResync:function(t){this.visibleDetailProduct=!1,this.handlePair(t)},handleUnpair:function(t){this.visibleDetailProduct=!1,this.refreshData()},handleSearch:function(t){console.log("data",t),this.params.page="",""!==t?(this.$set(this.params,"search_text",t),this.$set(this.params,"search_column","name")):(this.$delete(this.params,"search_text"),this.$delete(this.params,"search_column")),this.getData()},showGroup:function(t){"all"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[0]=!0,this.params={per_page:this.params.per_page}),"not_pair"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[1]=!0,this.params={per_page:this.params.per_page,status:2}),"pair"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[2]=!0,this.params={per_page:this.params.per_page,status:1}),"conflict"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[3]=!0,this.params={per_page:this.params.per_page,status:1,balance_stock:1}),this.search.length>0&&(this.params.search_text=this.search,this.params.search_column="name"),this.getData()},handleChangePage:function(t){this.meta.currentPage=t,this.$set(this.params,"page",t),this.getData()},handleChangeSizePage:function(t){this.meta.currentPage=1,this.params.per_page=t,this.params.page=1,this.getData()},handleFilterbyEtalase:function(t){this.params.page=1,this.getData()}},(0,c.default)(i,"refreshData",function(){this.getData()}),(0,c.default)(i,"cancelSameStock",function(){this.fixStock?(this.showSetSameStock=!1,this.fixStock=!1):(0===this.sameStock?this.sameStock=1:this.sameStock=0,this.showUpdateStock=!1,this.showSetSameStock=!1)}),(0,c.default)(i,"handleSetSameStock",function(t){0===this.sameStock&&(this.showUpdateStock=!0),1===this.sameStock&&(this.fixStock=!!t,this.showSetSameStock=!0)}),(0,c.default)(i,"setSameStock",function(){var t=this;return(0,s.default)(n.default.mark(function e(){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={setting_stock:t.sameStock},null!==t.tokopediaActiveStore&&(a.merchant_tokopedia_id=t.tokopediaActiveStore.id),t.loadingSameStock=!0,e.next=5,(0,_.setSameStockWithOlsera)(a).then(function(e){t.$message({type:"success",message:"Berhasil update data Tokopedia"}),"1"===e.data.data.message?t.showSetSameStock=!1:t.showUpdateStock=!1,t.loadingUpdateStock=!1,t.$delete(t.params,"balance_stock"),t.getStoreDetail(),t.refreshData()}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingUpdateStock=!1});case 5:case"end":return e.stop()}},e,t)}))()}),(0,c.default)(i,"handleUpdateStock",function(){this.loadingUpdateStock=!0,this.setSameStock()}),(0,c.default)(i,"updateStock",function(){var t=this;this.loadingUpdateStock=!0;var e={};null!==this.tokopediaActiveStore&&(e.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,_.updateStockProductTokopedia)(e).then(function(e){console.log("trace",e),t.$message({type:"success",message:e.data.data.message}),t.loadingUpdateStock=!1,t.showUpdateStock=!1,t.getStoreDetail(),t.refreshData()}).catch(function(e){t.$message({type:"error",message:e.string}),t.showUpdateStock=!1,t.loadingUpdateStock=!1})}),(0,c.default)(i,"getDataBulkProduct",function(){var t=this;this.loadingBulk=!0,null!==this.tokopediaActiveStore&&(this.paramsbulk.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,_.getBulkProduct)(this.paramsbulk).then(function(e){t.showBulkPair=!0,t.dataProductBulk=e.data.data,t.dataProductBulk.map(function(t){t.pair=null}),t.metaBulk.totalProduct=e.data.meta.total,t.metaBulk.currentPage=e.data.meta.current_page,t.loadingBulk=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingBulk=!1})}),(0,c.default)(i,"handleChangePageBulk",function(t){console.log(t),this.metaBulk.currentPage=t,this.paramsbulk.page=t,this.getDataBulkProduct()}),(0,c.default)(i,"handleChangeSizePageBulk",function(t){this.metaBulk.currentPage=1,this.paramsbulk.per_page=t,this.paramsbulk.page=1,this.getDataBulkProduct()}),(0,c.default)(i,"saveBulkPair",function(){this.getData(),this.paramsbulk.per_page=15,this.paramsbulk.page=0,this.metaBulk.currentPage=0,this.metaBulk.page_size=15,this.showBulkPair=!1}),(0,c.default)(i,"closeBulkPair",function(){this.paramsbulk.per_page=15,this.paramsbulk.page=0,this.metaBulk.currentPage=0,this.metaBulk.page_size=15,this.showBulkPair=!1}),(0,c.default)(i,"getStoreDetail",function(){var t=this;return(0,s.default)(n.default.mark(function e(){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},null!==t.tokopediaActiveStore&&(a.merchant_tokopedia_id=t.tokopediaActiveStore.id),e.next=4,(0,_.getTokopediaStore)(a).then(function(e){t.tokopediaStore=e.data.data,t.totalConflict=e.data.data.unbalance_stock}).catch(function(e){t.$message({type:"error",message:e.string})});case 4:case"end":return e.stop()}},e,t)}))()}),(0,c.default)(i,"hidePopover",function(){console.log("hide"),this.cancelStock||(0===this.sameStock?this.sameStock=1:this.sameStock=0)}),(0,c.default)(i,"changeSettingStock",function(){this.cancelStock=!1}),(0,c.default)(i,"fetchGroups",function(t){var e=this;return(0,s.default)(n.default.mark(function a(){return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.isLoading=!0,e.loading=!0,a.next=4,(0,_.getMerchantTokopedia)({search_column:"status",search_text:"X",search_operator:"!="}).then(function(a){if(e.dataMerchant=[].concat((0,l.default)(a.data.data)),null===e.tokopediaActiveStore){var i=[];e.dataMerchant.map(function(t){"A"===t.status&&i.push(t)}),i.length>0&&(e.$store.commit("SET_TOKOPEDIA_ACTIVE_STORE",i[0]),e.getStoreDetail())}else if(null!==e.tokopediaActiveStore&&!t){var o=[];e.dataMerchant.map(function(t){"A"===t.status&&o.push(t)}),o.length>0?e.$store.commit("SET_TOKOPEDIA_ACTIVE_STORE",o[0]):e.$router.push({path:"/service-activation-v2",query:{refresh:1}})}t||e.refreshData(),e.isLoading=!1,e.loading=!1}).catch(function(t){e.groups=[],e.$message({type:"error",message:t.string}),e.isLoading=!1,e.loading=!1});case 4:case"end":return a.stop()}},a,e)}))()}),(0,c.default)(i,"submitTokopedia",function(t){var e=this;this.loadingSubmit=!0,(0,_.integrateMerchant)(t).then(function(){var t=(0,s.default)(n.default.mark(function t(a){return n.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loadingSubmit=!1,e.$refs.dialogintegration.hideShowSetup(),e.$refs.cardinfo.handleShowList(),e.visibleTokopediaBeforeIntegration=!1,e.fetchGroups(!1);case 5:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.loadingSubmit=!1,e.$message({type:"error",message:t.string})})}),(0,c.default)(i,"handleChangeMerchant",function(t){this.$store.commit("SET_TOKOPEDIA_ACTIVE_STORE",t),this.getData(),this.getEtalase(),this.getStoreDetail(),this.getUpdateLogs()}),(0,c.default)(i,"handleManageDuplicate",function(){var t=this;this.isLoading?this.$message({type:"error",message:"Silahkan tunggu sampai semua data berhasil di sinkronisasi"}):(this.loadingShowDuplicate=!0,this.dataProductDuplicate=[],null!==this.tokopediaActiveStore&&(this.paramsDuplicate.merchant_tokopedia_id=this.tokopediaActiveStore.id),(0,_.fetchDataDuplicate)(this.paramsDuplicate).then(function(e){t.dataProductDuplicate=e.data.data,t.dataSummaries.can=e.data.meta.total_can,t.dataSummaries.cannot=e.data.meta.total_cant,t.next_page_duplicate=e.data.links.next,t.dataProductDuplicate.map(function(t){null!==t.validation?t.valobj=(0,o.default)(t.validation):t.valobj=[]}),t.loadingShowDuplicate=!1,t.showManageDuplicate=!0}).catch(function(e){t.$message({type:"error",message:e.string}),console.log("aaaa",e),t.dataProductDuplicate=[],t.loadingShowDuplicate=!1}))}),(0,c.default)(i,"refreshDataDuplicate",function(){this.handleManageDuplicate()}),(0,c.default)(i,"handleFilterDuplicate",function(t){"all"===t&&(this.$delete(this.paramsDuplicate,"search_column"),this.$delete(this.paramsDuplicate,"search_text")),"can_duplicate"===t&&(this.paramsDuplicate.search_column="is_completed",this.paramsDuplicate.search_text=1),"not_duplicate"===t&&(this.paramsDuplicate.search_column="is_completed",this.paramsDuplicate.search_text=0),this.handleManageDuplicate()}),(0,c.default)(i,"loadMoreDataDuplicate",function(){var t=this;this.loadingShowDuplicate=!0,this.paramsDuplicate.page+=1,(0,_.fetchDataDuplicate)(this.paramsDuplicate).then(function(e){e.data.data.map(function(e){t.dataProductDuplicate.push(e)}),t.dataSummaries.can=e.data.data.total_can,t.dataSummaries.cannot=e.data.data.total_cannot,t.dataProductDuplicate.map(function(t){null!==t.validation&&(t.valobj=(0,o.default)(t.validation))}),t.next_page_duplicate=e.data.links.next,t.loadingShowDuplicate=!1}).catch(function(e){t.$message({type:"error",message:e.string}),console.log("ee",e),t.dataProductDuplicate=[],t.loadingShowDuplicate=!1})}),(0,c.default)(i,"handleDeleteIntegration",function(){var t=this;this.loadingDeauthorize=!0;var e={merchant_tokopedia_id:this.tokopediaActiveStore.id};(0,_.deleteIntegrationMerchant)(e).then(function(e){t.$store.commit("REMOVE_TOKOPEDIA_ACTIVE_STORE"),t.fetchGroups(!1),t.showDialogConfirmDeAuth=!1,t.loadingDeauthorize=!1}).catch(function(e){console.log("tr",e),t.$message({type:"error",message:e.string}),t.loadingDeauthorize=!1})}),(0,c.default)(i,"handleSearchDuplicate",function(t){this.paramsDuplicate.page=1,t.search_column&&t.search_text?(this.$set(this.paramsDuplicate,"search_text",t.search_text),this.$set(this.paramsDuplicate,"search_column",t.search_column)):(this.$delete(this.paramsDuplicate,"search_text"),this.$delete(this.paramsDuplicate,"search_column")),console.log("dupp",this.paramsDuplicate),this.handleManageDuplicate()}),(0,c.default)(i,"handleGetCategory",function(){this.getCategoryTokopedia(),this.showDialogCategorySet=!0}),(0,c.default)(i,"getCategoryTokopedia",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadinFetchCategory=!0,this.dataCategory=[];var a={per_page:15};"paired"===this.categoryPairStatus&&(a.is_paired=1),"unpaired"===this.categoryPairStatus&&(a.is_paired=0),""!==e&&(a.search_text=e,a.search_column="category_name",a.search_condition="like"),(0,_.fetchListCategoryMapOlseraTokopedia)(a).then(function(e){t.dataCategory=e.data.data,null!==e.data.next_page_url?t.moreCategory=!0:t.moreCategory=!1,t.currentPageCategory=e.data.current_page,t.totalStatsCategory={all:e.data.total_all,paired:e.data.paired,unpaired:e.data.not_paired},t.dataCategory=t.dataCategory.map(function(t){var e={tokopedia_category_name:t.tokopedia_category_name,tokopedia_category_id:t.tokopedia_category_id},a={name:"",tokopedia_category_id:""},i=[];return null!==t.tokopedia_category_id&&t.tokopedia_category_name&&(a.name=t.tokopedia_category_name,a.tokopedia_category_id=t.tokopedia_category_id,i.push(a)),(0,r.default)({},t,{selectedCat:a,optionCat:i,prevCatState:e})}),t.loadinFetchCategory=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataCategory=[],t.loadinFetchCategory=!1})}),(0,c.default)(i,"loadMoreCategoryPair",function(){var t=this;this.loadingMoreCategory=!0;var e={per_page:15,page:this.currentPageCategory+1};"paired"===this.categoryPairStatus&&(e.is_paired=1),"unpaired"===this.categoryPairStatus&&(e.is_paired=0),""!==this.textSearchCategory&&(e.search_text=this.textSearchCategory,e.search_column="category_name",e.search_condition="like"),(0,_.fetchListCategoryMapOlseraTokopedia)(e).then(function(e){e.data.data.map(function(e){var a={tokopedia_category_name:e.tokopedia_category_name,tokopedia_category_id:e.tokopedia_category_id},i={name:"",tokopedia_category_id:""},o=[];null!==e.tokopedia_category_id&&e.tokopedia_category_name&&(i.name=e.tokopedia_category_name,i.tokopedia_category_id=e.tokopedia_category_id,o.push(i)),t.dataCategory.push((0,r.default)({},e,{selectedCat:i,optionCat:o,prevCatState:a}))}),null!==e.data.next_page_url?t.moreCategory=!0:t.moreCategory=!1,t.currentPageCategory=e.data.current_page,t.loadingMoreCategory=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingMoreCategory=!1})}),(0,c.default)(i,"handleOnBlurCategoryShopee",function(t){this.getCategoryTokopedia(t)}),(0,c.default)(i,"handleFilterCategory",function(t){t!==this.categoryPairStatus&&(this.categoryPairStatus=t,this.getCategoryTokopedia(this.textSearchCategory))}),(0,c.default)(i,"getSearchCategoryTokopedia",function(t,e){var a=this;return(0,s.default)(n.default.mark(function i(){var o,s;return n.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(""===t){i.next=19;break}return i.prev=1,a.loadingSearchTokopediaOpt=!0,o={page:1,per_page:100,search_text:t,search_column:"name",search_condition:"like"},i.next=6,(0,_.fetchCategoryTokopedia)(o);case 6:s=i.sent,a.dataCategory[e].optionCat=s.data.data,i.next=14;break;case 10:i.prev=10,i.t0=i.catch(1),a.$message({type:"error",message:i.t0.string}),a.dataCategory[e].optionCat=[];case 14:return i.prev=14,a.loadingSearchTokopediaOpt=!1,i.finish(14);case 17:i.next=20;break;case 19:a.dataCategory[e].optionCat=[];case 20:case"end":return i.stop()}},i,a,[[1,10,14,17]])}))()}),(0,c.default)(i,"handleOnChangeCategoryTokopedia",function(t){this.dataCategory[t].tokopedia_category_name=this.dataCategory[t].selectedCat.name,this.dataCategory[t].tokopedia_category_id=this.dataCategory[t].selectedCat.tokopedia_category_id}),(0,c.default)(i,"handleOnClearCategoryShopee",function(t){var e=this;return(0,s.default)(n.default.mark(function a(){return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(null!==e.dataCategory[t].prevCatState.tokopedia_category_id)try{e.getCategoryTokopedia(e.textSearchCategory)}catch(t){e.$message({type:"error",message:t.string})}else e.dataCategory[t].selectedCat={name:"",shopee_category_id:""},e.dataCategory[t].optionCat=[];case 1:case"end":return a.stop()}},a,e)}))()}),(0,c.default)(i,"handleSaveCategorySet",function(){var t=this;return(0,s.default)(n.default.mark(function e(){var a,i;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.loadingSaveCategory=!0,0!==(a=t.dataCategory.filter(function(t){return""!==t.selectedCat.tokopedia_category_id&&t.selectedCat.tokopedia_category_id!==t.prevCatState.tokopedia_category_id})).length){e.next=5;break}return e.abrupt("return");case 5:return i={pairs:[]},a.forEach(function(t){var e={category_id:t.category_id,tokopedia_category_id:t.selectedCat.tokopedia_category_id};i.pairs.push(e)}),e.next=9,(0,_.pairCategoryTokopedia)(i);case 9:e.sent,t.$message({type:"success",message:"Success"}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t.$message({type:"error",message:e.t0.string});case 16:return e.prev=16,t.loadingSaveCategory=!1,t.handleCloseDialogCategoryPair(),e.finish(16);case 20:case"end":return e.stop()}},e,t,[[0,13,16,20]])}))()}),(0,c.default)(i,"handleCloseDialogCategoryPair",function(){this.dataCategory=[],this.textSearchCategory="",this.showDialogCategorySet=!1}),i)}},yJ23:function(t,e,a){"use strict";a.r(e);var i=a("XjOP"),o=a("0H4e");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="duplicatePoductWithVariant.vue",e.default=r.exports}}]);