(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e858"],{BEer:function(t,e,a){"use strict";a.r(e);var s=a("nLER"),n=a("XKc/");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,function(){return n[t]})}(r);var i=a("KHd+"),o=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);o.options.__file="Form.vue",e.default=o.exports},DzrC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(a("P2sY")),n=o(a("QbLZ")),r=a("xCek"),i=o(a("vDqi"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["saved","loading","formData","roleOptions"],data:function(){return{disabledSave:!0,dialogVisible:!1,data:{},control:{searchingProductGroups:!1},productgroups:[]}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{data:{handler:function(t){t.name&&""!==t.name&&t.group_ids&&""!==t.group_ids&&t.discount&&""!==t.discount?this.disabledSave=!1:this.disabledSave=!0},deep:!0},saved:{handler:function(t){!0===t&&(this.data={},this.disabledSave=!0)},deep:!0},formData:{handler:function(t){this.data=(0,n.default)({},t)},deep:!0,immediate:!0}},methods:{searchProductGroups:function(t){var e=this;this.control.searchingProductGroups=!0;var a={Authorization:"Bearer "+this.token.access_token};(0,i.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"productgroup"),params:{search_column:"name",search_text:t},headers:a}).then(function(t){e.productgroups=t.data.data,e.control.searchingProductGroups=!1}).catch(function(){e.control.searchingProductGroups=!1,e.productgroups=[]})},cancel:function(){this.data={},this.$emit("cancel")},save:function(){this.disabledSave=!0;var t=(0,s.default)({},this.data);t.group_ids=t.group_ids.join(","),this.$emit("save",t)},remove:function(){this.$emit("remove",{id:this.data.id})}}}},"XKc/":function(t,e,a){"use strict";a.r(e);var s=a("DzrC"),n=a.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){a.d(e,t,function(){return s[t]})}(r);e.default=n.a},mTBS:function(t,e,a){"use strict";a.r(e);var s=a("rsb+"),n=a("p+1a");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,function(){return n[t]})}(r);var i=a("KHd+"),o=Object(i.a)(n.default,s.a,s.b,!1,null,null,null);o.options.__file="Index.vue",e.default=o.exports},nLER:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[a("div",{attrs:{slot:"header"},slot:"header"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{md:12}},[a("h4",[t._v(t._s(t.lang.add_reseller_type))])]),t._v(" "),a("el-col",{staticClass:"text-right",attrs:{md:12}},[a("el-button",{attrs:{size:"small",type:"info"},on:{click:t.cancel}},[t._v("\n            "+t._s(t.lang.cancel)+"\n          ")]),t._v(" "),a("el-button",{attrs:{disabled:t.disabledSave,size:"small",type:"success",icon:"el-icon-check"},on:{click:t.save}},[t._v("\n            "+t._s(t.lang.save)+"\n          ")])],1)],1)],1),t._v(" "),a("div",{staticClass:"card-body"},[a("el-form",{attrs:{"label-width":"140px"},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}},[a("el-form-item",{attrs:{label:t.lang.reseller_type_name,required:!0}},[a("el-input",{attrs:{type:"text"},model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.lang.product_groups,required:!0}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"",multiple:"",placeholder:t.lang.search+" "+t.lang.product_groups,"reserve-keyword":"",loading:t.control.searchingProductGroups,"remote-method":t.searchProductGroups},model:{value:t.data.group_ids,callback:function(e){t.$set(t.data,"group_ids",e)},expression:"data.group_ids"}},t._l(t.productgroups,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1),t._v(" "),a("p",{staticClass:"input-desc size-12 oldgrey"},[t._v("\n            "+t._s(t.lang.desc_can_add_other_groups)+"\n          ")])],1),t._v(" "),a("el-form-item",{attrs:{label:t.lang.discount,required:!0}},[a("el-input",{attrs:{type:"number",placeholder:this.$lang[t.langId].input_number},model:{value:t.data.discount,callback:function(e){t.$set(t.data,"discount",e)},expression:"data.discount"}},[a("template",{slot:"append"},[t._v("%")])],2),t._v(" "),a("p",{staticClass:"input-desc size-12 oldgrey"},[t._v("\n            "+t._s(t.lang.desc_price_cut_for_reseller)+"\n          ")])],1)],1)],1)])],1)},n=[]},"p+1a":function(t,e,a){"use strict";a.r(e);var s=a("qTRS"),n=a.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){a.d(e,t,function(){return s[t]})}(r);e.default=n.a},qTRS:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o(a("QbLZ")),n=a("xCek"),r=o(a("vDqi")),i=o(a("BEer"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{loading:!0,saved:!1,data:[],isEditing:[],showForm:!1,disabledButton:!1,tmp:{},status:[{id:"A",label:"ACTIVE"},{id:"I",label:"INACTIVE"},{id:"P",label:"PENDING"}],params:{search:"",per_page:30,sort_column:"id",sort_type:"desc"}}},components:{TypeForm:i.default},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},rootLang:function(){return this.$lang[this.$store.state.userStores.langId]}},watch:{"$store.getters.selectedStore":function(){this.getData()}},methods:{getData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"reseller/type/"),params:this.params,headers:e}).then(function(e){t.data=e.data.data,t.data.map(function(e){t.isEditing.push({editing:!1})}),t.params.total=e.data.meta.total,t.loading=!1}).catch(function(e){t.loading=!1,t.$notify({type:"warning",title:"Error",message:e.response.data.error.error})})},add:function(){this.showForm=!0,this.isEditing.map(function(t){t.editing=!1})},editField:function(t,e){this.isEditing.map(function(t){t.editing=!1}),this.isEditing[e].editing=!0,this.tmp=(0,s.default)({},t)},saveField:function(t,e){var a=this;this.loading=!0;var s={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"PUT",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"reseller/type/update/"+t.id),headers:s,data:t}).then(function(t){a.saved=!0,a.cancelManageRow(e),a.getData(),a.$message({type:"success",message:"saved"})}).catch(function(t){a.saved=!1,a.loading=!1,a.isEditing=[],a.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},save:function(t){var e=this,a="POST",s="store",i="";t.id&&(a="PUT",s="update",i=t.id),this.loading=!0;var o={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:a,url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"reseller/type/"+s+"/"+i),headers:o,data:t}).then(function(t){var a=t.data.data;e.data.unshift(a),e.isEditing=[],e.data.map(function(t){e.isEditing.push({editing:!1})}),e.showForm=!1,e.saved=!0,e.loading=!1,e.$message({type:"success",message:"saved"})}).catch(function(t){e.saved=!1,e.loading=!1,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},confirmRemove:function(t,e){var a=this;this.$confirm(this.lang.are_you_sure_to_remove_this_data,"Warning",{confirmButtonText:"OK",cancelButtonText:this.lang.cancel,type:"warning"}).then(function(){a.remove(t,e)}).catch(function(){})},remove:function(t,e){var a=this;this.loading=!0,this.disableRemove=!0;var s={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"DELETE",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"reseller/type/delete/"+t.id),headers:s}).then(function(t){a.data.splice(e,1),a.disableRemove=!1,a.loading=!1,a.$message({type:"success",message:t.data.data.message})}).catch(function(t){a.disableRemove=!1,a.loading=!1,t.response&&a.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},cancel:function(){this.tmp={},this.showForm=!1,this.showGroupTable=!1},cancelManageRow:function(t){this.tmp={},this.isEditing[t].editing=!1}},mounted:function(){this.getData()}}},"rsb+":function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return n});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showForm||t.showGroupTable?t._e():a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{md:12}},[a("h4",[t._v(t._s(t.lang.reseller_type))]),t._v(" "),a("p",[t._v(t._s(t.params.total)+" "+t._s(t.lang.reseller_type))])]),t._v(" "),a("el-col",{staticClass:"text-right",attrs:{md:12}},[a("el-button",{attrs:{disabled:t.disabledSave,size:"small",type:"success",icon:"el-icon-plus"},on:{click:t.add}},[t._v("\n            "+t._s(t.lang.add)+"\n          ")])],1)],1)],1),t._v(" "),a("div",{staticClass:"card-body"},[a("el-row",{attrs:{gutter:10}},t._l(t.data,function(e,s){return a("el-col",{key:s,attrs:{md:8}},[a("el-card",{staticClass:"box-customer-type box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[t.isEditing[s].editing?t._e():a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:18}},[a("span",[t._v(t._s(e.name))])]),t._v(" "),a("el-col",{staticClass:"text-right",attrs:{span:6}},[a("el-dropdown",{attrs:{trigger:"click"}},[a("el-button",{attrs:{type:"text"}},[a("svg-icon",{attrs:{"icon-class":"more-vertical"}})],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("el-button",{staticClass:"edit-button",attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return t.editField(e,s)}}},[t._v("\n                          "+t._s(t.lang.edit)+"\n                        ")])],1),t._v(" "),a("el-dropdown-item",{attrs:{divided:!0}},[a("el-button",{staticClass:"delete-button",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.confirmRemove(e,s)}}},[t._v("\n                          "+t._s(t.rootLang.delete)+"\n                        ")])],1)],1)],1)],1)],1),t._v(" "),t.isEditing[s].editing?a("div",{staticClass:"floating-editor-contenteditable"},[a("el-input",{attrs:{size:"mini",type:"text"},model:{value:t.tmp.name,callback:function(e){t.$set(t.tmp,"name",e)},expression:"tmp.name"}}),t._v(" "),a("div",{staticClass:"buttons"},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(e){return t.cancelManageRow(s)}}},[t._v("\n                    "+t._s(t.lang.cancel)+"\n                  ")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.saveField(t.tmp,s)}}},[t._v("\n                    "+t._s(t.lang.save)+"\n                  ")])],1)],1):t._e()],1),t._v(" "),a("div",{staticClass:"card-body text-center"},[a("router-link",{attrs:{to:"/website/reseller/resellertypes/"+e.id}},[a("i",{staticClass:"fa fa-tags",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(e.group.length)+"\n              ")])],1)])],1)}),1)],1)]),t._v(" "),t.showForm?a("type-form",{attrs:{saved:t.saved,loading:t.loading},on:{save:t.save,cancel:t.cancel}}):t._e()],1)},n=[]}}]);