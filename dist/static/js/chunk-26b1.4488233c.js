(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-26b1"],{DChC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r(a("QbLZ")),n=r(a("Ljqw"));function r(e){return e&&e.__esModule?e:{default:e}}var o={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var e=this.$store.getters.selectedStore;return{role_id:e.role_id,role_name:e.role_name,is_pos_only:e.is_pos_only,is_mobile:e.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var e=this.$store.getters.token;return this.$store.getters.webviewMode&&(e=this.$store.getters.webviewToken),{Authorization:"Bearer "+e.access_token}},baseURL:function(){return n.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var e=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],t=[];return this.$store.getters.stores.map(function(a){t.includes(a.store_id)||a.is_store_active&&(e.push((0,s.default)({},a)),t.push(a.store_id))}),e},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};t.default=o},IeDs:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.salesList=function(e){return(0,s.service)({url:"/account/sales",params:e})},t.salesPost=function(e){return(0,s.service)({url:"/account/sales",method:"POST",data:e})},t.salesUnpost=function(e){return(0,s.service)({url:"/account/sales/"+e,method:"DELETE"})},t.purchaseList=function(e){return(0,s.service)({url:"/account/purchase",params:e})},t.purchasePost=function(e){return(0,s.service)({url:"/account/purchase",method:"POST",data:e})},t.purchaseUnpost=function(e){return(0,s.service)({url:"/account/purchase/"+e,method:"DELETE"})},t.salesReturnList=function(e){return(0,s.service)({url:"/account/salesreturn",params:e})},t.salesReturnPost=function(e){return(0,s.service)({url:"/account/salesreturn",method:"POST",data:e})},t.salesReturnUnpost=function(e){return(0,s.service)({url:"/account/salesreturn/"+e,method:"DELETE"})},t.incomeList=function(e){return(0,s.service)({url:"/account/inextrans/income",params:e})},t.expenseList=function(e){return(0,s.service)({url:"/account/inextrans/expense",params:e})},t.cashBankOnly=function(e){return(0,s.service)({url:"/account/name/cashbankonly",params:e})},t.expenseOnly=function(e){return(0,s.service)({url:"/account/name/expenses",params:e})},t.revenueOnly=function(e){return(0,s.service)({url:"/account/name/revenue",params:e})},t.incomePost=function(e){return(0,s.service)({url:"/account/inextrans",method:"POST",data:e})},t.incomeTypeList=function(e){return(0,s.service)({url:"/account/inextype/income",params:e})},t.expenseTypeList=function(e){return(0,s.service)({url:"/account/inextype/expense",params:e})},t.TrxTypePost=function(e){return(0,s.service)({url:"/account/inextype",method:"POST",data:e})},t.inexUnpost=function(e){return(0,s.service)({url:"/account/inextrans/"+e,method:"DELETE"})},t.stockInList=function(e){return(0,s.service)({url:"/account/stockin",method:"GET",params:e})},t.stockInPost=function(e){return(0,s.service)({url:"/account/stockin",method:"POST",data:e})},t.stockInUnpost=function(e){return(0,s.service)({url:"/account/stockin/"+e,method:"DELETE"})},t.stockOutList=function(e){return(0,s.service)({url:"/account/stockout",method:"GET",params:e})},t.stockOutPost=function(e){return(0,s.service)({url:"/account/stockout",method:"POST",data:e})};var s=a("xCek")},PmsC:function(e,t,a){"use strict";a.r(t);var s=a("hsFP"),n=a.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){a.d(t,e,function(){return s[e]})}(r);t.default=n.a},ZtBq:function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-handler-flex"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("h4",{staticClass:"main-content__title"},[e._v(e._s(e.$lang[e.langId].list)+" "+e._s(e.lang.incoming_stock))]),e._v(" "),a("p",{staticClass:"main-content__subtitle"},[e._v(e._s(e.params.total)+" "+e._s(e.lang.incoming_stock))])]),e._v(" "),a("div",[e.wejayafoodAccessByStore.includes(e.selectedStore.url_id)?a("el-button",{attrs:{slot:"reference",icon:"el-icon-setting",circle:"",type:"info"},on:{click:e.setModule},slot:"reference"}):e._e(),e._v(" "),a("button-action-authenticated",{attrs:{permission:["inventory/stockincomings","store"],icon:"el-icon-upload"},on:{click:function(t){e.importDialog=!0}}},[e._v("\n          "+e._s(e.lang.import)+"\n        ")]),e._v(" "),a("button-action-authenticated",{attrs:{permission:["inventory/stockincomings","store"],type:"primary",icon:"el-icon-plus"},on:{click:e.addData}},[e._v("\n          "+e._s(e.lang.add)+"\n        ")])],1)]),e._v(" "),a("div",{staticClass:"table-handler-flex mb-16"},[a("div",{staticClass:"mb-4",staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:e.lang.please_select,size:"small"},on:{change:e.changePageTable},model:{value:e.params.per_page,callback:function(t){e.$set(e.params,"per_page",t)},expression:"params.per_page"}},e._l(e.pages,function(t){return a("el-option",{key:t,attrs:{value:t,label:t+" "+e.lang.rows}})}),1)],1),e._v(" "),a("div",{staticClass:"mb-4"},[a("el-input",{staticClass:"inline-form input-search",attrs:{clearable:"",placeholder:e.lang.search+" "+e.lang.incoming_stock_no,"prefix-icon":"el-icon-search",size:"small"},on:{change:e.handleSearch},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,stripe:"",border:""},on:{"sort-change":e.changeSortTable,"row-click":e.goToSinglePage}},[a("el-table-column",{attrs:{label:e.$lang[e.langId].number,sortable:"custom",prop:"trans_no",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{path:"/inventory/stocksincoming/"+t.row.id}}},[e._v("\n            "+e._s(t.row.trans_no)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.supplier,sortable:"custom",prop:"supplier_name",width:"220"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.date,sortable:"custom",prop:"date",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.fdate)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.notes,sortable:"custom",prop:"note",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.status,sortable:"custom",prop:"status",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return["D"===t.row.status?a("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v("\n            "+e._s(t.row.status_desc)+"\n          ")]):"P"===t.row.status?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("\n            "+e._s(t.row.status_desc)+"\n          ")]):"X"===t.row.status?a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(e._s(t.row.status_desc)+"\n          ")]):a("el-tag",{attrs:{size:"mini"}},[e._v("\n            "+e._s(t.row.status_desc)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.received_by,sortable:"custom",prop:"modified_by","min-width":"160px"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.params.currentPage,"page-size":e.params.per_page,layout:"prev, pager, next, jumper",total:e.params.total},on:{"size-change":e.changePageTable,"current-change":e.changeCurrentPage,"update:currentPage":function(t){return e.$set(e.params,"currentPage",t)},"update:current-page":function(t){return e.$set(e.params,"currentPage",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.lang.update+e.lang.status,visible:e.importDialog,"max-width":"760px"},on:{"update:visible":function(t){e.importDialog=t}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{md:8}},[a("a",{staticClass:"btn btn-default",attrs:{href:e.baseURL+"/olsera_stockin_import_template.csv"}},[e._v("\n          "+e._s(e.lang.download_template)+"\n        ")])]),e._v(" "),a("el-col",{attrs:{md:16}},[e.dropdownForm?a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.lang.import_from_csv_info))])]),e._v(" "),a("vue-dropzone",{ref:"dropzone",attrs:{id:"drop1",options:{url:e.baseURL+"api/"+this.selectedStore.url_id+"/admin/v1/"+this.langId+"/stockincoming/importfromcsv",headers:{Authorization:"Bearer "+this.token.access_token,"Cache-Control":null},method:"post",acceptedFiles:".csv"}},on:{"vdropzone-success":e.afterComplete,"vdropzone-error":e.failed}}),e._v(" "),a("el-button",{staticStyle:{"margin-top":"8px"},on:{click:e.removeAllFiles}},[e._v("\n            "+e._s(e.$lang[e.langId].remove_all_file)+"\n          ")])],1):e._e()],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{visible:e.settingDialog,"show-close":!1,"close-on-press-escape":!1,"before-close":e.handleCancel,"append-to-body":"",width:"25%","custom-class":"dialog-grbfd"},on:{"update:visible":function(t){e.settingDialog=t}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[e._v("\n          "+e._s(e.$lang[e.langId].incoming_stock_adjustment)+"\n        ")]),e._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:e.handleCancel}},[e._v(e._s(e.lang.cancel))]),e._v(" "),a("el-button",{attrs:{loading:e.loadingCustom,type:"success"},on:{click:e.saveModule}},[e._v(e._s(e.lang.save))])],1)]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:50}},[a("div",[a("label",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.$lang[e.langId].incoming_stock_as))])]),e._v(" "),a("el-radio",{attrs:{label:1,border:"",size:"medium"},model:{value:e.customIncoming.purchase_or_capital,callback:function(t){e.$set(e.customIncoming,"purchase_or_capital",t)},expression:"customIncoming.purchase_or_capital "}},[e._v(e._s(e.lang.purchase))]),e._v(" "),a("el-radio",{attrs:{label:2,border:"",size:"medium"},model:{value:e.customIncoming.purchase_or_capital,callback:function(t){e.$set(e.customIncoming,"purchase_or_capital",t)},expression:"customIncoming.purchase_or_capital "}},[e._v(e._s(e.$lang[e.langId].capital_increase))])],1)],1),e._v(" "),a("el-row",{staticStyle:{"line-height":"2"}},[a("el-col",[1===e.customIncoming.purchase_or_capital?a("el-divider"):e._e(),e._v(" "),1===e.customIncoming.purchase_or_capital?a("div",{staticClass:"biodata mb-8"},[a("div",[a("label",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.$lang[e.langId].payment_account_default))])]),e._v(" "),a("el-select",{staticClass:"pb-10",staticStyle:{width:"100%"},attrs:{placeholder:e.rootLang.select,filterable:""},model:{value:e.customIncoming.account_id,callback:function(t){e.$set(e.customIncoming,"account_id",t)},expression:"customIncoming.account_id"}},e._l(e.dataCashBank,function(e,t){return a("el-option",{key:t,attrs:{label:e.account_no+" "+e.account_name,value:e.id}})}),1)],1):e._e()],1)],1)],1)],1)},n=[]},hsFP:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=u(a("GQeE")),n=u(a("EJiy")),r=a("xCek"),o=u(a("vDqi")),i=u(a("ksP6"));a("Hj/Q");var c=u(a("DChC")),l=a("IeDs");function u(e){return e&&e.__esModule?e:{default:e}}t.default={components:{vueDropzone:i.default,tokenc:""},mixins:[c.default],data:function(){return{loading:!0,loadingCustom:!1,tableData:[],statusValue:null,searchValue:null,importDialog:!1,settingDialog:!1,dropdownForm:!0,pages:[5,10,20],statusSelect:[{value:"",label:this.$store.state.userStores.lang.all},{value:"Pending",label:this.$lang[this.$store.state.userStores.langId].pending},{value:"Shipping",label:this.$lang[this.$store.state.userStores.langId].has_confirm},{value:"Shipped",label:this.$store.state.userStores.lang.delivered}],params:{search:null,total:null,currentPage:1,sort_column:"id",sort_type:"desc",per_page:10,page:1},isButtonDisabled:!1,accountModule:0,customIncoming:{purchase_or_capital:2,account_id:0},dataCashBank:[]}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getData()}},methods:{getData:function(){var e=this;this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,o.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"stockincomings"),params:this.params,headers:t}).then(function(t){e.tableData=t.data.data,e.params.total=t.data.meta.total,e.accountModule=t.data.account_module,e.loading=!1}).catch(function(t){e.loading=!1,e.params.total=0,404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},changePageTable:function(e){this.params.per_page=e,this.getData()},handleSearch:function(e){this.params.page=1,this.params.currentPage=1,this.params.search_text="",this.params.search_column=null,this.params.search=this.searchValue,this.getData()},changeSortTable:function(e){"ascending"===e.order&&(e.order="asc"),"descending"===e.order&&(e.order="desc"),null===e.order&&(e.order=this.params.sort_type),console.log(e),this.params.sort_type=e.order,this.params.sort_column=e.prop,this.getData()},changeCurrentPage:function(e){this.params.currentPage=e,this.params.page=e,this.getData()},addData:function(){this.$router.push({path:"/inventory/stocksincoming/create"})},handleCancel:function(){this.settingDialog=!1},afterComplete:function(e,t){console.log(t),0===t.error&&(this.$notify({title:"Sukses",message:t.data+" Produk."}),this.importDialog=!1,this.$router.push({path:"/inventory/stocksincoming/"+t.id}))},failed:function(e,t,s){console.log("file",e),console.log("message",t),console.log("xhr",s),this.$notify({type:"error",title:t.error.message,message:t.error.error}),a("EVdn")(".dz-error-message span").text(t.error.error)},removeAllFiles:function(){this.$refs.dropzone.removeAllFiles()},goToSinglePage:function(e){this.$router.push({path:"/inventory/stocksincoming/"+e.id})},setModule:function(){var e=this;this.settingDialog=!0,this.loadingCustom=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,o.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"account/stockmaping"),headers:t}).then(function(t){var a=t.data.data;null!==a&&(e.customIncoming={purchase_or_capital:a.purchase_or_capital,account_id:a.account_id}),e.getCashBank(),e.loadingCustom=!1}).catch(function(t){e.loadingCustom=!1,404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},saveModule:function(){var e=this;this.loadingCustom=!0;var t={Authorization:"Bearer "+this.token.access_token},a={purchase_or_capital:this.customIncoming.purchase_or_capital,account_id:0};1===parseInt(this.customIncoming.purchase_or_capital)&&(a=this.customIncoming),(0,o.default)({method:"POST",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"account/stockmaping"),headers:t,data:a}).then(function(t){var a=t.data.data;null!==a&&(e.customIncoming={purchase_or_capital:a.purchase_or_capital,account_id:a.account_id}),e.$message({type:"success",message:e.$lang[e.langId].success_apply}),e.loadingCustom=!1,e.settingDialog=!1}).catch(function(t){e.loadingCustom=!1,404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},getCashBank:function(){var e=this;(0,l.cashBankOnly)().then(function(t){e.dataCashBank=t.data.data}).catch(function(t){if("object"===(0,n.default)(t.response.data.error.error)){var a=(0,s.default)(t.response.data.error.error)[0];e.$notify({tipe:"warning",title:t.response.data.error.message,message:t.response.data.error.error[a][0]})}else e.$notify({tipe:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})}},mounted:function(){this.getData()}}},sqPl:function(e,t,a){"use strict";a.r(t);var s=a("ZtBq"),n=a("PmsC");for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,function(){return n[e]})}(r);var o=a("KHd+"),i=Object(o.a)(n.default,s.a,s.b,!1,null,null,null);i.options.__file="Index.vue",t.default=i.exports}}]);