(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6d5c","chunk-2563","chunk-25638"],{"1BPP":function(t,e,a){"use strict";
/**
 * Vue Currency Input 1.20.3
 * (c) 2018-2020 Matthias Stiller
 * @license MIT
 */
function i(t,e,a){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!0,a),t.dispatchEvent(i)}a.r(e),a.d(e,"CurrencyDirective",function(){return x}),a.d(e,"CurrencyInput",function(){return C}),a.d(e,"parseCurrency",function(){return _}),a.d(e,"setValue",function(){return m});var o=function(t,e,a){return e&&null!=t?Number(t.toFixed(a).split(".").join("")):t},n=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},s=function(t){return t.replace(/^0+(0$|[^0])/,"$1")},r=function(t,e){return(t.match(new RegExp(n(e),"g"))||[]).length},l=function(t,e){return t.substring(0,e.length)===e},c=function(t,e){return t.substring(0,t.indexOf(e))},d=[",",".","Ù«"],u=function(t){var e=t.currency,a=t.locale,i=t.precision,o=t.autoDecimalMode,n=t.valueAsInteger,s=new Intl.NumberFormat(a,"string"==typeof e?{currency:e,style:"currency"}:{minimumFractionDigits:1}),l=s.format(123456);this.locale=a,this.currency=e,this.digits=[0,1,2,3,4,5,6,7,8,9].map(function(t){return t.toLocaleString(a)}),this.decimalSymbol=r(l,this.digits[0])?l.substr(l.indexOf(this.digits[6])+1,1):void 0,this.groupingSymbol=l.substr(l.indexOf(this.digits[3])+1,1),this.minusSymbol=c(Number(-1).toLocaleString(a),this.digits[1]),void 0===this.decimalSymbol?this.minimumFractionDigits=this.maximumFractionDigits=0:"number"==typeof i?this.minimumFractionDigits=this.maximumFractionDigits=i:"object"!=typeof i||o||n?"string"==typeof e?(this.minimumFractionDigits=s.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=s.resolvedOptions().maximumFractionDigits):this.minimumFractionDigits=this.maximumFractionDigits=2:(this.minimumFractionDigits=i.min||0,this.maximumFractionDigits=void 0!==i.max?i.max:20),"string"==typeof e?(this.prefix=c(l,this.digits[1]),this.negativePrefix=c(s.format(-1),this.digits[1]),this.suffix=l.substring(l.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[6])+1)):(this.prefix=(e||{}).prefix||"",this.negativePrefix=""+this.minusSymbol+this.prefix,this.suffix=(e||{}).suffix||"")};u.prototype.parse=function(t){var e=this.isNegative(t);t=this.normalizeDigits(t),t=this.stripCurrencySymbol(t),t=this.stripMinusSymbol(t);var a=this.decimalSymbol?"("+n(this.decimalSymbol)+"\\d*)?":"",i=t.match(new RegExp("^"+this.integerPattern()+a+"$"));return i?Number((e?"-":"")+this.onlyDigits(i[1])+"."+this.onlyDigits(i[3]||"")):null},u.prototype.format=function(t,e){return void 0===e&&(e={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}),"string"==typeof this.currency?t.toLocaleString(this.locale,Object.assign({},{style:"currency",currency:this.currency},e)):this.insertCurrencySymbol(Math.abs(t).toLocaleString(this.locale,e),t<0||0===t&&1/t<0)},u.prototype.integerPattern=function(){return"(0|[1-9]\\d{0,2}("+n(this.groupingSymbol)+"?\\d{3})*)"},u.prototype.toFraction=function(t){return""+this.digits[0]+this.decimalSymbol+this.onlyLocaleDigits(t.substr(1)).substr(0,this.maximumFractionDigits)},u.prototype.isFractionIncomplete=function(t){return!!this.normalizeDigits(t).match(new RegExp("^"+this.integerPattern()+n(this.decimalSymbol)+"$"))},u.prototype.isNegative=function(t){return l(t,this.negativePrefix)||l(t.replace("-",this.minusSymbol),this.minusSymbol)},u.prototype.insertCurrencySymbol=function(t,e){return""+(e?this.negativePrefix:this.prefix)+t+this.suffix},u.prototype.stripMinusSymbol=function(t){return t.replace("-",this.minusSymbol).replace(this.minusSymbol,"")},u.prototype.stripCurrencySymbol=function(t){return t.replace(this.negativePrefix,"").replace(this.prefix,"").replace(this.suffix,"")},u.prototype.normalizeDecimalSymbol=function(t,e){var a=this;return d.forEach(function(i){t=t.substr(0,e)+t.substr(e).replace(i,a.decimalSymbol)}),t},u.prototype.normalizeDigits=function(t){return"0"!==this.digits[0]&&this.digits.forEach(function(e,a){t=t.replace(new RegExp(e,"g"),a)}),t},u.prototype.onlyDigits=function(t){return this.normalizeDigits(t).replace(/\D+/g,"")},u.prototype.onlyLocaleDigits=function(t){return t.replace(new RegExp("[^"+this.digits.join("")+"]*","g"),"")};var p={locale:void 0,currency:"EUR",valueAsInteger:!1,distractionFree:!0,precision:void 0,autoDecimalMode:!1,valueRange:void 0,allowNegative:!0},_=function(t,e){var a=Object.assign({},p,e),i=new u(a);return o(i.parse(t),a.valueAsInteger,i.maximumFractionDigits)},m=function(t,e){return i(t,"format",{value:e})},v=function(t,e){return t.setSelectionRange(e,e)},h=function(t,e){if(t===e)return!0;if(!t||!e||"object"!=typeof t||"object"!=typeof e)return!1;var a=Object.keys(t);return a.length===Object.keys(e).length&&(!!a.every(Object.prototype.hasOwnProperty.bind(e))&&a.every(function(a){return h(t[a],e[a])}))},g=function(t){this.numberFormat=t};g.prototype.conformToMask=function(t,e){var a=this;void 0===e&&(e="");var i=this.numberFormat.isNegative(t),o=t;o=this.numberFormat.stripCurrencySymbol(o);var n=function(t){if(""===t&&i&&e!==a.numberFormat.negativePrefix)return"";if(a.numberFormat.maximumFractionDigits>0){if(a.numberFormat.isFractionIncomplete(t))return t;if(l(t,a.numberFormat.decimalSymbol))return a.numberFormat.toFraction(t)}return null}(o=this.numberFormat.stripMinusSymbol(o));if(null!=n)return this.numberFormat.insertCurrencySymbol(n,i);var r=o.split(this.numberFormat.decimalSymbol),c=r[0],d=r.slice(1),u=s(this.numberFormat.onlyDigits(c)),p=this.numberFormat.onlyDigits(d.join("")).substr(0,this.numberFormat.maximumFractionDigits),_=d.length>0&&0===p.length,m=""===u&&i&&(e===t.slice(0,-1)||e!==this.numberFormat.negativePrefix);return _||m?e:u.match(/\d+/)?{numberValue:Number((i?"-":"")+u+"."+p),fractionDigits:p}:""};var f=function(t){this.numberFormat=t};f.prototype.conformToMask=function(t){if(""===t)return"";var e=this.numberFormat.isNegative(t),a=""===this.numberFormat.stripMinusSymbol(t)?-0:Number((e?"-":"")+s(this.numberFormat.onlyDigits(t)))/Math.pow(10,this.numberFormat.minimumFractionDigits);return{numberValue:a,fractionDigits:a.toFixed(this.numberFormat.minimumFractionDigits).slice(-this.numberFormat.minimumFractionDigits)}};var b=Math.pow(2,53)-1,y=function(t,e,a){var i=a.$CI_DEFAULT_OPTIONS,o="input"===t.tagName.toLowerCase()?t:t.querySelector("input");if(!o)throw new Error("No input element found");var n=Object.assign({},i||p,e),s=n.distractionFree,r=n.autoDecimalMode,l=n.valueRange;"boolean"==typeof s&&(n.distractionFree={hideCurrencySymbol:s,hideNegligibleDecimalDigits:s,hideGroupingSymbol:s}),n.valueRange=l?{min:void 0!==l.min?Math.max(l.min,-b):-b,max:void 0!==l.max?Math.min(l.max,b):b}:{min:-b,max:b},r?(n.distractionFree.hideNegligibleDecimalDigits=!1,o.setAttribute("inputmode","numeric")):o.setAttribute("inputmode","decimal");var c=new u(n);return o.$ci=Object.assign({},o.$ci||{numberValue:null},{options:n,numberMask:n.autoDecimalMode?new f(c):new g(c),currencyFormat:c}),o},w=function(t,e){var a=t.$ci,n=a.numberValue,s=a.currencyFormat,r=a.options;i(t,e,{numberValue:n=o(n,r.valueAsInteger,s.maximumFractionDigits)})},k=function(t,e,a){void 0===a&&(a=!1);var i=t.$ci,o=i.currencyFormat,n=i.options;S(t,null!=e?o.format(function(t,e){return Math.min(Math.max(t,e.min),e.max)}(e,n.valueRange)):null),(e!==t.$ci.numberValue||a)&&w(t,"change")},S=function(t,e,a){void 0===a&&(a=!1),function(t,e,a){if(null!=e){var i=t.$ci,o=i.focus,n=i.decimalSymbolInsertedAt,s=i.options,r=i.numberMask,l=i.currencyFormat,c=i.previousConformedValue,d=s.allowNegative,u=s.distractionFree;void 0!==n&&(e=l.normalizeDecimalSymbol(e,n),t.$ci.decimalSymbolInsertedAt=void 0);var p,_=r.conformToMask(e,c);if("object"==typeof _){var m=_.numberValue,v=_.fractionDigits,h=l.maximumFractionDigits,g=l.minimumFractionDigits;o&&(g=h),g=a?v.replace(/0+$/,"").length:Math.min(g,v.length),p=m>b?c:l.format(m,{useGrouping:!(o&&u.hideGroupingSymbol),minimumFractionDigits:g,maximumFractionDigits:h})}else p=_;d||(p=p.replace(l.negativePrefix,l.prefix)),o&&u.hideCurrencySymbol&&(p=p.replace(l.negativePrefix,l.minusSymbol).replace(l.prefix,"").replace(l.suffix,"")),t.value=p,t.$ci.numberValue=l.parse(t.value)}else t.value=t.$ci.numberValue=null;t.$ci.previousConformedValue=t.value}(t,e,a),w(t,"input")},$=function(t){t.addEventListener("input",function(e){if(!e.detail){var a=t.value,i=t.selectionStart,o=t.$ci,n=o.currencyFormat,s=o.options;S(t,a),t.$ci.focus&&v(t,function(t,e,a,i,o){var n=i.prefix,s=i.suffix,l=i.decimalSymbol,c=i.maximumFractionDigits,d=i.groupingSymbol,u=e.indexOf(l)+1,p=e.length-a;return Math.abs(t.length-e.length)>1&&a<=u?t.indexOf(l)+1:t.substr(a,1)===d&&r(t,d)===r(e,d)+1?t.length-p-1:(!o.autoDecimalMode&&0!==u&&a>u&&i.onlyDigits(e.substr(u)).length-1===c&&(p-=1),o.distractionFree.hideCurrencySymbol?t.length-p:Math.max(t.length-Math.max(p,s.length),0===n.length?0:n.length+1))}(t.value,a,i,n,s))}},{capture:!0}),t.addEventListener("keypress",function(e){d.includes(e.key)&&(t.$ci.decimalSymbolInsertedAt=t.selectionStart)}),t.addEventListener("format",function(e){var a=t.$ci,i=a.currencyFormat,o=a.options,n=a.numberValue,s=function(t){return o.valueAsInteger&&null!=t?t/Math.pow(10,i.maximumFractionDigits):t}(e.detail.value);n!==s&&k(t,s)}),t.addEventListener("focus",function(){t.$ci.focus=!0;var e=t.$ci.options.distractionFree,a=e.hideCurrencySymbol,i=e.hideGroupingSymbol,o=e.hideNegligibleDecimalDigits;(a||i||o)&&setTimeout(function(){var e=t.value,a=t.selectionStart,i=t.selectionEnd;e&&S(t,e,o),Math.abs(a-i)>0?t.setSelectionRange(0,t.value.length):v(t,function(t,e,a,i){var o=i;return e.distractionFree.hideCurrencySymbol&&(o-=t.prefix.length),e.distractionFree.hideGroupingSymbol&&(o-=r(a.substring(0,i),t.groupingSymbol)),Math.max(0,o)}(t.$ci.currencyFormat,t.$ci.options,e,a))})}),t.addEventListener("blur",function(){t.$ci.focus=!1,null!=t.$ci.numberValue&&k(t,t.$ci.numberValue)}),t.addEventListener("change",function(e){e.detail||w(t,"change")})},x={bind:function(t,e,a){var i=e.value,o=a.context,n=y(t,i,o);$(n),m(n,n.$ci.currencyFormat.parse(n.value))},componentUpdated:function(t,e,a){var i=e.value,o=e.oldValue,n=a.context;if(!h(i,o)){var s=y(t,i,n);k(s,s.$ci.numberValue,!0)}}},C={render:function(t){var e=this;return t("input",{directives:[{name:"currency",value:this.options}],on:Object.assign({},this.$listeners,{change:function(t){t.detail&&e.$emit("change",t.detail.numberValue)},input:function(t){t.detail&&e.value!==t.detail.numberValue&&e.$emit("input",t.detail.numberValue)}})})},directives:{currency:x},name:"CurrencyInput",props:{value:{type:Number,default:null},locale:{type:String,default:void 0},currency:{type:[String,Object],default:void 0},distractionFree:{type:[Boolean,Object],default:void 0},precision:{type:[Number,Object],default:void 0},autoDecimalMode:{type:Boolean,default:void 0},valueAsInteger:{type:Boolean,default:void 0},valueRange:{type:Object,default:void 0},allowNegative:{type:Boolean,default:void 0}},mounted:function(){this.setValue(this.value)},computed:{options:function(){var t=this,e=Object.assign({},this.$CI_DEFAULT_OPTIONS||p);return Object.keys(p).forEach(function(a){void 0!==t[a]&&(e[a]=t[a])}),e}},watch:{value:"setValue"},methods:{setValue:function(t){m(this.$el,t)}}},D={install:function(t,e){void 0===e&&(e={});var a=e.componentName;void 0===a&&(a=C.name);var i=e.directiveName;void 0===i&&(i="currency");var o=e.globalOptions;void 0===o&&(o={}),t.prototype.$CI_DEFAULT_OPTIONS=Object.assign({},p,o),t.component(a,C),t.directive(i,x),t.prototype.$parseCurrency=function(t,e){return void 0===e&&(e={}),_(t,Object.assign({},o,e))}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(D),e.default=D},"4JuL":function(t,e,a){"use strict";a.r(e);var i=a("JUJY"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},"68ym":function(t,e,a){"use strict";a.r(e);var i=a("oqhS"),o=a("ujbe");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="ProductVariantCreate.vue",e.default=r.exports},DChC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(a("QbLZ")),o=n(a("Ljqw"));function n(t){return t&&t.__esModule?t:{default:t}}var s={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var t=this.$store.getters.token;return this.$store.getters.webviewMode&&(t=this.$store.getters.webviewToken),{Authorization:"Bearer "+t.access_token}},baseURL:function(){return o.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var t=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],e=[];return this.$store.getters.stores.map(function(a){e.includes(a.store_id)||a.is_store_active&&(t.push((0,i.default)({},a)),e.push(a.store_id))}),t},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};e.default=s},JUJY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=_(a("m1cH")),o=_(a("QbLZ")),n=_(a("DChC")),s=a("xCek"),r=_(a("vDqi")),l=_(a("68ym")),c=_(a("aq5X")),d=_(a("Ckak")),u=_(a("sRzc")),p=_(a("wd/R"));function _(t){return t&&t.__esModule?t:{default:t}}e.default={name:"CreateNewProduct",components:{variantCreate:l.default,SelectGroupedProductCategory:c.default,InputMoney:d.default,DialogSaveAllStore:u.default},mixins:[n.default],data:function(){return{visibleAdditionalDetail:!1,storeToBeSaved:[],loading:!0,disableSave:!0,disableTrackInventory:!1,modalVarian:!1,hargaJualSwitch:!0,collections:null,brandDatas:null,uomDatas:null,uploadPhotoUrl:"",variant:{label:null,names:[]},tmp:{collection_names:null,group:null,brand:null,sell_price_pos:0,meta_keyword:""},control:{variant:{addVariant:!1,name:""}},data:{product:{name:null,sell_price:0,sell_price_pos:0,product_group_id:null,has_variant:!1,product_group_name:null,brand_name:null,collection_names:null,uom:null,sku:null,condition_id:"N",condition:"",is_new_release:1,description:null,notes:null,buy_price:0,market_price:0,comission:0,pos_sell_price_dynamic:!1,track_inventory:!1,stock_qty:null,low_stock_alert:null,is_out_stock:!1,require_shipping:!0,weight:1,non_taxable:!1,loyalty_points:null,pos_hidden:!1,published:!1,published_date:(0,p.default)().format("YYYY-MM-DD"),meta_keywords:[],meta_description:"",is_comission_percentage:0},loyaltyPoint:!1,variant:[],file:[]},rules:{product:{name:[{message:this.$lang[this.$store.state.userStores.langId].please_input+this.$store.state.userStores.lang.product_name,trigger:"blur",required:!0}],product_group_name:[{message:this.$store.state.userStores.lang.please_select+" "+this.$store.state.userStores.lang.product_category,trigger:"blur",required:!0}]}},product:{},photosSwitch:!1,variantSwitch:!1,addOnSwitch:!1,wholesaleSwitch:!1,materialSwitch:!1,discType:1,showDialogSaveAllStore:!1}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}},headers:function(){return{Authorization:"Bearer "+this.token.access_token}},outlets:function(){var t=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],e=[];return this.$store.getters.stores.map(function(a){e.includes(a.store_id)||a.is_store_active&&(t.push((0,o.default)({},a)),e.push(a.store_id))}),t}},watch:{data:{handler:function(t){t.product.name&&""!==t.product.name&&(t.product.product_group_name&&null!==t.product.product_group_name||t.product.product_group_id&&null!==t.product.product_group_id)&&(!1===t.product.has_variant||!0===t.product.has_variant&&t.variant.length>0)?this.disableSave=!1:this.disableSave=!0},deep:!0,immediate:!0},selectedStore:function(t){this.storeToBeSaved=t.url_id}},mounted:function(){this.$route.params.copy&&this.loadData();var t=this.$store.getters.selectedStore;t&&(t.constructor===Array?this.storeToBeSaved="all":this.storeToBeSaved[0]=t.store_id),this.uploadPhotoUrl=(0,s.baseApi)(this.selectedStore.url_id,this.langId,"product/upload"),this.getSelectCollection(),this.getSelectBrand(),this.getSelectUom(),this.getLoyaltyPoint()},methods:{loadData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"product/"+this.$route.params.id),headers:e}).then(function(e){t.product=e.data.data,t.data.product=e.data.data,t.data.product.product_group_name=t.data.product.klasifikasi,parseInt(t.data.product.sell_price)===t.data.product.sell_price_pos?t.hargaJualSwitch=!0:t.hargaJualSwitch=!1,t.photosSwitch=!0,t.addOnSwitch=!0,t.data.product.meta_keywords.length>=1&&(t.data.product.meta_keywords=t.data.product.meta_keywords.split(",")),1===t.data.product.has_variant?(t.data.product.has_variant=!0,t.variantSwitch=!0):(t.data.product.has_variant=!1,t.variantSwitch=!1),1===t.data.product.is_new_release?t.data.product.is_new_release=!0:t.data.product.is_new_release=!1,1===t.data.product.pos_sell_price_dynamic?t.data.product.pos_sell_price_dynamic=!0:t.data.product.pos_sell_price_dynamic=!1,1===t.data.product.track_inventory?t.data.product.track_inventory=!0:t.data.product.track_inventory=!1,1===t.data.product.is_out_stock?t.data.product.is_out_stock=!0:t.data.product.is_out_stock=!1,1===t.data.product.require_shipping?t.data.product.require_shipping=!0:t.data.product.require_shipping=!1,1===t.data.product.non_taxable?t.data.product.non_taxable=!0:t.data.product.non_taxable=!1,1===t.data.product.pos_hidden?t.data.product.pos_hidden=!0:t.data.product.pos_hidden=!1,"0"===t.data.product.stock_qty?t.data.product.stock_qty=0:t.data.product.stock_qty=parseInt(t.data.product.stock_qty),t.$set(t.product,"collection_names",[]),t.product.collections.length>0&&t.product.collections.map(function(e){t.product.collection_names.push(e.name)}),t.tmp=e.data.data,t.product.photos.length>0&&(t.newPhoto=t.product.photos.map(function(t,e,a){return t.url=t.photo_md,t.name=t.title,t})),t.loading=!1,t.$emit("dataloaded",t.product)}).catch(function(e){t.loading=!0,404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},getSelectCategory:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"productgroup"),headers:e,params:{per_page:1e3}}).then(function(e){t.categories=e.data.data,t.loading=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},getSelectCollection:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"collection"),headers:e,params:{per_page:1e3}}).then(function(e){t.collections=e.data.data,t.loading=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},beforeUpload:function(t){var e="image/jpeg"===t.type,a="image/png"===t.type;return e||a||this.$message.error(this.$lang[this.langId].error_upload_photo),e||a},handleUploadSuccess:function(t,e,a){this.data.file.push(t.data[0])},handleUploadError:function(t){this.$notify({type:"warning",message:"File too large",title:"Error"})},handleProductConditon:function(t){var e=t;e===this.lang.new&&(this.data.product.condition_id="N"),e===this.$lang[this.langId].refurbished&&(this.data.product.condition_id="R"),e===this.$lang[this.langId].second&&(this.data.product.condition_id="U"),e===this.$lang[this.langId].there_is_no&&(this.data.product.condition_id=null)},getSelectBrand:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"brand"),headers:e,params:{per_page:1e3}}).then(function(e){t.brandDatas=e.data.data,t.loading=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},getSelectUom:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"uom"),headers:e,params:{per_page:1e3}}).then(function(e){t.uomDatas=e.data.data,t.loading=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},commitVariants:function(t,e,a){this.data.product.track_inventory=a,this.data.variant=t,this.data.product.variant_label=e.join()},handleSave:function(){this.storeToBeSaved.length&&0===this.storeToBeSaved[0]?this.showDialogSaveAllStore=!0:this.handleSaveData()},handleSaveData:function(){var t=this,e={Authorization:"Bearer "+this.token.access_token},a=(0,o.default)({},this.data);if(a.product=(0,o.default)({},this.data.product),null!==this.data.product.meta_keywords){var n=[].concat((0,i.default)(this.data.product.meta_keywords));n=n.join(","),a.product.meta_keywords=n}else a.product.meta_keyword="";(this.hargaJualSwitch&&(a.product.sell_price=a.product.sell_price_pos),this.$route.params.copy&&(this.photosSwitch?a.product.copy_photos=this.$route.params.id:a.product.copy_photos=0,this.variantSwitch?a.product.copy_variants=this.$route.params.id:a.product.copy_variants=0,this.addOnSwitch?a.product.copy_addons_notes=this.$route.params.id:a.product.copy_addons_notes=0,this.wholesaleSwitch?a.product.copy_wholesale_prices=this.$route.params.id:a.product.copy_wholesale_prices=0,this.materialSwitch?a.product.copy_materials=1:a.product.copy_materials=0),!0===a.product.has_variant)&&a.variant.map(function(e,a,i){e.sell_price||e.sell_price_pos||(e.sell_price=t.data.product.sell_price,e.sell_price_pos=t.data.product.sell_price_pos),!e.sku&&t.data.product.sku&&(e.sku=t.data.product.sku+"-"+a)});if(a.product.collection_names){var r=a.product.collection_names.join(",");a.product.collection_names=r}if(0===a.file.length&&this.$delete(a,"file"),"setdemo1"===this.selectedStore.url_id||"allinolsera2"===this.selectedStore.url_id||"siliwangidutagarden"===this.selectedStore.url_id){a.to_store_id=this.selectedStore.store_id,a.to_allstore_id=0,this.storeToBeSaved.length&&0===this.storeToBeSaved[0]?a.to_allstore_id=1:this.storeToBeSaved.length&&(a.to_store_id=this.storeToBeSaved.join(","));var l=(0,s.baseApi)(this.selectedStore.url_id,this.langId,"product");this.save(l,a,e),this.$router.push({path:"/catalog/product/"})}else{var c="";if(this.$route.params.copy){c=(0,s.baseApi)(this.selectedStore.url_id,this.langId,"product/copy");var d=a.product;d.product_id=this.$route.params.id,this.save(c,d,e)}else{c=(0,s.baseApi)(this.selectedStore.url_id,this.langId,"product");var u=a;u.product.product_group_id&&this.$set(u.product,"product_group_name",null),this.save(c,u,e)}}},save:function(t,e,a){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.loading=!0;var s="";o&&(s=this.$lang[this.langId].at_outlet+o),(0,r.default)({method:"POST",url:t,headers:a,data:e}).then(function(t){i.loading=!1,i.$message({message:i.lang.product+t.data.data.name+i.$lang[i.langId].success_add+s+".",type:"success"}),i.loading=!1,i.$set(e,"file",[]),n&&i.$router.push({path:"/catalog/product"})}).catch(function(t){i.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),i.$set(e,"file",[]),i.loading=!1})},handleChangeOutStock:function(t){!0===t?(this.data.product.track_inventory=!1,this.data.product.stock_qty=null,this.data.product.low_stock_alert=null,this.disableTrackInventory=!0):this.disableTrackInventory=!1},handleChangeSelectCategory:function(t){this.data.product.product_group_name=t.name,this.data.product.product_group_id=t.id},handleCreateCategory:function(t){this.data.product.product_group_name=t,this.data.product.product_group_id=null},handleAddMetaKeywords:function(){this.tmp.meta_keyword&&(this.data.product.meta_keywords.push(this.tmp.meta_keyword),this.tmp.meta_keyword="")},handleRemoveMetaKeyword:function(t){this.data.product.meta_keywords.splice(t,1)},getLoyaltyPoint:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,r.default)({method:"GET",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"loyaltypoint"),headers:e}).then(function(e){0===e.data.data.with_lpoint?t.data.loyaltyPoint=!1:t.data.loyaltyPoint=!0,t.loading=!1}).catch(function(e){t.loading=!1})},handleMatchDiscount:function(){var t=0,e=this.data.product.sell_price_pos;1===this.data.product.is_comission_percentage&&(t=this.data.product.comission/e*100),0===this.data.product.is_comission_percentage&&(t=this.data.product.comission/100*e),this.data.product.comission=t},handleSelectAll:function(t){var e=this;t.length&&t.map(function(t){0===t&&(e.storeToBeSaved=[0])})}}}},O9eM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(a("DChC"));e.default={name:"DialogSaveAllStore",mixins:[i.default],props:{showDialog:{type:Boolean,default:!1}},methods:{handleClose:function(){this.$emit("close")},handleSave:function(){this.$emit("save")}}}},boaX:function(t,e,a){"use strict";a.r(e);var i=a("O9eM"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},dYGe:function(t,e,a){"use strict";a.r(e);var i=a("rdnz"),o=a("4JuL");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="ProductCreate.vue",e.default=r.exports},kbJm:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.showDialog,"show-close":!1,"append-to-body":""},on:{"update:visible":function(e){t.showDialog=e}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"font-20"},[t._v("Anda Yakin simpan ke semua toko?")]),t._v(" "),a("div",{staticClass:"full-width mt-24"},[a("el-button",{staticClass:"btn-block",on:{click:t.handleClose}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{staticClass:"btn-block",attrs:{type:"danger"},on:{click:t.handleSave}},[t._v(t._s(t.lang.yes))])],1)])])},o=[]},oqhS:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button-action-authenticated",{attrs:{permission:["catalog/products","edit"],type:"primary"},on:{click:function(e){t.modalVarian=!0}}},[t._v("\n      "+t._s(t.lang.manage)+" "+t._s(t.lang.variant)+"\n    ")]),t._v(" "),a("el-dialog",{attrs:{title:t.$lang[t.langId].variant_product,visible:t.modalVarian,"custom-class":"mw-1200"},on:{"update:visible":function(e){t.modalVarian=e}}},[a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("strong",[t._v(t._s(t.lang.variant_type))])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("strong",[t._v(t._s(t.lang.variant))])]),t._v(" "),a("el-col",{attrs:{span:6}},[a("strong",[t._v(t._s(t.$lang[t.langId].action))])])],1),t._v(" "),a("hr"),t._v(" "),t._l(t.fields,function(e,i){return a("el-row",{key:i,staticStyle:{"border-bottom":"1px solid #f0f0f0","padding-top":"12px","padding-bottom":"12px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[a("el-input",{staticStyle:{"margin-top":"0",width:"100%"},attrs:{size:"mini",placeholder:t.lang.info_variant_type},model:{value:e.label,callback:function(a){t.$set(e,"label",a)},expression:"field.label"}})],1),t._v(" "),a("el-col",{attrs:{span:12}},[e.names.length>=1?t._l(e.names,function(e){return a("el-tag",{key:e,staticClass:"mr-4 mb-4",attrs:{"disable-transitions":!1,closable:""},on:{close:function(a){return t.handleRemoveVariantName(e,i)}}},[t._v("\n              "+t._s(e)+"\n            ")])}):t._l(e.names,function(e){return a("el-tag",{key:e,attrs:{"disable-transitions":!1},on:{close:function(a){return t.handleRemoveVariantName(e,i)}}},[t._v("\n                "+t._s(e)+"\n              ")])}),t._v(" "),e.control.showAddName?a("el-input",{ref:"saveTagInput",refInFor:!0,staticClass:"input-new-tag",attrs:{size:"mini"},on:{blur:function(e){return t.handleInputVariantName(i)}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleInputVariantName(i)}},model:{value:t.newVariantName,callback:function(e){t.newVariantName=e},expression:"newVariantName"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"mini"},on:{click:function(e){return t.handleInputVariantNameVisible(i)}}},[t._v("\n              + "+t._s(t.lang.add)+" "+t._s(t.lang.variant)+"\n            ")])],2),t._v(" "),a("el-col",{attrs:{span:6}},[0!==i?a("el-button",{attrs:{icon:"el-icon-delete",circle:"",type:"danger"},on:{click:function(e){return t.handleDeleteField(i)}}}):t._e()],1)],1)}),t._v(" "),t.dataCompleted?a("el-button",{attrs:{type:"text",icon:"el-icon-plus"},on:{click:t.handleAddVariant}},[t._v("\n          "+t._s(t.lang.type)+" "+t._s(t.lang.variant)+"\n        ")]):t._e()],2),t._v(" "),a("div",[t.productNew?a("div",{staticClass:"flex-container",staticStyle:{"margin-top":"8px"}},[a("div",{staticClass:"font-bold font-14 mr-8"},[t._v("\n            "+t._s(t.lang.track_inventory)+"\n          ")]),t._v(" "),a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},on:{change:t.changeTrackInventory},model:{value:t.track_inventory,callback:function(e){t.track_inventory=e},expression:"track_inventory"}}),t._v(" "),t.track_inventory?a("strong",{staticClass:"font-12 color-info"},[t._v(t._s(t.lang.yes))]):a("strong",{staticClass:"font-12 color-info"},[t._v(t._s(t.lang.no))])],1)]):t._e(),t._v(" "),a("el-divider"),t._v(" "),"satuan"===t.fields[0].label?a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:t.lang.variant,"min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{label:"Unit","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{width:"100%","margin-top":"0"},attrs:{placeholder:"Unit"},model:{value:e.row.unit,callback:function(a){t.$set(e.row,"unit",a)},expression:"scope.row.unit"}})]}}],null,!1,3140925065)}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.sku,"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{width:"100%","margin-top":"0"},attrs:{placeholder:t.lang.sku},model:{value:e.row.sku,callback:function(a){t.$set(e.row,"sku",a)},expression:"scope.row.sku"}})]}}],null,!1,2208474307)}),t._v(" "),"ST"===t.userRole.role_id||"SS"===t.userRole.role_id||t.selectedStore.is_hide_buy_price?t._e():a("el-table-column",{attrs:{label:t.lang.buy_price,"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("input-money",{staticStyle:{width:"100%"},model:{value:e.row.buy_price,callback:function(a){t.$set(e.row,"buy_price",a)},expression:"scope.row.buy_price"}})]}}],null,!1,4230282555)}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.market_price,"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("input-money",{staticStyle:{width:"100%"},model:{value:e.row.market_price,callback:function(a){t.$set(e.row,"market_price",a)},expression:"scope.row.market_price"}})]}}],null,!1,3698814289)}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.online_selling_price,"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("input-money",{staticStyle:{width:"100%"},model:{value:e.row.sell_price,callback:function(a){t.$set(e.row,"sell_price",a)},expression:"scope.row.sell_price"}})]}}],null,!1,4025691235)}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.selling_price_in_store,"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("input-money",{staticStyle:{width:"100%"},model:{value:e.row.sell_price_pos,callback:function(a){t.$set(e.row,"sell_price_pos",a)},expression:"scope.row.sell_price_pos"}})]}}],null,!1,3646140080)}),t._v(" "),t.disabledQty?a("el-table-column",{attrs:{label:t.lang.stock_qty,width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"number"},model:{value:e.row.stock_qty,callback:function(a){t.$set(e.row,"stock_qty",a)},expression:"scope.row.stock_qty"}})]}}],null,!1,4197542811)}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:t.$lang[t.langId].action,width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{icon:"el-icon-delete",circle:"",type:"danger"},on:{click:function(a){return t.handleDeleteVariant(e.$index)}}})]}}],null,!1,4008027619)})],1):a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"name",label:t.lang.variant,"min-width":"150"}}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.sku,"min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{width:"100%","margin-top":"0"},attrs:{placeholder:t.lang.sku},model:{value:e.row.sku,callback:function(a){t.$set(e.row,"sku",a)},expression:"scope.row.sku"}})]}}])}),t._v(" "),"ST"===t.userRole.role_id||"SS"===t.userRole.role_id||t.selectedStore.is_hide_buy_price?t._e():a("el-table-column",{attrs:{label:t.lang.buy_price,"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("input-money",{staticStyle:{width:"100%"},model:{value:e.row.buy_price,callback:function(a){t.$set(e.row,"buy_price",a)},expression:"scope.row.buy_price"}})]}}],null,!1,4230282555)}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.market_price,"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("input-money",{staticStyle:{width:"100%"},model:{value:e.row.market_price,callback:function(a){t.$set(e.row,"market_price",a)},expression:"scope.row.market_price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.online_selling_price,"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("input-money",{staticStyle:{width:"100%"},model:{value:e.row.sell_price,callback:function(a){t.$set(e.row,"sell_price",a)},expression:"scope.row.sell_price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:t.lang.selling_price_in_store,"min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("input-money",{staticStyle:{width:"100%"},model:{value:e.row.sell_price_pos,callback:function(a){t.$set(e.row,"sell_price_pos",a)},expression:"scope.row.sell_price_pos"}})]}}])}),t._v(" "),t.disabledQty?a("el-table-column",{attrs:{label:t.lang.stock_qty,width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"number"},model:{value:e.row.stock_qty,callback:function(a){t.$set(e.row,"stock_qty",a)},expression:"scope.row.stock_qty"}})]}}],null,!1,4197542811)}):t._e(),t._v(" "),a("el-table-column",{attrs:{label:t.$lang[t.langId].action,width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{icon:"el-icon-delete",circle:"",type:"danger"},on:{click:function(a){return t.handleDeleteVariant(e.$index)}}})]}}])})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[[a("span",[t._v(t._s(t.$lang[t.langId].save_at)+":")]),t._v(" "),a("el-select",{attrs:{multiple:"","collapse-tags":""},on:{change:t.handleSelectAll},model:{value:t.storeToBeSaved,callback:function(e){t.storeToBeSaved=e},expression:"storeToBeSaved"}},t._l(t.outlets,function(t){return a("el-option",{key:t.store_id,attrs:{label:t.name,value:t.store_id}})}),1)],t._v(" "),a("el-button",{on:{click:function(e){t.modalVarian=!1}}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.confirmData}},[t._v(t._s(t.$lang[t.langId].confirm))])],2)])],1)},o=[]},rdnz:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box"},[a("div",{staticClass:"box-header with-border create-product-header"},[a("h3",{staticClass:"box-title"},[t._v(t._s(t.lang.add_product))]),t._v(" "),a("div",{staticClass:"pull-right"},[a("router-link",{attrs:{to:"/catalog/product"}},[a("el-button",{staticStyle:{"box-shadow":"none"}},[t._v(t._s(t.lang.cancel))])],1),t._v(" "),t.$route.params.copy?t._e():a("div",[a("p",[t._v(t._s(t.$lang[t.langId].save_at)+":")]),t._v(" "),a("el-select",{attrs:{multiple:"","collapse-tags":""},on:{change:t.handleSelectAll},model:{value:t.storeToBeSaved,callback:function(e){t.storeToBeSaved=e},expression:"storeToBeSaved"}},t._l(t.outlets,function(t){return a("el-option",{key:t.store_id,attrs:{label:t.name,value:t.store_id}})}),1)],1),t._v(" "),t.$route.params.copy?a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSave}},[t._v(t._s(t.lang.save))]):a("el-button",{attrs:{type:"primary",disabled:t.disableSave,loading:t.loading},on:{click:t.handleSave}},[t._v(t._s(t.lang.save))])],1)]),t._v(" "),a("div",{staticClass:"box-body create-product"},[a("el-form",{ref:"data",staticClass:"form-sidebyside p-24",attrs:{model:t.data,rules:t.rules,"label-position":"top"},nativeOn:{submit:function(e){return e.preventDefault(),t.handleSave.apply(null,arguments)}}},[a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[t.$route.params.copy?a("el-form-item",{attrs:{label:t.$lang[t.langId].copy+" "+t.lang.photo}},[a("p",[t._v(t._s(t.$lang[t.langId].copy_photos_note))])]):a("el-form-item",{attrs:{label:t.$lang[t.langId].product_image}},[a("p",[t._v(t._s(t.$lang[t.langId].recommendations_image))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[t.$route.params.copy?a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.photosSwitch,callback:function(e){t.photosSwitch=e},expression:"photosSwitch"}}):a("el-form-item",[a("el-upload",{attrs:{"list-type":"picture-card",action:t.uploadPhotoUrl,headers:t.headers,"before-upload":t.beforeUpload,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError,multiple:""}},[a("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),t.$route.params.copy?a("div",[t.photosSwitch?a("div",[a("p",{staticClass:"desc-switch"},[a("strong",[t._v(t._s(t.lang.yes))])])]):a("div",[a("p",{staticClass:"desc-switch"},[a("strong",[t._v(t._s(t.lang.no))])])])]):t._e()],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.product_name}},[a("p",[t._v(t._s(t.$lang[t.langId].fill_input_product)+" "),a("span",{staticStyle:{color:"red"}},[t._v("*")])])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{prop:"product.name"}},[a("el-input",{attrs:{type:"text",placeholder:t.$lang[t.langId].please_input+t.lang.product_name},model:{value:t.data.product.name,callback:function(e){t.$set(t.data.product,"name",e)},expression:"data.product.name"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.product_category}},[a("p",[t._v(t._s(t.lang.info_choose_existing_or_add_new)+" "),a("span",{staticStyle:{color:"red"}},[t._v("*")])])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{prop:"product.product_group_name"}},[a("select-grouped-product-category",{attrs:{"allow-create":!0,"selected-id":t.data.product.product_group_name},on:{change:t.handleChangeSelectCategory,create:t.handleCreateCategory}})],1)],1)],1),t._v(" "),a("div",[t.data.product.has_variant?t._e():a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.selling_price_in_store}},[a("p",[a("span",{staticStyle:{color:"red"}},[t._v("*")])])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{prop:"sell_price_pos"}},[a("div",{staticClass:"el-input"},[a("input-money",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSave.apply(null,arguments)}},model:{value:t.data.product.sell_price_pos,callback:function(e){t.$set(t.data.product,"sell_price_pos",e)},expression:"data.product.sell_price_pos"}})],1)])],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",[t._v("\n                "+t._s(t.$lang[t.langId].price_online_same_with_store)+"\n              ")])],1),t._v(" "),a("el-col",{staticClass:"switch-varian flex-container",attrs:{span:15}},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.hargaJualSwitch,callback:function(e){t.hargaJualSwitch=e},expression:"hargaJualSwitch"}})],1),t._v(" "),1==t.hargaJualSwitch?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])],1),t._v(" "),t.hargaJualSwitch?t._e():a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.selling_price_online}})],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{prop:"sell_price"}},[a("div",{staticClass:"el-input"},[a("input-money",{model:{value:t.data.product.sell_price,callback:function(e){t.$set(t.data.product,"sell_price",e)},expression:"data.product.sell_price"}})],1)])],1)],1)]),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.track_inventory}},[a("p",[t._v(t._s(t.lang.info_track_inventory))])])],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("el-form-item",[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949",disabled:t.disableTrackInventory},model:{value:t.data.product.track_inventory,callback:function(e){t.$set(t.data.product,"track_inventory",e)},expression:"data.product.track_inventory"}})],1),t._v(" "),t.data.product.track_inventory?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1)],1),t._v(" "),t.data.product.track_inventory?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.info_stock_qty}},[a("p",[t._v(t._s(t.lang.info_track_inventory_with_variant))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{attrs:{placeholder:t.$lang[t.langId].input_number,type:"number",min:"1"},model:{value:t.data.product.stock_qty,callback:function(e){t.$set(t.data.product,"stock_qty",e)},expression:"data.product.stock_qty"}})],1)],1)],1):t._e(),t._v(" "),t.data.product.track_inventory?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.product_stock_warning}},[a("p",[t._v(t._s(t.$lang[t.langId].info_stock_limit)+".")])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{attrs:{placeholder:t.$lang[t.langId].input_number,type:"number",min:"1"},model:{value:t.data.product.low_stock_alert,callback:function(e){t.$set(t.data.product,"low_stock_alert",e)},expression:"data.product.low_stock_alert"}})],1)],1)],1):t._e(),t._v(" "),t.$route.params.copy?t.$route.params.copy&&t.data.product.has_variant?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.$lang[t.langId].copy+" "+t.lang.variant}},[a("p",[t._v(t._s(t.$lang[t.langId].copy_variant_note))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("div",{staticClass:"container-flex"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.variantSwitch,callback:function(e){t.variantSwitch=e},expression:"variantSwitch"}})],1),t._v(" "),t.variantSwitch?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1):t._e():a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.variant}},[t._v("\n              "+t._s(t.$lang[t.langId].active_product_if_varian)+"\n            ")])],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.data.product.has_variant,callback:function(e){t.$set(t.data.product,"has_variant",e)},expression:"data.product.has_variant"}})],1),t._v(" "),t.data.product.has_variant?a("div",[a("strong",[t._v(t._s(t.lang.yes))]),t._v(" "),a("span",[t._v(" - ("+t._s(t.$lang[t.langId].variant_required)+") ")])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])]),t._v(" "),t.data.product.has_variant?a("div",{staticStyle:{"margin-top":"20px"}},[a("variant-create",{attrs:{"product-sku":t.data.product.sku,"product-data":t.data.product,"product-new":!0},on:{saved:t.commitVariants}})],1):t._e()])],1),t._v(" "),t.$route.params.copy?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.$lang[t.langId].copy+" "+t.$lang[t.langId].wholesale_prices}},[a("p",[t._v(t._s(t.$lang[t.langId].copy_wholesale_note))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("div",{staticClass:"container-flex"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.wholesaleSwitch,callback:function(e){t.wholesaleSwitch=e},expression:"wholesaleSwitch"}})],1),t._v(" "),t.wholesaleSwitch?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1):t._e(),t._v(" "),t.$route.params.copy?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.$lang[t.langId].copy+" "+t.lang.material}},[a("p",[t._v(t._s(t.$lang[t.langId].copy_material_note))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("div",{staticClass:"container-flex"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.materialSwitch,callback:function(e){t.materialSwitch=e},expression:"materialSwitch"}})],1),t._v(" "),t.materialSwitch?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1):t._e()])],1)]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"box-header with-border"},[a("h3",{staticClass:"box-title"},[t._v(t._s(t.$lang[t.langId].information_detail))]),t._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{type:"info",size:"small"},on:{click:function(e){t.visibleAdditionalDetail=!t.visibleAdditionalDetail}}},[t.visibleAdditionalDetail?a("i",{staticClass:"fa fa-minus"}):a("i",{staticClass:"fa fa-plus"})])],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleAdditionalDetail,expression:"visibleAdditionalDetail"}],staticClass:"box-body create-product"},[a("el-form",{attrs:{"label-position":"top"},nativeOn:{submit:function(t){t.preventDefault()}}},[a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.sku}},[a("p",[t._v(t._s(t.lang.info_sku_or_barcode))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{attrs:{placeholder:t.$lang[t.langId].please_input+t.lang.sku},model:{value:t.data.product.sku,callback:function(e){t.$set(t.data.product,"sku",e)},expression:"data.product.sku"}})],1)],1)],1),t._v(" "),1===t.selectedStore.is_onlineshop?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.collection}},[a("p",[t._v(t._s(t.lang.info_collection))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-select",{attrs:{placeholder:t.lang.please_select,"allow-create":"",multiple:"",filterable:""},model:{value:t.data.product.collection_names,callback:function(e){t.$set(t.data.product,"collection_names",e)},expression:"data.product.collection_names"}},[t._l(t.collections,function(e){return[e.children.length?e.children.length?[a("el-option-group",{key:e.id,attrs:{label:e.name}},t._l(e.children,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)]:t._e():[a("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})]]})],2)],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.brand}},[a("p",[t._v(t._s(t.lang.info_choose_existing_or_add_new))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-select",{attrs:{filterable:"","allow-create":"",placeholder:t.lang.please_select},model:{value:t.data.product.brand_name,callback:function(e){t.$set(t.data.product,"brand_name",e)},expression:"data.product.brand_name"}},t._l(t.brandDatas,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1)],1)],1),t._v(" "),1!==t.userRole.is_pos_only?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.condition}},[a("p",[t._v(t._s(t.lang.please_select))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-radio-group",{on:{change:t.handleProductConditon},model:{value:t.data.product.condition,callback:function(e){t.$set(t.data.product,"condition",e)},expression:"data.product.condition"}},[a("el-radio-button",{attrs:{label:t.$lang[t.langId].there_is_no}},[t._v(t._s(t.$lang[t.langId].there_is_no))]),t._v(" "),a("el-radio-button",{attrs:{label:t.lang.new}},[t._v(t._s(t.lang.new))]),t._v(" "),a("el-radio-button",{attrs:{label:t.$lang[t.langId].refurbished}},[t._v(t._s(t.$lang[t.langId].refurbished))]),t._v(" "),a("el-radio-button",{attrs:{label:t.$lang[t.langId].second}},[t._v(t._s(t.$lang[t.langId].second))])],1)],1)],1)],1):t._e(),t._v(" "),1===t.selectedStore.is_pos_only?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.new_release}})],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("el-form-item",[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.data.product.is_new_release,callback:function(e){t.$set(t.data.product,"is_new_release",e)},expression:"data.product.is_new_release"}})],1),t._v(" "),t.data.product.is_new_release?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1)],1):t._e(),t._v(" "),1!==t.userRole.is_pos_only||1===t.selectedStore.active_online_order?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.product_description}})],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{attrs:{type:"textarea",rows:4,placeholder:t.$lang[t.langId].please_input+t.lang.product_description},model:{value:t.data.product.description,callback:function(e){t.$set(t.data.product,"description",e)},expression:"data.product.description"}})],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.notes}})],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:t.$lang[t.langId].please_input+t.lang.notes},model:{value:t.data.product.notes,callback:function(e){t.$set(t.data.product,"notes",e)},expression:"data.product.notes"}})],1)],1)],1),t._v(" "),a("br"),t._v(" "),t.data.product.has_variant?t._e():a("div",[a("hr"),t._v(" "),a("p",[a("strong",[t._v(t._s(t.lang.price)+" "+t._s(t.lang.product))])]),t._v(" "),"ST"===t.userRole.role_id||"SS"===t.userRole.role_id||t.selectedStore.is_hide_buy_price?t._e():a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.buy_price}})],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("input-money",{model:{value:t.data.product.buy_price,callback:function(e){t.$set(t.data.product,"buy_price",e)},expression:"data.product.buy_price"}})],1)],1)],1),t._v(" "),1===t.selectedStore.is_pos_only?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.market_price}},[a("p",[t._v(t._s(t.lang.info_compare_at_price))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("input-money",{model:{value:t.data.product.market_price,callback:function(e){t.$set(t.data.product,"market_price",e)},expression:"data.product.market_price"}})],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.$lang[t.langId].comission}},[a("p",[t._v(t._s(t.$lang[t.langId].commission_for_employees))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",["dash"===t.stageLevel||"prod"===t.stageLevel?a("input-money",{model:{value:t.data.product.comission,callback:function(e){t.$set(t.data.product,"comission",e)},expression:"data.product.comission"}}):a("div",{staticClass:"flex-container",staticStyle:{width:"300px"}},[a("div",{staticStyle:{width:"60%"}},[0===t.data.product.is_comission_percentage?a("input-money",{staticClass:"switch-discount--money border border--grey-border",staticStyle:{width:"100%"},model:{value:t.data.product.comission,callback:function(e){t.$set(t.data.product,"comission",e)},expression:"data.product.comission"}}):t._e(),t._v(" "),1===t.data.product.is_comission_percentage?a("el-input",{staticClass:"switch-discount--money border border--grey-border",staticStyle:{width:"100%"},model:{value:t.data.product.comission,callback:function(e){t.$set(t.data.product,"comission",e)},expression:"data.product.comission"}},[a("template",{slot:"append"},[t._v("%")])],2):t._e()],1),t._v(" "),a("div",{staticStyle:{width:"40%"}},[a("el-radio-group",{staticClass:"flex-container",on:{change:t.handleMatchDiscount},model:{value:t.data.product.is_comission_percentage,callback:function(e){t.$set(t.data.product,"is_comission_percentage",e)},expression:"data.product.is_comission_percentage"}},[a("el-radio-button",{staticClass:"lpoint-type",staticStyle:{width:"50%"},attrs:{label:0}},[t._v("IDR")]),t._v(" "),a("el-radio-button",{staticClass:"lpoint-type",staticStyle:{width:"50%"},attrs:{label:1}},[t._v("%")])],1)],1)])],1)],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.pos_sell_price_dynamic}},[a("p",[t._v(t._s(t.lang.info_pos_sell_price_dynamic))])])],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("el-form-item",[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.data.product.pos_sell_price_dynamic,callback:function(e){t.$set(t.data.product,"pos_sell_price_dynamic",e)},expression:"data.product.pos_sell_price_dynamic"}})],1),t._v(" "),t.data.product.pos_sell_price_dynamic?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1)],1),t._v(" "),a("hr")]),t._v(" "),a("p",[a("strong",[t._v(t._s(t.$lang[t.langId].ordering))])]),t._v(" "),1===t.selectedStore.is_pos_only?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("p",[t._v(t._s(t.lang.info_min_order))]),t._v(" "),a("el-input-number",{attrs:{min:0},model:{value:t.data.product.min_order,callback:function(e){t.$set(t.data.product,"min_order",e)},expression:"data.product.min_order"}})],1),t._v(" "),a("div",{staticClass:"col-md-6"},[a("p",[t._v(t._s(t.$lang[t.langId].info_max_order))]),t._v(" "),a("el-input-number",{attrs:{min:0},model:{value:t.data.product.max_order,callback:function(e){t.$set(t.data.product,"max_order",e)},expression:"data.product.max_order"}})],1)]):t._e(),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v(t._s(t.lang.inventory))])]),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.unit_of_measurement}})],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-select",{attrs:{filterable:"","allow-create":"",placeholder:t.lang.please_select},model:{value:t.data.product.uom,callback:function(e){t.$set(t.data.product,"uom",e)},expression:"data.product.uom"}},t._l(t.uomDatas,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1)],1)],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.$lang[t.langId].empty_stock}},[a("p",[t._v(t._s(t.$lang[t.langId].info_product_empty))])])],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("el-form-item",[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},on:{change:function(e){return t.handleChangeOutStock(t.data.product.is_out_stock)}},model:{value:t.data.product.is_out_stock,callback:function(e){t.$set(t.data.product,"is_out_stock",e)},expression:"data.product.is_out_stock"}})],1),t._v(" "),t.data.product.is_out_stock?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1)],1),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v(t._s(t.lang.shipping))])]),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.require_shipping}},[a("p",[t._v(t._s(t.lang.info_require_shipping))])])],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("el-form-item",[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.data.product.require_shipping,callback:function(e){t.$set(t.data.product,"require_shipping",e)},expression:"data.product.require_shipping"}})],1),t._v(" "),t.data.product.require_shipping?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.product_weight}},[a("p",[t._v(t._s(t.$lang[t.langId].product_kg_decimal))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{attrs:{placeholder:t.lang.info_decimal},model:{value:t.data.product.weight,callback:function(e){t.$set(t.data.product,"weight",e)},expression:"data.product.weight"}},[a("template",{slot:"append"},[t._v("kg")])],2)],1)],1)],1),t._v(" "),a("hr"),t._v(" "),a("p",[a("strong",[t._v(t._s(t.$lang[t.langId].additional_info))])]),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.info_taxes_included}},[a("p",[t._v(t._s(t.$lang[t.langId].product_tax_free))])])],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("el-form-item",[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.data.product.non_taxable,callback:function(e){t.$set(t.data.product,"non_taxable",e)},expression:"data.product.non_taxable"}})],1),t._v(" "),t.data.product.non_taxable?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1)],1),t._v(" "),t.data.loyaltyPoint?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.loyalty_point}},[a("p",[t._v(t._s(t.lang.info_loyalty_point_earned_per_item))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{attrs:{placeholder:t.$lang[t.langId].input_number,type:"number"},model:{value:t.data.product.loyalty_points,callback:function(e){t.$set(t.data.product,"loyalty_points",e)},expression:"data.product.loyalty_points"}})],1)],1)],1):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.ready_to_publish_for_sale}},[a("p",[t._v(t._s(t.lang.info_publish_for_sale))])])],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("el-form-item",[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.data.product.published,callback:function(e){t.$set(t.data.product,"published",e)},expression:"data.product.published"}})],1),t._v(" "),t.data.product.published?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1)],1),t._v(" "),t.data.product.published?a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.start_sale_date}})],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("el-date-picker",{staticStyle:{"margin-top":"-5px"},attrs:{type:"date",format:"dd-MM-yyyy"},model:{value:t.data.product.published_date,callback:function(e){t.$set(t.data.product,"published_date",e)},expression:"data.product.published_date"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.hide_in_pos}},[a("p",[t._v(t._s(t.lang.info_hide_in_pos))])])],1),t._v(" "),a("el-col",{staticClass:"switch-varian",attrs:{span:15}},[a("el-form-item",[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-switch",{attrs:{"inactive-color":"#ff4949"},model:{value:t.data.product.pos_hidden,callback:function(e){t.$set(t.data.product,"pos_hidden",e)},expression:"data.product.pos_hidden"}})],1),t._v(" "),t.data.product.pos_hidden?a("div",[a("strong",[t._v(t._s(t.lang.yes))])]):a("div",[a("strong",[t._v(t._s(t.lang.no))])])])])],1)],1),t._v(" "),a("hr"),t._v(" "),1!==t.userRole.is_pos_only?a("div",[a("p",[a("strong",[t._v(t._s(t.lang.seo))])]),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.meta_keywords}},[a("p",[t._v(t._s(t.lang.info_meta_keywords)+". "+t._s(t.lang.info_input_tags_enter))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{on:{change:t.handleAddMetaKeywords},model:{value:t.tmp.meta_keyword,callback:function(e){t.$set(t.tmp,"meta_keyword",e)},expression:"tmp.meta_keyword"}}),t._v(" "),a("p",{staticClass:"wrapper-tags"},t._l(t.data.product.meta_keywords,function(e,i){return a("el-tag",{key:i,attrs:{closable:""},on:{close:function(e){return t.handleRemoveMetaKeyword(i)}}},[t._v("\n                  "+t._s(e)+"\n                ")])}),1)],1)],1)],1),t._v(" "),a("div",{staticClass:"row"},[a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:t.lang.meta_description}},[a("p",[t._v(t._s(t.lang.info_meta_description))])])],1),t._v(" "),a("el-col",{attrs:{span:15}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"-"},model:{value:t.data.product.meta_description,callback:function(e){t.$set(t.data.product,"meta_description",e)},expression:"data.product.meta_description"}})],1)],1)],1)]):t._e()])],1)]),t._v(" "),a("div",{staticClass:"save-bottom"},[t.$route.params.copy?a("div",{staticClass:"box-bodys"},[a("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.handleSave}},[t._v(t._s(t.lang.save))])],1):a("div",{staticClass:"box-bodys"},[a("p",[t._v(t._s(t.$lang[t.langId].save_at))]),t._v(" "),a("el-select",{attrs:{multiple:"","collapse-tags":""},on:{change:t.handleSelectAll},model:{value:t.storeToBeSaved,callback:function(e){t.storeToBeSaved=e},expression:"storeToBeSaved"}},t._l(t.outlets,function(t){return a("el-option",{key:t.store_id,attrs:{label:t.name,value:t.store_id}})}),1),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.loading,disabled:t.disableSave},on:{click:t.handleSave}},[t._v(t._s(t.lang.save))])],1)]),t._v(" "),a("dialog-save-all-store",{attrs:{"show-dialog":t.showDialogSaveAllStore},on:{close:function(e){t.showDialogSaveAllStore=!1},save:t.handleSaveData}})],1)},o=[]},sRzc:function(t,e,a){"use strict";a.r(e);var i=a("kbJm"),o=a("boaX");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var s=a("KHd+"),r=Object(s.a)(o.default,i.a,i.b,!1,null,null,null);r.options.__file="dialogSaveAllStore.vue",e.default=r.exports},ujbe:function(t,e,a){"use strict";a.r(e);var i=a("yo4I"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},yo4I:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a("/f1G")),o=l(a("GQeE")),n=l(a("QbLZ")),s=l(a("Ckak")),r=l(a("DChC"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={props:["productSku","variantData","productData","productNew"],mixins:[r.default],components:{InputMoney:s.default},data:function(){return{modalVarian:!1,labelLength:0,data:{labels:[],names:[]},dataCompleted:!1,tableData:[],variants:[],maxLength:0,firstArray:[],newVariantName:"",fields:[{label:"",name:"",names:[],control:{showAddName:!1,confirmed:!1}}],disabledQty:!1,track_inventory:!1,storeToBeSaved:[],outlets:[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}]}},mounted:function(){var t=this,e=this.$store.state.userStores.stores;e&&e.map(function(e){t.outlets.push((0,n.default)({},e))});var a=this.$store.getters.selectedStore;a&&(a.constructor===Array?this.storeToBeSaved="all":this.storeToBeSaved[0]=a.store_id)},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}},disableBtnConfirm:function(){var t=!1;return this.fields.filter(function(t){return""!==t.label}).length!==this.fields.length&&(t=!0),t}},watch:{productData:{handler:function(t){this.productNew||(0===t.track_inventory?this.disabledQty=!1:this.disabledQty=!0)},deep:!0,immediate:!0},variantData:{handler:function(t){t&&this.loadLabels()},deep:!0,immediate:!0}},methods:{refreshTable:function(){var t=this;this.data.labels=[],this.data.names=[],this.fields.map(function(e){t.data.labels.push(e.label),t.data.names.push(e.names)});var e=[];if(this.data.names[0].length>=1)this.printCombinations(this.data.names).forEach(function(a,i){var o="",n="",s="",r="",l="",c="",d="";t.productData&&(n=t.productData.sku?t.productData.sku+"-"+i:"",t.productData.buy_price&&(s=t.productData.buy_price),t.productData.market_price&&(r=t.productData.market_price),t.productData.sell_price&&(l=t.productData.sell_price),t.productData.sell_price_pos&&(c=t.productData.sell_price_pos),t.productData.stock_qty&&(d=t.productData.stock_qty)),t.tableData.length>0&&t.tableData.map(function(t,e){if(i!==e)return!1;o=t.unit,n=t.sku,s=t.buy_price,r=t.market_price,l=t.sell_price,c=t.sell_price_pos,d=t.stock_qty});var u={name:a,unit:o,sku:n,buy_price:s,market_price:r,sell_price:l,sell_price_pos:c,stock_qty:d};e.push(u)});else if(1===this.data.names.length&&0!==this.data.names.length){this.data.names[0].forEach(function(a,i){var o="",n="",s="";t.productData&&(t.productData.sku&&(o=t.productData.sku+"-"+i),t.productData.sell_price&&(n=t.productData.sell_price),t.productData.sell_price_pos&&(s=t.productData.sell_price_pos));var r={name:a,unit:"",sku:o,sell_price:n,sell_price_pos:s};e.push(r)})}this.tableData=e,this.dataCompleted=!0},loadLabels:function(){var t=this;this.fields.shift();var e=(0,o.default)(this.variantData.variant_label),a=(0,i.default)(this.variantData.variant_label);e.map(function(e,o){t.fields.push({label:e,name:"",names:(0,i.default)(a[o]),control:{showAddName:!1,confirmed:!1}})});var n=this.variantData.data;this.tableData=n,this.dataCompleted=!0},handleAddVariant:function(){this.fields.push({label:"",name:"",names:[],control:{showAddName:!1,confirmed:!1}}),this.dataCompleted=!1},handleInputVariantName:function(t){var e=this.newVariantName;""!==e&&this.fields[t].names.push(e),""!==e&&this.variants.push(e),""!==e&&this.refreshTable(),this.newVariantName="",this.fields[t].control.showAddName=!1},handleInputVariantNameVisible:function(t){this.fields[t].control.showAddName=!0},handleRemoveVariantName:function(t,e){this.fields[e].names.splice(this.fields[e].names.indexOf(t),1),this.refreshTable()},handleDeleteVariant:function(t){this.tableData.splice(t,1)},handleDeleteField:function(t){this.fields.splice(t,1),this.refreshTable()},printCombinations:function(t){return function t(e){if(1===e.length)return e[0];for(var a=[],i=t(e.slice(1)),o=0;o<i.length;o++)for(var n=0;n<e[0].length;n++)a.push(e[0][n]+","+i[o]);return a}(t)},changeTrackInventory:function(t){this.disabledQty=!!t},confirmData:function(){if(this.disableBtnConfirm)this.$notify({type:"warning",title:this.lang.variant_type,message:this.$lang[this.langId].tipe_variant_cant_empty});else{this.modalVarian=!1;var t=this.selectedStore.store_id,e=0;this.storeToBeSaved.length&&0===this.storeToBeSaved[0]?e=1:this.storeToBeSaved.length&&(t=this.storeToBeSaved.join(",")),this.tableData.map(function(a){a.to_store_id=t,a.to_allstore_id=e}),this.$emit("saved",this.tableData,this.data.labels,this.track_inventory)}},handleCheckVariant:function(){this.disableBtnConfirm&&(this.$notify({type:"warning",title:this.lang.variant_type,message:this.$lang[this.langId].tipe_variant_cant_empty}),this.modalVarian=!0)},handleSelectAll:function(t){var e=this;t.length&&t.map(function(t){0===t&&(e.storeToBeSaved=[0])})}}}}}]);