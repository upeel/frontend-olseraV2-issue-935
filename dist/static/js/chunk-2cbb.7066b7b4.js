(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2cbb"],{"/kJJ":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a("F4NW")),n=s(a("t2rG"));function s(t){return t&&t.__esModule?t:{default:t}}e.default={components:{ListMenu:i.default,draggable:n.default},props:{item:{type:Object,default:null},visibleItem:{type:Boolean,default:!1}},computed:{langId:function(){return this.$store.state.userStores.langId}},methods:{sortsChanged:function(){this.$emit("changeitem",this.item.menus)}}}},"0CKs":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a("14Xm")),n=l(a("D3Ub")),s=l(a("QbLZ")),o=l(a("DChC")),r=l(a("XFEm")),d=a("M9O1");function l(t){return t&&t.__esModule?t:{default:t}}var c=a("wd/R");e.default={components:{CloseEsc:r.default},mixins:[o.default],props:{show:{type:Boolean,default:!1},formEdit:{type:Object,default:null},createSection:{type:Boolean,default:!1},dataGrabFoodId:{type:Number,default:null}},data:function(){return{formData:{},timePickerOptions:{start:"00:00",step:"00:15",end:"23:59"},hasDelete:!1}},watch:{formEdit:function(t){var e=this;this.createSection?this.createSection&&(this.formData={day_id:t.day_id,times:[]},t&&t.day_ids&&t.day_ids.length&&t.day_ids.map(function(t){e.formData.times.push((0,s.default)({},t))})):(this.formData={day_id:t.day_id,id:t.id,period_type:t.period_type,day:t.day,times:[]},t&&t.times&&t.times.length&&t.times.map(function(t){t.start_time=t.fstart_time,t.end_time=t.fend_time,e.formData.times.push((0,s.default)({},t))})),console.log(this.formData)}},methods:{handleAddPeriode:function(){if("dev"!==this.stageLevel&&"sit"!==this.stageLevel)if(this.formData.times.length){var t=this.formData.times[this.formData.times.length-1].end_time;this.formData.times.push({start_time:c(t,"HH:mm").add(0,"minutes").format("HH:mm"),end_time:""})}else this.formData.times.push({start_time:"08:00",end_time:""});else if(this.formData.times.length){var e=[c(this.formData.times[this.formData.times.length-1].timer[1]).add(15,"minutes"),c(this.formData.times[this.formData.times.length-1].timer[1]).add(30,"minutes")];this.formData.times.push({timer:e})}},getMinTime:function(t){if("dev"!==this.stageLevel&&"sit"!==this.stageLevel){if(!t)return null;var e=this.formData.times[t-1].end_time;if(e)return c(e,"HH:mm").subtract(15,"minutes").format("HH:mm")}else{if(0===t)return{start:"00:00:00 - 23:59:00",end:c(this.formData.times[t].timer[0]).add(1,"minutes").format("HH:mm:ss")+" - 23:59:00"};if(t>0)return{start:c(this.formData.times[t-1].timer[1]).add(1,"minutes").format("HH:mm:ss")+" - 23:59:00",end:c(this.formData.times[t].timer[0]).add(1,"minutes").format("HH:mm:ss")+" - 23:59:00"}}},handleRemoveDayId:function(t,e){var a=this;e?this.$confirm("This will permanently delete the data. Continue?","",{confirmButtonText:this.rootLang.delete,cancelButtonText:this.lang.cancel,showClose:!1,type:""}).then(function(){if(a.createSection)a.hasDelete=!0,a.formData.times.splice(t,1);else{var s={id:e,store_grabfood_id:a.dataGrabFoodId};(0,d.deletePeriod)(s).then(function(){var e=(0,n.default)(i.default.mark(function e(n){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.hasDelete=!0,a.formData.times.splice(t,1);case 2:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()).catch(function(t){a.$message({type:"error",message:t.string})})}}).catch(function(t){console.log(t)}):this.formData.times.splice(t,1)},handleSaveEditItem:function(){this.createSection&&(this.formData.day_ids=this.formData.times,this.$delete(this.formData,"times"),this.$delete(this.formData,"id")),"dev"!==this.stageLevel&&"sit"!==this.stageLevel||this.formData.times.length&&this.formData.times.map(function(t){t.start_time=c(t.timer[0]).format("HH:mm"),t.end_time=c(t.timer[1]).format("HH:mm")}),this.$emit("save",this.formData),this.hasDelete=!1},handleChangeTime:function(t,e){"dev"!==this.stageLevel&&"sit"!==this.stageLevel?this.formData.times.length>e+1&&(this.formData.times[e+1].start_time=c(t.end_time,"HH:mm").add(15,"minutes").format("HH:mm")):(this.formData.times.length>e+1&&c(this.formData.times[e+1].timer[0]).isBefore(c(t.timer[1]).add(1,"minutes"))&&(this.formData.times[e+1].timer[0]=c(t.timer[1]).add(15,"minutes")),this.$forceUpdate())}}}},"36Ic":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar offscreen-right-sidebar--zindexplus"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[t._v("\n        Ubah Periode\n        "),t.hasDelete?t._e():a("close-esc",{attrs:{hideEsc:!0},on:{close:function(e){return t.$emit("cancel")}}})],1),t._v(" "),a("div",{staticClass:"font-18 font-semi-bold mb-16"},[t._v("\n        "+t._s(t.rootLang["label_day_"+t.formData.day_id])+"\n      ")]),t._v(" "),t.formData.times.length?t._e():a("div",{staticClass:"color-grey--soft--bg flex-container radius-10 mb-24 p-8"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",{staticClass:"p-8 font-14"},[t._v("\n          Section ini tidak aktif\n        ")])]),t._v(" "),a("el-form",{attrs:{model:t.formData,"label-position":"top"}},[t._l(t.formData.times,function(e,i){return a("div",{key:i,staticClass:"flex-container mb-16"},["dev"===t.stageLevel||"sit"===t.stageLevel?[a("el-form-item",{staticClass:"m-null full-width",attrs:{label:t.lang.start_time}},[a("el-time-picker",{attrs:{"picker-options":{format:"HH:mm",selectableRange:t.getMinTime(i).start}},model:{value:e.timer[0],callback:function(a){t.$set(e.timer,0,a)},expression:"item.timer[0]"}})],1),t._v(" "),a("el-form-item",{staticClass:"m-null full-width",attrs:{label:t.lang.end_time}},[a("el-time-picker",{attrs:{"picker-options":{format:"HH:mm",selectableRange:t.getMinTime(i).end}},on:{change:function(a){return t.handleChangeTime(e,i)}},model:{value:e.timer[1],callback:function(a){t.$set(e.timer,1,a)},expression:"item.timer[1]"}})],1)]:[a("el-form-item",{staticClass:"m-null",attrs:{label:t.lang.start_time}},[a("el-time-select",{staticClass:"mr-8",attrs:{"picker-options":Object.assign({},t.timePickerOptions,{minTime:t.getMinTime(i)}),clearable:!1},model:{value:e.start_time,callback:function(a){t.$set(e,"start_time",a)},expression:"item.start_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"m-null",staticStyle:{},attrs:{label:t.lang.end_time}},[a("el-time-select",{staticClass:"mr-8",attrs:{"picker-options":Object.assign({},t.timePickerOptions,{minTime:e.start_time}),clearable:!1},on:{change:function(a){return t.handleChangeTime(e,i)}},model:{value:e.end_time,callback:function(a){t.$set(e,"end_time",a)},expression:"item.end_time"}})],1)],t._v(" "),a("el-form-item",{staticClass:"m-null"},[a("el-button",{staticClass:"color-info p-null",attrs:{type:"text"},on:{click:function(a){return t.handleRemoveDayId(i,e.time_id)}}},[a("svg-icon",{attrs:{"icon-class":"x"}})],1)],1)],2)}),t._v(" "),a("el-form-item",[t.formData.times.length<3?a("el-button",{staticClass:"btn-block",attrs:{type:"info"},on:{click:t.handleAddPeriode}},[t._v("\n            Add Period\n          ")]):t._e()],1)],2),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer"},[a("el-button",{staticClass:"btn-block",attrs:{type:"primary"},on:{click:t.handleSaveEditItem}},[t._v("\n          "+t._s(t.lang.save)+"\n        ")])],1)],1)]):t._e()])},n=[]},"5GBG":function(t,e,a){"use strict";a.r(e);var i=a("A6Du"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},A6Du:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(a("14Xm")),n=d(a("QbLZ")),s=d(a("D3Ub")),o=d(a("DChC")),r=d(a("vaeH"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={name:"dialogAddSection",mixins:[o.default],components:{OffscreenEditSectionPeriode:r.default},props:{show:{type:Boolean,default:!1},formData:{type:Object,default:null},dataPeriods:{type:Array,default:[]}},data:function(){return{visibleOffscreenEditSectionPeriode:!1,formSection:{name:"",selected_days:[0,1,2,3,4,5,6],days:[]},loadingSaveItem:!1,formEditSectionPeriode:{},tempData:[]}},mounted:function(){this.refreshData()},watch:{show:function(t){var e=this;if(t){var a=[];this.dataPeriods.map(function(t){1===t.period_type&&a.push(t)}),a.length&&a.map(function(t){t.times.length&&t.times.map(function(t){e.tempData.push(t)})})}}},computed:{disableSave:function(){return!this.tempData.length||!this.formSection.name},dataPer:function(){var t=this;console.log("dat",e);var e=[];return this.dataPeriods.map(function(t){1===t.period_type&&e.push(t)}),e.map(function(e){null!==e.times&&e.times.length&&e.times.map(function(e){e.checked=!1,t.tempData.length&&t.tempData.map(function(t){e.time_id===t.time_id&&(e.checked=!0)})})}),e}},methods:{handleEditItem:function(t){var e=this;return(0,s.default)(i.default.mark(function a(){var s;return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(s=[],!e.formSection.days||!e.formSection.days.length){a.next=5;break}return a.next=4,e.formSection.days.filter(function(e){return e.day_id===t});case 4:s=a.sent;case 5:if(!s.length){a.next=11;break}return a.next=8,(0,n.default)({},s[0]);case 8:e.formEditSectionPeriode=a.sent,a.next=12;break;case 11:e.formEditSectionPeriode={day_id:t,id:null};case 12:e.visibleOffscreenEditSectionPeriode=!0;case 13:case"end":return a.stop()}},a,e)}))()},getLabelDayTime:function(t){var e=this.formSection.days[t];if(e&&e.day_ids&&e.day_ids.length){var a=this.formSection.days[t].day_ids;return a.length>1?a[0].start_time+" ... "+a[a.length-1].end_time:a[0].start_time+" - "+a[0].end_time}if(e&&e.day_ids&&0===e.day_ids.length)return 0},handleSavePeriod:function(t){console.log("trace",t),this.formSection.days=this.formSection.days.map(function(e){return e.day_id===t.day_id&&(e=t),e}),this.visibleOffscreenEditSectionPeriode=!1},handleSaveItem:function(){var t=[];this.tempData.length&&this.tempData.map(function(e){t.push(e.time_id)});var e={name:this.formSection.name,periods:t};this.$emit("save",e)},handleCancel:function(){this.refreshData(),this.$emit("close")},refreshData:function(){this.formSection={name:"",selected_days:[0,1,2,3,4,5,6],days:[]};for(var t=0;t<=6;t++)this.formSection.days.push({day_id:t+1,day_ids:[{start_time:"08:00",end_time:"20:00"}]})},handleCheckedPeriod:function(t){var e=this;this.tempData.some(function(e){return e.time_id===t.time_id})?this.tempData.map(function(a,i){a.time_id===t.time_id&&e.tempData.splice(i,1)}):this.tempData.push(t),this.$forceUpdate()}}}},F4NW:function(t,e,a){"use strict";a.r(e);var i=a("W9NB"),n=a("fptr");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="ListMenu.vue",e.default=r.exports},Klyo:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,n=k(a("m1cH")),s=k(a("14Xm")),o=k(a("D3Ub")),r=k(a("QbLZ")),d=k(a("YEIV")),l=a("xMja"),c=k(a("DChC")),f=k(a("vaeH")),u=k(a("Ew99")),m=k(a("eIYj")),v=k(a("otp5")),g=k(a("QLFV")),h=k(a("j4qc")),p=k(a("uj0H")),_=a("M9O1"),b=k(a("XFEm")),y=k(a("t2rG")),S=k(a("1aUG")),D=k(a("v8O+")),C=k(a("+5/E")),w=k(a("wd/R"));function k(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[c.default],components:(i={OffscreenEditSectionPeriode:f.default,OffscreenEditSectionMenu:u.default,OffscreenEditAddon:m.default,draggable:y.default,List:S.default,SelectProductCategory:v.default,SelectProductGrabfood:g.default,DialogAddSection:h.default},(0,d.default)(i,"OffscreenEditAddon",m.default),(0,d.default)(i,"DialogListAddon",p.default),(0,d.default)(i,"CloseEsc",b.default),(0,d.default)(i,"ListCategory",D.default),(0,d.default)(i,"FloatingDiv",C.default),i),props:{show:{type:Boolean,default:!1},data:{type:Array,default:null},selectedSection:{type:Object,default:null},grabfoodData:{type:Object,default:null},dataPeriods:{type:Array,default:[]}},data:function(){return{formData:{},visibleDropdownJamOperasional:!0,selectedDays:[],visibleOffscreenEditSectionPeriode:!1,formEditSectionPeriode:{},visibleOffscreenEditSectionMenu:!1,formEditSectionMenu:{product_data:{}},visibleDialogAddItem:!1,formItem:{category:"",products:[],command:""},loadingSaveItem:!1,visibleDialogAddSection:!1,formSection:{selected_days:[],name:""},visibleOffscreenEditAddon:!1,visibleDialogListAddon:!1,tempCategory:{},loadingCategory:!1,additonalParamsSearchProduct:[],visibleDialogEditName:!1,loadingSaveName:!1,tempSection:{},visibleSorting:!1,visibleItem:!0,showSaveSort:!1,loadingSort:!1,tempSortItem:[],tempData:[],showDialogDay:!1,loading:!1}},watch:{selectedSection:function(t){var e=this;t&&(this.formData?this.data.map(function(t){t.id===e.formData.id&&e.handleEditMenuItem(t)}):this.handleEditMenuItem(t))},data:function(t){var e=this;console.log("data",t),t&&(this.formData?t.map(function(t){t.id===e.formData.id&&e.handleEditMenuItem(t)}):this.handleEditMenuItem(t))},show:function(t){t&&(this.formData=(0,r.default)({},this.selectedSection),this.getCheckedPeriod())}},computed:{disableAdd:function(){var t=!0;return this.formData.categories&&this.formData.categories.length&&(t=!1),{item:t}},dataPer:function(){var t=this;console.log("dat",e);var e=[];return this.dataPeriods.map(function(t){1===t.period_type&&e.push(t)}),e.map(function(e){null!==e.times&&e.times.length&&(e.active=!1,e.times.map(function(a){a.checked=!1,t.tempData.length&&t.tempData.map(function(t){a.time_id===t.time_id&&(a.checked=!0,e.active=!0),console.log("temp",a.time_id),console.log("temp",a.checked)})}))}),console.log("datttt",e),e}},methods:{handleEditMenuItem:function(t){var e=this;this.selectedDays=[],this.formData=(0,r.default)({},t),this.formData.days_available&&this.formData.days_available.length&&this.formData.days_available.map(function(t){e.selectedDays.push(t.day_id)}),this.visibleOffscreenEditSectionPeriode=!1,this.visibleOffscreenEditSectionMenu=!1,this.visibleOffscreenEditAddon=!1,this.getCheckedPeriod()},handleDropdownSection:function(t){"delete"===t?this.$emit("destroy-section",this.formData.id):"edit"===t?this.formData.id?(this.tempSection=(0,r.default)({},this.formData),this.visibleDialogEditName=!0):this.$message({type:"error",message:this.rootLang.please_select_section}):"addon"===t?this.visibleDialogListAddon=!0:"sorting"===t?this.visibleSorting=!this.visibleSorting:"showgrup"===t&&(this.visibleItem=!this.visibleItem)},handleDropdownCategory:function(t){var e=this;console.log("trace",t),"item"===t.action?(this.formItem.command=t.action,this.formItem.category=t.data,this.visibleDialogAddItem=!0):"delete"===t.action&&(this.loadingCategory=!0,this.$confirm("This will permanently delete the data. Continue?","",{confirmButtonText:this.rootLang.delete+" & "+this.lang.update,cancelButtonText:this.lang.cancel,showClose:!1,type:""}).then(function(){var a={id:t.data.id,store_grabfood_id:e.grabfoodData.id};(0,_.destroyCategory)(a).then(function(){var t=(0,o.default)(s.default.mark(function t(a){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loadingCategory=!1,e.$emit("refresh");case 2:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){console.log("error",t),e.loadingCategory=!1,e.$message({type:"error",message:t.string})})}).catch(function(){e.loadingCategory=!1}))},handleEditItem:function(t){var e=this;return(0,o.default)(s.default.mark(function a(){var i;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=[],!e.formData.days_available||!e.formData.days_available.length){a.next=5;break}return a.next=4,e.formData.days_available.filter(function(e){return e.day_id===t});case 4:i=a.sent;case 5:if(!i.length){a.next=11;break}return a.next=8,(0,r.default)({},i[0]);case 8:e.formEditSectionPeriode=a.sent,a.next=12;break;case 11:e.formEditSectionPeriode={day_id:t,id:null};case 12:e.visibleOffscreenEditSectionPeriode=!0;case 13:case"end":return a.stop()}},a,e)}))()},getLabelDayTime:function(t){if(this.formData&&this.formData.days_available&&this.formData.days_available.length){var e=this.formData.days_available.filter(function(e){return e.day_id===t});if(e.length>=1){if(e[0].times.length>1)return e[0].times[0].fstart_time+" ... "+e[0].times[e[0].times.length-1].fend_time;if(1===e[0].times.length)return e[0].times[0].fstart_time+" - "+e[0].times[0].fend_time;if(0===e[0].times.length)return 0}}},handleEditMenuItemProduct:function(t,e,a){var i=this;return(0,o.default)(s.default.mark(function n(){return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:console.log("eaeaea",t,e,a),i.tempCategory=e,"Variant"===t.product_type?(console.log("1111111"),"dev"===i.stageLevel||"sit"===i.stageLevel?i.getSingleGrabMenu(t.id,t,a):i.getVariantProduct(t.detail.id,t,a)):"Product"===t.product_type&&(console.log("22222"),"dev"===i.stageLevel||"sit"===i.stageLevel?i.getSingleGrabMenu(t.id,t,a):i.getSingleProduct(t.detail.id,t,a));case 3:case"end":return n.stop()}},n,i)}))()},getSingleGrabMenu:function(t,e,a){var i=this;(0,_.fetchMenuGrab)(t).then(function(){var t=(0,o.default)(s.default.mark(function t(e){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.data.data),t.next=3,(0,r.default)({},e.data.data);case 3:i.formEditSectionMenu=t.sent,a?i.visibleOffscreenEditAddon=!0:i.visibleOffscreenEditSectionMenu=!0;case 5:case"end":return t.stop()}},t,i)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){i.$message({type:"error",message:t.string})})},getSingleProduct:function(t,e,a){var i=this;(0,l.fetchSingle)(t).then(function(){var t=(0,o.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,r.default)({},e,{product_data:n.data.data});case 2:i.formEditSectionMenu=t.sent,a?i.visibleOffscreenEditAddon=!0:i.visibleOffscreenEditSectionMenu=!0;case 4:case"end":return t.stop()}},t,i)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){i.$message({type:"error",message:t.string})})},getVariantProduct:function(t,e,a){var i=this;(0,l.fetchVariantSingle)(t).then(function(){var t=(0,o.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,r.default)({},e,{product_data:n.data.data});case 2:i.formEditSectionMenu=t.sent,a?i.visibleOffscreenEditAddon=!0:i.visibleOffscreenEditSectionMenu=!0;case 4:case"end":return t.stop()}},t,i)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){i.$message({type:"error",message:t.string})})},deleteOneMenu:function(t){var e=this;this.$confirm("This will permanently delete the data. Continue?","",{confirmButtonText:this.rootLang.delete+" & "+this.lang.update,cancelButtonText:this.lang.cancel,showClose:!1,type:""}).then(function(){var a={id:t,store_grabfood_id:e.grabfoodData.id};(0,_.destroyMenu)(a).then(function(t){e.$message({type:"success",message:t.data.data.message}),e.visibleOffscreenEditSectionMenu=!1,e.$emit("refresh")}).catch(function(t){e.$message({type:"error",message:t.string})})}).catch(function(){})},handleDropdownAdd:function(t){"addon"!==t?(this.formItem.command=t,this.visibleDialogAddItem=!0):this.visibleDialogListAddon=!0},handleSelectProduct:function(t){this.formItem.products&&this.formItem.products.length?this.formItem.products.filter(function(e){return t.id===e.id}).length||this.formItem.products.push(t):this.formItem.products.push(t)},handleSaveItem:function(){this.loadingSaveItem=!0;var t=[],e={};if("item"===this.formItem.command)this.formItem.products.map(function(e){t.push({product_type:"Product"===e.type?"P":"Variant"===e.type?"V":"P"===e.type?"P":"V"===e.type?"V":"C",product_id:e.id,is_available:1,alias_name:e.name,alias_price:e.alias_price?e.alias_price:e.sell_price_pos,description:e.description,is_percentage:0})}),e={store_grabfood_id:this.grabfoodData.id,group_id:this.formData.id,category:{is_alias:1,id:this.formItem.category.id,name:this.formItem.category.name},menu:t};else{var a={};this.formItem.category.id?(a={is_alias:this.formItem.category.is_alias,id:this.formItem.category.id},"1"===this.formItem.category.is_alias&&(a.name=this.formItem.category.name)):a={is_alias:1,name:this.formItem.category},e={store_grabfood_id:this.grabfoodData.id,group_id:this.formData.id,category:a}}"item"===this.formItem.command?this.saveMenuItem(e):this.saveMenuCategory(e)},saveMenuItem:function(t){var e=this;console.log("asdasdasdasdas",t),(0,_.saveMenuItem)(t).then(function(){var t=(0,o.default)(s.default.mark(function t(a){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loadingSaveItem=!1,e.visibleDialogAddItem=!1,e.formItem={category:"",products:[],command:""},e.$emit("refresh");case 4:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.loadingSaveItem=!1,e.$message({type:"error",message:t.string})})},saveMenuCategory:function(t){var e=this;(0,_.saveMenuCategory)(t).then(function(){var t=(0,o.default)(s.default.mark(function t(a){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loadingSaveItem=!1,e.visibleDialogAddItem=!1,e.formItem={category:"",products:[],command:""},e.$emit("refresh",e.formData);case 4:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.loadingSaveItem=!1,e.$message({type:"error",message:t.string})})},removeItem:function(t){this.formItem.products.splice(t,1)},handleCancel:function(){this.visibleDialogAddItem=!1,this.formItem={category:"",products:[],command:""}},handleSavePeriod:function(t){var e=this;return(0,o.default)(s.default.mark(function a(){var i;return s.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return i={},i={store_grabfood_id:e.grabfoodData.id,group_id:e.formData.id,periods:t},a.next=4,(0,_.updateTimeSection)(i).then(function(){var t=(0,o.default)(s.default.mark(function t(a){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.visibleOffscreenEditSectionPeriode=!1,e.showDialogDay=!1,e.$emit("refresh");case 3:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.$message({type:"error",message:t.string})});case 4:case"end":return a.stop()}},a,e)}))()},updateMenu:function(t){var e=this;console.log(t),this.loadingSection=!0,"Product"===t.product_type?t.product_type="P":"Variant"===t.product_type?t.product_type="V":"Product Combo"===t.product_type&&(t.product_type="C"),t.group_id||(t.group_id=t.group_menu.id),"dev"===this.stageLevel&&(t.is_percentage=t.is_percentage,0===t.is_percentage?(t.amount=t.commission_amount,this.$delete("percentage",t)):1===t.is_percentage&&(t.percentage=t.commission_amount,this.$delete("amount",t))),t.category.is_alias=1;var a={store_grabfood_id:this.grabfoodData.id,menu:[t]};(0,_.updateMenuBatch)(a).then(function(t){e.visibleOffscreenEditSectionMenu=!1,e.visibleOffscreenEditAddon=!1,e.$emit("refresh"),e.tempCategory={}}).catch(function(t){e.$message({type:"error",message:t.string})})},saveSection:function(t){var e=this;console.log("asdasdadasd",t),t.store_grabfood_id=this.grabfoodData.id,(0,_.createSection)(t).then(function(){var t=(0,o.default)(s.default.mark(function t(a){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loadingSaveItem=!1,e.visibleDialogAddSection=!1,e.formItem={category:"",products:[],command:""},e.$emit("refresh");case 4:case"end":return t.stop()}},t,e)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){e.loadingSaveItem=!1,e.$message({type:"error",message:t.string})})},cancelAddSection:function(){this.visibleDialogAddSection=!1},updateAddon:function(t){var e=this;this.$emit("refresh"),t.map(function(t){t.id===e.formData.id&&(e.formData=(0,r.default)({},t))}),this.formData.categories.map(function(t){t.id===e.tempCategory.id&&t.menus.map(function(t){t.id===e.formEditSectionMenu.id&&(e.formEditSectionMenu.addon_group=[].concat((0,n.default)(t.addon_group)))})})},availableAddon:function(t){var e=[];return t.addon_group.length&&t.addon_group.map(function(t){1===t.available_for_menu&&e.push(t.id)}),e.length>0},handleCloseAddon:function(){this.visibleDialogListAddon=!1,this.$emit("refresh"),this.visibleOffscreenEditSectionMenu&&(this.visibleOffscreenEditSectionMenu=!1,this.visibleOffscreenEditAddon=!1)},computedInfoAddon:function(t){return 0===t.is_needed_items?1===t.is_available?"addon-flag":"addon-flag addon-flag--disable":1===t.is_available?"addon-flag addon-flag--info":"addon-flag addon-flag--info addon-flag--disable"},handleSaveNameSection:function(){var t=this;this.loadingSaveName=!0;var e={store_grabfood_id:this.grabfoodData.id,id:this.tempSection.id,name:this.tempSection.name};(0,_.updateMenuGroup)(e).then(function(){var e=(0,o.default)(s.default.mark(function e(a){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.loadingSaveName=!1,t.visibleDialogEditName=!1,t.tempSection={},t.$emit("refresh");case 4:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.loadingSaveName=!1,t.$message({type:"error",message:e.string})})},sortItem:function(t){this.tempSortItem=[].concat((0,n.default)(t)),this.showSaveSort=!0},handleSaveSort:function(){this.visibleItem?this.saveSortsMenu():this.saveSortsCategory()},saveSortsCategory:function(){var t=this;this.loadingSort=!0;var e=this.formData.categories.slice(0),a={sorted_ids:e=e.map(function(t){return{id:t.id}})};(0,_.sortCategory)(a).then(function(e){console.log("sort",e.data.data),t.showSaveSort=!1,t.$message({type:"success",message:"Success"}),t.loadingSort=!1,t.$emit("refresh")}).catch(function(e){t.loadingSort=!1,t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},saveSortsMenu:function(){var t=this;this.loadingSort=!0;var e=this.tempSortItem.slice(0),a={sorted_ids:e=e.map(function(t){return{id:t.id}})};(0,_.sortMenu)(a).then(function(e){t.showSaveSort=!1,t.$message({type:"success",message:"Success"}),t.loadingSort=!1,t.$emit("refresh")}).catch(function(e){t.loadingSort=!1,t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},handleClose:function(){this.visibleSorting=!1,this.visibleItem=!0,this.$emit("cancel")},getCheckedPeriod:function(){var t=[];this.tempData=[];var e=(0,w.default)().format("YYYY-MM-DD");this.formData.id&&null!==this.formData.days_available&&this.formData.days_available.length&&this.formData.days_available.map(function(a){null!==a.times&&a.times.length&&a.times.map(function(a){t.push({checked:!0,start_time:(0,w.default)(e+" "+a.start_time).format("HH:mm"),end_time:(0,w.default)(e+" "+a.end_time).format("HH:mm"),time_id:a.id})})}),t.length&&(this.tempData=t.filter(function(t,e,a){return a.findIndex(function(e){return e.time_id===t.time_id})===e}))},handleCheckedPeriod:function(t){var e=this;this.tempData.some(function(e){return e.time_id===t.time_id})?this.tempData.map(function(a,i){a.time_id===t.time_id&&e.tempData.splice(i,1)}):this.tempData.push(t)},handleOpenPeriod:function(){this.getCheckedPeriod(),this.showDialogDay=!0},handleCancelDay:function(){this.getCheckedPeriod(),this.showDialogDay=!1},handleSavePeriodEdit:function(){var t=[];this.tempData.map(function(e){t.push(e.time_id)}),this.handleSavePeriod(t)},getLabelDayTimeNew:function(t){if(!(t.active&&null!==t.times&&t.times.length>=1))return 0;if(console.log("kl",t.fday),t.times.length>1){var e=t.times.filter(function(t){if(t.checked)return t});if(e.length>1)return e[0].fstart_time+'<span class="color-primary"> ••• </span>'+e[e.length-1].fend_time;if(1===e.length)return e[0].fstart_time+" - "+e[0].fend_time}else{if(1===t.times.length)return t.times[0].fstart_time+" - "+t.times[0].fend_time;if(0===t.times.length)return 0}}}}},L6NH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDayInteger=function(){var t=i().format("d");return parseInt(t)};var i=a("wd/R")},Mky8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=g(a("14Xm")),n=g(a("D3Ub")),s=g(a("QbLZ")),o=g(a("m1cH")),r=g(a("DChC")),d=a("L6NH"),l=a("M9O1"),c=g(a("SKVs")),f=g(a("+5/E")),u=g(a("XFEm")),m=g(a("eIYj")),v=g(a("uj0H"));function g(t){return t&&t.__esModule?t:{default:t}}e.default={components:{DialogEditSection:c.default,FloatingDiv:f.default,CloseEsc:u.default,OffscreenEditAddon:m.default,DialogListAddon:v.default},mixins:[r.default],data:function(){return{loading:!1,data:[],editData:[],selectedSection:{},selectedDay:(0,d.getDayInteger)(),selectedTime:null,visibleDialogEditSection:!1,loadingSection:!1,grabfoodData:{},loadingUpdate:!1,dataLogs:[],visibleLogs:!1,loadingLogs:!1,moreLink:!1,dataLogForView:[],coba:!0,visibleOffscreenEditAddon:!1,formEditSectionMenu:{},visibleDialogListAddon:!1,formData:{},dataPeriods:[]}},computed:{optionSections:function(){return this.data},optionsTimeBySelectedDay:function(){var t=this,e=[];return this.selectedSection&&this.selectedSection.days&&this.selectedSection.days.map(function(a){a.day_id===t.selectedDay&&e.push.apply(e,(0,o.default)(a.times))}),e},listMenus:function(){var t=this,e=[];return this.selectedSection.menus&&this.selectedSection.menus.length&&(e=[].concat((0,o.default)(this.selectedSection.menus)),this.selectedTime&&(e=e.filter(function(e){return e.time_available.filter(function(e){return e.id===t.selectedTime}).length}))),e}},watch:{optionSections:function(t){var e=this;t.length?this.selectedSection.id?t.map(function(t){t.id===e.selectedSection.id&&(e.selectedSection=(0,s.default)({},t))}):this.selectedSection=(0,s.default)({},t[0]):this.selectedSection={}},selectedSection:function(t){this.selectedSection.days&&this.selectedSection.days.length&&(this.selectedDay=this.selectedSection.days[0].day_id)}},mounted:function(){this.getData(),this.handleGetGrabfoodStore(),this.getUpdateLogs(),this.getDataPeriod()},methods:{getData:function(){var t=this;this.loading=!0,(0,l.fetchAllGroupByStore)({per_page:50}).then(function(e){t.loading=!1}).catch(function(e){t.data=[],t.editData=[],t.$message({type:"error",message:e.string}),404===e.statusCode&&t.$router.push({path:"/service-activation-v2/"}),t.loading=!1})},getUpdateLogs:function(){var t=this;this.loading=!0,(0,l.getUpdateLogs)({per_page:15}).then(function(e){t.dataLogForView=e.data.data[0],t.dataLogs.push(e.data.data),null!==e.data.links.next?t.moreLink=!0:t.moreLink=!1,t.current_page=e.data.meta.current_page,t.loading=!1}).catch(function(e){t.dataLog=[],404!==e.statusCode&&t.$message({type:"error",message:e.string}),t.loading=!1})},loadMore:function(){var t=this;this.loadingLogs=!0,(0,l.getUpdateLogs)({per_page:15,page:this.current_page+1}).then(function(e){t.dataLogs.push(e.data.data),null!==e.data.links.next?t.moreLink=!0:t.moreLink=!1,t.current_page=e.data.meta.current_page,t.loadingLogs=!1}).catch(function(e){t.dataLog=[],t.$message({type:"error",message:e.string}),t.loadingLogs=!1})},handleGetGrabfoodStore:function(t){var e=this;this.loading=!0,(0,l.fetchByStore)().then(function(t){t.data.data.group_menu.length?(e.grabfoodData=(0,s.default)({},t.data.data),e.editData=[].concat((0,o.default)(e.grabfoodData.group_menu)),e.data=[].concat((0,o.default)(e.grabfoodData.group_menu)),e.data.map(function(t){t.categories.map(function(e){e.menus.map(function(a){a.category={is_alias:e.is_alias,id:e.id,name:e.name},a.group_id=t.id})})}),e.findInfoAddon()):e.$router.push("/service-activation-v2"),e.loading=!1}).catch(function(){e.grabfoodData={},e.loading=!1})},handleSelectedSectionChange:function(){this.selectedTime=null},handleDropdownSection:function(t){"edit"===t?this.visibleDialogEditSection=!0:"delete"===t?this.data.length>1?this.destroySection(this.selectedSection.id):this.$message({type:"error",message:"Tidak bisa hapus section, harus ada minimal 1 section"}):"addon"===t&&(this.visibleDialogListAddon=!0)},destroySection:function(t){var e=this;this.$confirm("This will permanently delete the data. Continue?","",{confirmButtonText:this.rootLang.delete+" & "+this.lang.update,cancelButtonText:this.lang.cancel,showClose:!1,type:""}).then(function(){var a={id:t,store_grabfood_id:e.grabfoodData.id};(0,l.destroyGroup)(a).then(function(t){e.$message({type:"success",message:t.data.data.message}),e.visibleDialogEditSection=!1,e.selectedSection={},e.refreshData()}).catch(function(t){e.$message({type:"error",message:t.string})})}).catch(function(){})},refreshData:function(){console.log("aaa"),this.handleGetGrabfoodStore(),this.getUpdateLogs(),this.visibleDialogListAddon=!1},beforeUpdateCategory:function(t,e,a,i){var n=this,s="";0===e.is_available?s="category"===t?"Group "+e.name+' akan "Tidak tersedia" di menu GrabFood':"Item "+e.alias_name+' akan "Tidak tersedia" di menu GrabFood':1===e.is_available&&(s="category"===t?"Group "+e.name+' akan "Tersedia" di menu GrabFood':"Item "+e.alias_name+' akan "Tersedia" di menu GrabFood'),this.$confirm(s,"Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:0===e.is_available?"warning":"success"}).then(function(){"category"===t?n.updateCategory(e,a):"menu"===t&&n.updateMenu(e,i)}).catch(function(){"category"===t?n.selectedSection.categories[a].is_available=1===e.is_available?0:1:"menu"===t&&(n.selectedSection.categories[a].menus[i].is_available=1===e.is_available?0:1)})},updateCategory:function(t,e){var a=this;this.loadingSection=!0;var i={store_grabfood_id:this.grabfoodData.id,category:{is_alias:1,is_available:t.is_available,name:t.name,id:t.id},category_id:t.id};(0,l.updateMenuCategory)(i).then(function(t){a.data=[].concat((0,o.default)(t.data.data.group_menu)),a.findInfoAddon(),a.data.map(function(t){a.selectedSection.id===t.id&&(a.selectedSection.categories[e]=t.categories[e])}),a.$message({type:"success",message:"Data berhasil diupdate"}),a.loadingSection=!1}).catch(function(i){a.selectedSection.categories[e].is_available=1===t.is_available?0:1,a.$message({type:"error",message:i.string}),a.loadingSection=!1})},updateMenu:function(t,e){var a=this;this.loadingSection=!0,"Product"===t.product_type?t.product_type="P":"Variant"===t.product_type?t.product_type="V":"Product Combo"===t.product_type&&(t.product_type="C");var i={store_grabfood_id:this.grabfoodData.id,menu:[t]};(0,l.updateMenuBatch)(i).then(function(t){a.refreshData(),a.findInfoAddon(),a.data.map(function(t){a.selectedSection.id===t.id&&(t.categories.map(function(e){e.menus.map(function(a){a.category={is_alias:e.is_alias,id:e.id},a.group_id=t.id})}),a.selectedSection=(0,s.default)({},t))}),a.$message({type:"success",message:"Data berhasil diupdate"}),a.loadingSection=!1}).catch(function(e){console.log("tr",t),a.selectedSection.categories.map(function(e){e.id===t.category.id&&e.menus.map(function(e){e.id===t.id&&(e.is_available=1===t.is_available?0:1)})}),a.$message({type:"error",message:e.string}),a.loadingSection=!1})},updateTograb:function(){var t=this,e={store_grabfood_id:this.grabfoodData.id};this.loadingUpdate=!0,(0,l.updateGrab)(e).then(function(e){console.log("trace",e),t.$message({type:"success",message:"Berhasil update data ke Grab"}),t.loadingUpdate=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingUpdate=!1})},handleCancel:function(){this.visibleDialogEditSection=!1,this.refreshData()},availableAddon:function(t){var e=[];return t.addon_group.length&&t.addon_group.map(function(t){1===t.available_for_menu&&e.push(t.id)}),e.length>0},infoMiscAddon:function(t){var e=[],a="";this.data.map(function(t){t.categories.length&&t.categories.map(function(a){a.menus.length&&a.menus.map(function(a){1===a.is_needed_items&&e.push({id:t.id,name:t.name})})})});var i=e.filter(function(t,e,a){return a.findIndex(function(e){return e.id===t.id})===e});if(1===i.length)a=i[0].name;else if(i.length>1){var n=[];i.map(function(t){n.push(t.name+",")}),n[i.length-1]="& "+i[i.length-1].name,n[i.length-2]=i[i.length-2].name,a=n.join(" ")}return{data:e,name:a}},findInfoAddon:function(){this.data.length&&this.data.map(function(t){t.categories.length&&t.categories.map(function(t){t.menus.length&&t.menus.map(function(t){t.is_needed_items=0,t.addon_group.length&&t.addon_group.map(function(e){0!==e.needed_items&&(t.is_needed_items=1)})})})})},editAddon:function(t){this.formEditSectionMenu=t,this.visibleOffscreenEditAddon=!0},updateAddon:function(t){var e=this;this.data=[].concat((0,o.default)(t)),this.findInfoAddon(),this.data.map(function(t){e.selectedSection.id===t.id&&(e.selectedSection=(0,s.default)({},t))}),this.selectedSection.categories.map(function(t){t.id===e.formEditSectionMenu.category.id&&t.menus.map(function(t){t.id===e.formEditSectionMenu.id&&(e.formEditSectionMenu.addon_group=[].concat((0,o.default)(t.addon_group)))})})},getTimeSection:function(t){var e=this.selectedSection.days_available,a=[];return e&&e.map(function(e){e.day_id===t&&(a=e.times)}),a},getDataPeriod:function(){var t=this;return(0,n.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,t.dataPeriods=[],e.next=4,(0,l.getGrabPeriodStore)({sort_column:"id",sort_type:"asc"}).then(function(e){t.loading=!1,t.dataPeriods=e.data.data}).catch(function(e){t.dataPeriods=[],t.$message({type:"error",message:e.string}),t.loading=!1});case 4:case"end":return e.stop()}},e,t)}))()}}}},Rm07:function(t,e,a){"use strict";a.r(e);var i=a("/kJJ"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},SKVs:function(t,e,a){"use strict";a.r(e);var i=a("le4O"),n=a("p/1M");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="dialogEditSection.vue",e.default=r.exports},W9NB:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"like-table-wrapper--item"},[a("div",{staticClass:"hand handle container-icon"},[a("svg-icon",{attrs:{"icon-class":"icon-sort"}})],1),t._v(" "),a("div",{staticClass:"mr-8"},[a("div",[a("el-avatar",{attrs:{src:t.item.detail.default_photo,size:40,shape:"square"}})],1)]),t._v(" "),a("div",{staticClass:"mr-8",staticStyle:{"flex-grow":"1"}},[a("div",{staticClass:"font-bold font-14"},[t._v("\n        "+t._s(t.item.alias_name?t.item.alias_name:t.item.detail.name)+"\n      ")]),t._v(" "),a("div",{staticClass:"color-info font-12"},[t.item.alias_price?a("span",[t._v("\n          "+t._s(t.item.falias_price)+"\n        ")]):a("span",[t._v("\n          "+t._s(t.item.detail.sell_price_pos)+"\n        ")])])])])},n=[]},dYEF:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container justify-center"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"innerpage-fullscreen--body text-left",staticStyle:{"margin-top":"unset"}},[a("div",{staticClass:"flex-container flex-container--content-space-between mb-16"},[a("div",{staticClass:"font-24 font-semi-bold"},[t._v("\n        Daftar Menu\n      ")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.visibleDialogEditSection=!0}}},[t._v("\n        Ubah Menu\n      ")])],1),t._v(" "),a("div",{staticClass:"box-shadow-2 border border--grey radius-2 p-8 mb-8"},[a("div",{staticClass:"flex-container flex-container--content-space-between"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"mr-8"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleDropdownSection}},[a("span",{staticClass:"el-dropdown-link font-20 color-info"},[a("svg-icon",{attrs:{"icon-class":"more-vertical"}})],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"edit"}},[t._v("\n                    Edit Section\n                  ")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"addon"}},[t._v("\n                    Lihat Daftar Addon\n                  ")]),t._v(" "),a("el-dropdown-item",{staticClass:"color-danger",attrs:{command:"delete"}},[t._v("\n                    Hapus Section\n                  ")])],1)],1)],1),t._v(" "),a("div",[a("div",{staticStyle:{width:"220px"}},[a("el-select",{staticClass:"border-null",staticStyle:{width:"100%"},attrs:{"value-key":"id",filterable:""},on:{change:t.handleSelectedSectionChange},model:{value:t.selectedSection,callback:function(e){t.selectedSection=e},expression:"selectedSection"}},t._l(t.optionSections,function(e){return a("el-option",{key:e.id,attrs:{value:e,label:e.name}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}),1)],1),t._v(" "),a("div",{staticClass:"font-12 color-info"},[t._v("\n                Menu di Grab saat ini\n              ")])])])]),t._v(" "),a("div",[a("el-select",{staticClass:"el-selectday",model:{value:t.selectedDay,callback:function(e){t.selectedDay=e},expression:"selectedDay"}},t._l(t.selectedSection.days_available,function(t){return a("el-option",{key:t.id,attrs:{value:t.day_id,label:t.day_name}})}),1)],1)])]),t._v(" "),a("div",{staticClass:"flex-container flex-container--content-space-between mb-12"},[a("div",{staticClass:"color-info font-12"},[a("svg-icon",{attrs:{"icon-class":"alert-circle"}}),t._v(" Menu sekarang ditampilkan berdasarkan "),a("strong",[t._v(t._s(t.selectedSection.name))])],1),t._v(" "),t.dataLogForView.length?a("div",{staticClass:"color-info font-12 pointer",on:{click:function(e){t.visibleLogs=!0}}},[a("svg-icon",{attrs:{"icon-class":"clock"}}),t._v(" Terakhir update ke GrabFood pada "),a("strong",[t._v(t._s(t.dataLogForView.faction_time)+" oleh "+t._s(t.dataLogForView.user_name))])],1):t._e()]),t._v(" "),a("div",{staticClass:"mb-16"},[a("div",{staticClass:"color-grey--soft--bg p-16 justify-center"},[t.getTimeSection(t.selectedDay).length?a("div",{staticClass:"flex-container"},t._l(t.getTimeSection(t.selectedDay),function(e){return a("div",{key:e.id,staticClass:"font-16 full-width text-center"},[t._v("\n            "+t._s(e.fstart_time)+" - "+t._s(e.fend_time)+"\n          ")])}),0):a("div",{staticClass:"text-center font-16"},[a("span",[t._v("Tidak Aktif")])])])]),t._v(" "),t.infoMiscAddon(t.data).data.length>0?a("div",{staticClass:"color-warning--soft--bg flex-container radius-10 mb-24 p-8"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-warning",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",{staticClass:"p-8 font-14"},[t._v("\n        Add-on untuk "),a("span",{staticClass:"font-bold"},[t._v(t._s(t.infoMiscAddon(t.data).name))]),t._v(' masih ada yang kurang nih. Coba cek add-on yang ditandai dengan tanda "!". Selama pesan ini muncul, update ke GrabFood tidak dapat dilakukan.\n      ')])]):t._e(),t._v(" "),t.selectedSection.categories&&t.selectedSection.categories.length?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSection,expression:"loadingSection"}]},t._l(t.selectedSection.categories,function(e,i){return a("div",{key:e.id},[a("div",{staticStyle:{"flex-grow":"1"}},[a("div",{staticClass:"flex-container mb-8 p-8"},[a("div",{staticClass:"font-bold font-24 full-width"},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),a("el-switch",{staticClass:"mr-8",attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return t.beforeUpdateCategory("category",e,i)}},model:{value:e.is_available,callback:function(a){t.$set(e,"is_available",a)},expression:"item.is_available"}})],1),t._v(" "),a("div",{staticClass:"like-table-wrapper mb-24"},t._l(e.menus,function(n,s){return a("div",{key:n.id,class:1===e.is_available&&1===n.is_available?"flex-container like-table-wrapper--item":"flex-container like-table-wrapper--item color-grey--bg img-grey"},[a("div",{staticClass:"full-width flex-container"},[a("div",{staticClass:"mr-8"},[a("div",[a("el-avatar",{attrs:{src:n.detail.default_photo,size:40,shape:"square"}})],1)]),t._v(" "),a("div",{staticStyle:{"flex-grow":"1"}},[a("div",{staticClass:"font-bold font-14"},[t._v("\n                    "+t._s(n.alias_name?n.alias_name:n.detail.name)+"\n                  ")]),t._v(" "),a("div",{staticClass:"color-info font-12"},[n.alias_price?a("span",[t._v("\n                      "+t._s(n.falias_price)+"\n                    ")]):a("span",[t._v("\n                      "+t._s(n.detail.sell_price_pos)+"\n                    ")])])])]),t._v(" "),a("div",{staticClass:"text-right mr-8",staticStyle:{width:"30%"}},[0===n.is_available?a("el-tag",{staticStyle:{"background-color":"transparent"},attrs:{type:"danger",effect:"plain",size:"mini"}},[t._v(t._s(t.rootLang.not_available))]):t._e()],1),t._v(" "),t.availableAddon(n)?a("div",{staticClass:"px-8"},[0===n.is_needed_items?a("div",{class:1===e.is_available&&n.is_available?"addon-flag pointer":"addon-flag addon-flag--disable pointer",on:{click:function(e){return t.editAddon(n)}}},[a("svg-icon",{attrs:{"icon-class":"icon-addon"}}),t._v(" "),a("span",{staticClass:"font-12 ml-4"},[t._v("Add-On")])],1):a("div",{class:1===e.is_available&&n.is_available?"addon-flag addon-flag--info pointer":"addon-flag addon-flag--disable pointer",on:{click:function(e){return t.editAddon(n)}}},[a("svg-icon",{attrs:{"icon-class":"icon-addon"}}),t._v(" "),a("span",{staticClass:"font-12 ml-4 mr-4"},[t._v("Add-On")]),t._v(" "),a("svg-icon",{attrs:{"icon-class":"information-circle"}})],1)]):t._e(),t._v(" "),a("div",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0,disabled:!e.is_available},on:{change:function(e){return t.beforeUpdateCategory("menu",n,i,s)}},model:{value:n.is_available,callback:function(e){t.$set(n,"is_available",e)},expression:"menu.is_available"}})],1)])}),0)])])}),0):a("div",{staticClass:"text-center color-info"},[t._v("\n      Belum ada menu yang ditambahkan\n    ")])]),t._v(" "),a("dialog-edit-section",{attrs:{show:t.visibleDialogEditSection,data:t.editData,"selected-section":t.selectedSection,"grabfood-data":t.grabfoodData,"data-periods":t.dataPeriods},on:{cancel:t.handleCancel,"destroy-section":t.destroySection,refresh:t.refreshData}}),t._v(" "),a("offscreen-edit-addon",{attrs:{show:t.visibleOffscreenEditAddon,"form-edit":t.formEditSectionMenu,grabfoodData:t.grabfoodData},on:{cancel:function(e){t.visibleOffscreenEditAddon=!1},save:t.updateAddon,showmaster:function(e){t.visibleDialogListAddon=!0}}}),t._v(" "),a("dialog-list-addon",{attrs:{show:t.visibleDialogListAddon,"form-data":t.formData,grabfoodData:t.grabfoodData},on:{close:t.refreshData}}),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[t.visibleLogs?a("div",{staticClass:"offscreen-right-sidebar"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[t._v("\n          History Update GrabFood\n          "),a("close-esc",{on:{close:function(e){t.visibleLogs=!1}}})],1),t._v(" "),a("div",{staticStyle:{height:"80%","max-height":"calc(90vh - 48px)",overflow:"auto"}},[t._l(t.dataLogs,function(e,i){return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingLogs,expression:"loadingLogs"}],key:i,staticClass:"like-table-wrapper"},[t._l(t.dataLogs[i],function(e){return a("div",{key:e.id,staticClass:"like-table-wrapper--item"},[[a("div",{staticClass:"font-bold full-width"},[t._v(t._s(e.user_name))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(e.faction_time))])]],2)}),t._v(" "),t.dataLogs.length>1?a("div",{staticClass:"text-center p-8"},[t._v("page "+t._s(i+1))]):t._e()],2)}),t._v(" "),t.moreLink?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingLogs,expression:"loadingLogs"}],staticClass:"load-more mt-24"},[a("el-button",{staticClass:"btn-block",attrs:{disabled:t.disabledButton},on:{click:t.loadMore}},[t._v("\n              "+t._s(t.$lang[t.langId].load_more)+"\n            ")])],1):t._e()],2)])]):t._e()]),t._v(" "),a("div",{staticClass:"floating_div text-left",staticStyle:{width:"100%","max-width":"793px"}},[a("floating-div",{attrs:{"on-grab":!0,loading:t.loadingUpdate},on:{confirm:t.updateTograb}})],1)],1)},n=[]},dv8b:function(t,e,a){"use strict";a.r(e);var i=a("0CKs"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},fptr:function(t,e,a){"use strict";a.r(e);var i=a("ojZ4"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},j4qc:function(t,e,a){"use strict";a.r(e);var i=a("o2/a"),n=a("5GBG");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="dialogAddSection.vue",e.default=r.exports},jPEe:function(t,e,a){"use strict";a.r(e);var i=a("dYEF"),n=a("z6TA");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="_menu.vue",e.default=r.exports},kk0b:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex-container mb-8 p-8"},[a("div",{staticClass:"font-bold font-24 flex-container",staticStyle:{width:"95%"}},[t.visibleItem?a("div",{staticClass:"container-icon"}):a("div",{staticClass:"hand handle container-icon"},[a("svg-icon",{attrs:{"icon-class":"icon-sort"}})],1),t._v(" "),a("div",{staticClass:"wrap-text wrap-text--width80"},[t._v(t._s(t.item.name))]),t._v(" "),a("div",[t._v("( "+t._s(t.item.menus.length)+" )")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleItem,expression:"visibleItem"}]},[a("draggable",{staticClass:"dd-list dragArea",attrs:{list:t.item.menus,options:{group:{name:"brand1",pull:!1}},handle:".hand"},on:{change:t.sortsChanged},model:{value:t.item.menus,callback:function(e){t.$set(t.item,"menus",e)},expression:"item.menus"}},[0===t.item.menus.length?a("div",{staticClass:"color-grey--bg mb-24",staticStyle:{height:"72px"}}):t._l(t.item.menus,function(t){return a("div",{key:t.id,staticClass:"dd-item like-table-wrapper"},[a("list-menu",{attrs:{item:t}})],1)})],2)],1)])},n=[]},le4O:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,"append-to-body":"",fullscreen:"","custom-class":"fixed-dialog"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"fixed-dialog--header",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"fixed-dialog--header--title"},[t._v("\n      Ubah Daftar Menu\n      ")]),t._v(" "),a("div",{staticClass:"fixed-dialog--header--buttons"},[a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1)]),t._v(" "),a("div",{staticClass:"mw-980"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{md:12}},[a("div",{staticClass:"border border--info box-shadow-2 mb-24"},[a("div",{staticClass:"flex-container flex-container--content-space-between p-16"},[a("div",{staticClass:"font-18 font-semi-bold"},[t._v("\n              Sections\n            ")]),t._v(" "),a("el-button",{staticClass:"font-18 color-info",attrs:{type:"text"},on:{click:function(e){t.visibleDialogAddSection=!0}}},[a("i",{staticClass:"el-icon-plus"})])],1),t._v(" "),a("div",{staticClass:"like-table-wrapper fix-height-320"},t._l(t.data,function(e,i){return a("div",{key:i,staticClass:"like-table-wrapper--item pointer",class:t.formData&&t.formData.id===e.id?"active":"",on:{click:function(a){return t.handleEditMenuItem(e)}}},[a("div",{staticClass:"font-semi-bold",staticStyle:{"flex-grow":"1"}},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),e.menus?a("div",{staticClass:"font-12 color-info"},[t._v("\n                "+t._s(e.menus.length)+" items\n              ")]):t._e()])}),0)]),t._v(" "),a("div",{staticClass:"border border--info box-shadow-2"},[a("div",{staticClass:"flex-container flex-container--content-space-between p-16"},[a("div",{staticClass:"font-18 font-semi-bold"},[t._v("\n              "+t._s(t.rootLang.valid_periode)+"\n            ")]),t._v(" "),a("el-button",{staticClass:"font-18 color-info",attrs:{type:"text"},on:{click:t.handleOpenPeriod}},[a("svg-icon",{staticClass:"color-primary",attrs:{"icon-class":"edit-2"}})],1)],1),t._v(" "),a("el-collapse-transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleDropdownJamOperasional,expression:"visibleDropdownJamOperasional"}]},[t._l(t.dataPer,function(e){return a("div",{key:e.day,staticClass:"like-table-wrapper--item",staticStyle:{height:"56px"},attrs:{label:e}},[a("div",{staticClass:"p-8"},[t._v(t._s(e.fday))]),t._v(" "),a("div",{staticClass:"full-width flex-container",staticStyle:{"justify-content":"flex-end"}},[0!==t.getLabelDayTimeNew(e)?a("span",{staticClass:"color-black",domProps:{innerHTML:t._s(t.getLabelDayTimeNew(e))}}):t._e(),t._v(" "),0===t.getLabelDayTimeNew(e)?a("span",{staticClass:"color-black"},[t._v("Tidak ada period")]):t._e()])])})],2)])],1)]),t._v(" "),a("el-col",{attrs:{md:12}},[a("div",{staticClass:"border border--info box-shadow-2"},[a("div",{staticClass:"flex-container p-16"},[a("div",{staticClass:"mr-8"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleDropdownSection}},[a("span",{staticClass:"el-dropdown-link font-18 color-info"},[a("svg-icon",{attrs:{"icon-class":"more-vertical"}})],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"edit"}},[t._v("\n                    "+t._s(t.lang.edit)+" Section\n                  ")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"addon"}},[t._v("\n                    "+t._s(t.rootLang.show_master_addon)+"\n                  ")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"sorting"}},[t._v("\n                    Ubah urutan\n                  ")]),t._v(" "),t.visibleItem?a("el-dropdown-item",{attrs:{command:"showgrup"}},[t._v("\n                    Lihat Grup Saja\n                  ")]):t._e(),t._v(" "),t.visibleItem?t._e():a("el-dropdown-item",{attrs:{command:"showgrup"}},[t._v("\n                    Lihat Semua Menu\n                  ")]),t._v(" "),a("el-dropdown-item",{staticClass:"color-danger",attrs:{command:"delete"}},[t._v("\n                    "+t._s(t.rootLang.delete)+" Section\n                  ")])],1)],1)],1),t._v(" "),a("div",{staticClass:"font-18 font-semi-bold mr-8",staticStyle:{"flex-grow":"1"}},[t._v("\n              "+t._s(t.formData.name)+"\n            ")]),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleDropdownAdd}},[a("el-button",{attrs:{type:"success"}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "+t._s(t.lang.add)+"\n              ")]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:"category"}},[t._v("\n                  Kategory\n                ")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"item",disabled:t.disableAdd.item}},[t._v("\n                  Item\n                ")]),t._v(" "),a("el-dropdown-item",{attrs:{command:"addon"}},[t._v("\n                  Addon\n                ")])],1)],1)],1),t._v(" "),t.visibleSorting?[a("draggable",{staticClass:"dd-list dragArea",staticStyle:{"margin-bottom":"100px"},attrs:{list:t.formData.categories,options:{group:{name:"brand"}},handle:".hand"},on:{change:function(e){t.showSaveSort=!0}},model:{value:t.formData.categories,callback:function(e){t.$set(t.formData,"categories",e)},expression:"formData.categories"}},t._l(t.formData.categories,function(e){return a("div",{key:e.id,staticClass:"dd-item"},[a("list-category",{attrs:{item:e,"visible-item":t.visibleItem},on:{changeitem:t.sortItem}})],1)}),0)]:[t.formData&&t.formData.categories&&t.formData.categories.length?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingCategory,expression:"loadingCategory"}]},t._l(t.formData.categories,function(e,i){return a("div",{key:i},[a("div",{staticClass:"flex-container mb-8 p-16"},[a("div",{staticClass:"font-bold font-24 flex-container",staticStyle:{width:"95%"}},[a("div",{staticClass:"wrap-text wrap-text--width80"},[t._v(t._s(e.name)+" ("+t._s(e.menus.length)+")")]),t._v(" "),a("div")]),t._v(" "),a("div",{staticClass:"text-right"},[a("el-dropdown",{attrs:{trigger:"click"},on:{command:t.handleDropdownCategory}},[a("span",{staticClass:"el-dropdown-link font-18 color-info"},[a("svg-icon",{attrs:{"icon-class":"more-vertical"}})],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{command:{action:"item",data:e},disabled:t.disableAdd.item}},[t._v("\n                          Item\n                        ")]),t._v(" "),a("el-dropdown-item",{staticClass:"color-danger",attrs:{command:{action:"delete",data:e}}},[t._v("\n                          Hapus Category\n                        ")])],1)],1)],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.visibleItem,expression:"visibleItem"}],staticClass:"like-table-wrapper"},t._l(e.menus,function(i){return a("div",{key:i.id,class:1===e.is_available&&1===i.is_available?"like-table-wrapper--item pointer":"flex-container like-table-wrapper--item pointer color-grey--bg img-grey",on:{click:function(a){return t.handleEditMenuItemProduct(i,e)}}},[a("div",{staticClass:"mr-8"},[a("div",[a("el-avatar",{attrs:{src:i.detail.default_photo,size:40,shape:"square"}})],1)]),t._v(" "),a("div",{staticClass:"mr-8",staticStyle:{"flex-grow":"1"}},[a("div",{staticClass:"font-bold font-14"},[t._v("\n                        "+t._s(i.alias_name?i.alias_name:i.detail.name)+"\n                      ")]),t._v(" "),a("div",{staticClass:"color-info font-12"},[i.alias_price?a("span",[t._v("\n                          "+t._s(i.falias_price)+"\n                        ")]):a("span",[t._v("\n                          "+t._s(i.detail.sell_price_pos)+"\n                        ")])])]),t._v(" "),a("div",{staticClass:"text-right mr-8",staticStyle:{width:"50%"}},[0===i.is_available?a("el-tag",{staticStyle:{"background-color":"transparent"},attrs:{type:"danger",effect:"plain",size:"mini"}},[t._v(t._s(t.rootLang.not_available))]):t._e()],1),t._v(" "),t.availableAddon(i)?a("div",{staticClass:"mr-12",on:{click:function(a){return t.handleEditMenuItemProduct(i,e,!0)}}},[a("div",{class:t.computedInfoAddon(i)},[a("svg-icon",{attrs:{"icon-class":"icon-addon"}}),t._v(" "),a("span",{staticClass:"font-12 ml-4"},[t._v("Add-On")])],1)]):t._e(),t._v(" "),a("el-button",{attrs:{type:"text"}},[a("svg-icon",{attrs:{"icon-class":"edit-2"}})],1)],1)}),0)])}),0):t._e()]],2)])],1)],1),t._v(" "),a("offscreen-edit-section-periode",{attrs:{show:t.visibleOffscreenEditSectionPeriode,"form-edit":t.formEditSectionPeriode},on:{cancel:function(e){t.visibleOffscreenEditSectionPeriode=!1},save:t.handleSavePeriod}}),t._v(" "),a("offscreen-edit-section-menu",{attrs:{show:t.visibleOffscreenEditSectionMenu,"form-edit":t.formEditSectionMenu},on:{showaddon:function(e){t.visibleOffscreenEditAddon=!0},cancel:function(e){t.visibleOffscreenEditSectionMenu=!1},delete:t.deleteOneMenu,save:t.updateMenu}}),t._v(" "),a("offscreen-edit-addon",{attrs:{show:t.visibleOffscreenEditAddon,"form-edit":t.formEditSectionMenu,grabfoodData:t.grabfoodData},on:{cancel:function(e){t.visibleOffscreenEditAddon=!1},delete:t.deleteOneMenu,save:t.updateAddon,showmaster:function(e){return t.handleDropdownAdd("addon")}}}),t._v(" "),a("dialog-add-section",{attrs:{show:t.visibleDialogAddSection,"form-data":t.formData,"data-periods":t.dataPeriods},on:{save:t.saveSection,close:t.cancelAddSection}}),t._v(" "),a("dialog-list-addon",{attrs:{show:t.visibleDialogListAddon,"form-data":t.formData,grabfoodData:t.grabfoodData},on:{save:t.saveSection,close:t.handleCloseAddon}}),t._v(" "),a("el-dialog",{attrs:{visible:t.visibleDialogAddItem,"show-close":!1,"close-on-press-escape":!1,"before-close":t.handleCancel,"append-to-body":"","custom-class":"dialog-grbfd"},on:{"update:visible":function(e){t.visibleDialogAddItem=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[t._v("\n          "+t._s(t.lang.add)+" "+t._s("item"===t.formItem.command?t.lang.item:t.lang.category)+"\n        ")]),t._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:t.handleCancel}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{loading:t.loadingSaveItem,type:"success"},on:{click:t.handleSaveItem}},[t._v(t._s(t.lang.save))])],1)]),t._v(" "),a("el-form",["item"===t.formItem.command?a("div",[a("el-form-item",{attrs:{label:t.lang.category}},[a("select-product-category",{staticClass:"full-width",attrs:{"allow-create":!1,"is-edit":!0,"item-category":t.formData.categories},model:{value:t.formItem.category,callback:function(e){t.$set(t.formItem,"category",e)},expression:"formItem.category"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"name",label:"Item"}},[a("select-product-grabfood",{staticStyle:{width:"100%"},attrs:{"additional-params":t.additonalParamsSearchProduct,section:t.formData},on:{select:t.handleSelectProduct}})],1)],1):a("div",[a("el-form-item",{attrs:{label:t.lang.category}},[a("select-product-category",{staticClass:"full-width",attrs:{"allow-create":!0,"is-edit":!1},model:{value:t.formItem.category,callback:function(e){t.$set(t.formItem,"category",e)},expression:"formItem.category"}})],1)],1)]),t._v(" "),"item"===t.formItem.command&&this.formItem.products.length?a("div",{staticClass:"like-table-wrapper"},t._l(t.formItem.products,function(e,i){return a("div",{key:e.id,staticClass:"like-table-wrapper--item pointer",on:{click:function(a){return t.handleEditMenuItemProduct(e)}}},[a("div",{staticClass:"mr-8"},[a("div",[a("el-avatar",{attrs:{src:e.photo_md,size:40,shape:"square"}})],1)]),t._v(" "),a("div",{staticClass:"mr-8",staticStyle:{"flex-grow":"1"}},[a("div",{staticClass:"font-bold font-14"},[t._v("\n              "+t._s(e.name)+"\n            ")]),t._v(" "),a("div",{staticClass:"color-info font-12"},[e.alias_price?a("span",[t._v("\n                "+t._s(e.falias_price)+"\n              ")]):a("span",[t._v("\n                "+t._s(e.fsell_price_pos)+"\n              ")])])]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.removeItem(i)}}},[a("i",{staticClass:"el-icon-close",staticStyle:{color:"#F44336"}})])],1)}),0):t._e()],1),t._v(" "),a("el-dialog",{attrs:{visible:t.visibleDialogEditName,"show-close":!1,"close-on-press-escape":!1,"append-to-body":"","custom-class":"dialog-grbfd"},on:{"update:visible":function(e){t.visibleDialogEditName=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[t._v("\n          "+t._s(t.lang.edit)+" Section Name\n        ")]),t._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.visibleDialogEditName=!1}}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{loading:t.loadingSaveName,type:"success"},on:{click:t.handleSaveNameSection}},[t._v(t._s(t.lang.save))])],1)]),t._v(" "),a("div",[a("span",[t._v(t._s(t.lang.name))]),t._v(" "),a("el-input",{model:{value:t.tempSection.name,callback:function(e){t.$set(t.tempSection,"name",e)},expression:"tempSection.name"}})],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.showDialogDay,"show-close":!1,"close-on-press-escape":!1,"before-close":t.handleCancelDay,width:"50%","append-to-body":""},on:{"update:visible":function(e){t.showDialogDay=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold"},[t._v("\n          "+t._s(t.rootLang.valid_periode)+"\n        ")]),t._v(" "),a("div",{staticClass:"btn_save_dialog text-right full-width"},[a("el-button",{attrs:{type:"info"},on:{click:t.handleCancelDay}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.handleSavePeriodEdit}},[t._v(t._s(t.lang.save))])],1)]),t._v(" "),a("div",[t._l(t.dataPer,function(e){return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],key:e.day,staticClass:"like-table-wrapper--item"},[a("div",{staticClass:"full-width"},[a("span",[t._v(t._s(e.fday))]),t._v(" "),a("div",{staticClass:"flex-container"},t._l(e.times,function(e){return a("div",{key:e.time_id,staticClass:"mr-8 flex-container"},[a("div",{class:e.checked?"color-primary--soft--bg radius-5 mr-4 p-2":"mr-4 radius-5 p-2"},[t._v("\n                    "+t._s(e.fstart_time)+" - "+t._s(e.fend_time)+"\n                    "),a("el-checkbox",{on:{change:function(a){return t.handleCheckedPeriod(e)}},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"period.checked"}})],1)])}),0)])])})],2)]),t._v(" "),a("div",{staticClass:"full-width flex-container justify-center"},[t.showSaveSort?a("div",{staticClass:"floating_div mw-980"},[a("floating-div",{attrs:{loading:t.loadingSort},on:{confirm:t.handleSaveSort}})],1):t._e()])],1)},n=[]},"o2/a":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"show-close":!1,"close-on-press-escape":!1,"before-close":t.handleCancel,"append-to-body":"","custom-class":"dialog-grbfd"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[t._v("\n      "+t._s(t.lang.add)+" Section\n    ")]),t._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:t.handleCancel}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{loading:t.loadingSaveItem,disabled:t.disableSave,type:"success"},on:{click:t.handleSaveItem}},[t._v(t._s(t.lang.save))])],1)]),t._v(" "),a("div",{staticClass:"wizard-content"},[a("el-form",{attrs:{model:t.formSection,"label-position":"top"}},[a("el-form-item",{attrs:{prop:"name",label:"Nama Section"}},[a("el-input",{model:{value:t.formSection.name,callback:function(e){t.$set(t.formSection,"name",e)},expression:"formSection.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"days",label:"Jam Layanan"}},t._l(t.dataPer,function(e){return a("div",{key:e.day,staticClass:"like-table-wrapper--item",staticStyle:{height:"56px"},attrs:{label:e}},[a("div",{staticClass:"p-8"},[t._v(t._s(e.fday))]),t._v(" "),a("div",{staticClass:"mt-8 full-width text-right flex-container",staticStyle:{"justify-content":"flex-end"}},t._l(e.times,function(e){return a("div",{key:e.time_id,staticClass:"flex-container pointer",attrs:{type:"text"},on:{click:function(a){return t.handleCheckedPeriod(e)}}},[a("div",{class:e.checked?"color-primary--soft--bg radius-5 mr-4 p-2":"mr-4 radius-5 p-2"},[a("span",{staticClass:"color-black"},[t._v(t._s(e.fstart_time)+" - "+t._s(e.fend_time))]),t._v(" "),a("el-checkbox",{model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"period.checked"}})],1)])}),0)])}),0)],1)],1),t._v(" "),a("offscreen-edit-section-periode",{attrs:{show:t.visibleOffscreenEditSectionPeriode,"form-edit":t.formEditSectionPeriode,createSection:!0},on:{cancel:function(e){t.visibleOffscreenEditSectionPeriode=!1},save:t.handleSavePeriod}})],1)},n=[]},ojZ4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={components:{},props:{item:{type:Object,default:null},visibleItem:{type:Boolean,default:!1}},computed:{langId:function(){return this.$store.state.userStores.langId}},methods:{sortsChanged:function(){this.$emit("changeitem",this.item.addon_items)}}}},"p/1M":function(t,e,a){"use strict";a.r(e);var i=a("Klyo"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},"v8O+":function(t,e,a){"use strict";a.r(e);var i=a("kk0b"),n=a("Rm07");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="ListCategory.vue",e.default=r.exports},vaeH:function(t,e,a){"use strict";a.r(e);var i=a("36Ic"),n=a("dv8b");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="offscreenEditSectionPeriode.vue",e.default=r.exports},z6TA:function(t,e,a){"use strict";a.r(e);var i=a("Mky8"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a}}]);