(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4370"],{hvbJ:function(e,a,t){"use strict";t.d(a,"a",function(){return s}),t.d(a,"b",function(){return l});var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadings,expression:"loadings"}],staticClass:"box"},[t("div",{staticClass:"box-header with-border create-product-header"},[t("h4",{staticClass:"box-title"},[e._v(e._s(e.lang.add)+" "+e._s(e.lang.discount_coupon))]),e._v(" "),t("div",{staticClass:"pull-right"},[t("el-button",{attrs:{size:"small",type:"text"},on:{click:e.cancel}},[e._v(e._s(e.lang.cancel))]),e._v(" "),[t("div",{staticClass:"row flex-container"},[t("div",[e._v(e._s(e.$lang[e.langId].save_at)+":")]),e._v(" "),t("el-select",{attrs:{multiple:"","collapse-tags":""},on:{change:e.handleSelectAll},model:{value:e.storeToBeSaved,callback:function(a){e.storeToBeSaved=a},expression:"storeToBeSaved"}},e._l(e.outlets,function(e){return t("el-option",{key:e.store_id,attrs:{label:e.name,value:e.store_id}})}),1)],1)],e._v(" "),t("el-button",{staticClass:"radius-null",attrs:{disabled:e.disabledSave,size:"small",icon:"el-icon-check",type:"success"},on:{click:e.save}},[e._v("\n        "+e._s(e.lang.save)+"\n      ")])],2)]),e._v(" "),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadings,expression:"loadings"}],staticClass:"card-body",staticStyle:{"margin-top":"20px"}},[t("el-form",{ref:"packageForm",staticClass:"form-sidebyside p-24",attrs:{model:e.data,rules:e.dataRules},nativeOn:{submit:function(e){e.preventDefault()}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-8 col-md-offset-2"},[t("div",{staticClass:"open-create-body"},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{staticClass:"form-subtitle",attrs:{label:e.lang.discount_detail}})],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.code,required:!0}},[t("p",[e._v(e._s(e.lang.info_discount_code))])])],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",{attrs:{prop:"code"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{required:"",placeholder:e.$lang[e.langId].input_code,type:"text"},model:{value:e.data.code,callback:function(a){e.$set(e.data,"code",a)},expression:"data.code"}},[t("el-button",{attrs:{slot:"append",icon:"el-icon-refresh"},on:{click:e.refreshCode},slot:"append"})],1)],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.title,required:!0}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",{attrs:{prop:"title"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{required:"",placeholder:e.$lang[e.langId].please_input+e.lang.title,type:"text"},model:{value:e.data.title,callback:function(a){e.$set(e.data,"title",a)},expression:"data.title"}})],1)],1)],1),e._v(" "),t("hr"),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.active_date,required:!0}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",{attrs:{prop:"active_date"}},[t("el-date-picker",{attrs:{required:!0,type:"date",placeholder:e.$lang[e.langId].pick_a_day},model:{value:e.data.active_date,callback:function(a){e.$set(e.data,"active_date",a)},expression:"data.active_date"}})],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.never_expires}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("div",{staticClass:"mb-4"},[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.no_expiry,callback:function(a){e.$set(e.data,"no_expiry",a)},expression:"data.no_expiry"}}),e._v(" "),0===e.data.no_expiry?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.no_expiry?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1),e._v(" "),0===e.data.no_expiry?t("el-date-picker",{attrs:{required:!0,type:"date",placeholder:e.$lang[e.langId].pick_a_day,"picker-options":e.checkDateRange},model:{value:e.data.expiry_date,callback:function(a){e.$set(e.data,"expiry_date",a)},expression:"data.expiry_date"}}):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.min_order_amount}},[t("p",[e._v(e._s(e.lang.info_discount_min_order_amount)+", "+e._s(e.$lang[e.langId].input_min_order_amount))])])],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("div",{staticClass:"el-input"},[t("input-money",{on:{currency:function(a){return e.handleCurrency("minOrder",e.data.min_order_amount)}},model:{value:e.data.min_order_amount,callback:function(a){e.$set(e.data,"min_order_amount",a)},expression:"data.min_order_amount"}})],1)])],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].unlimited_use}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("div",{staticClass:"mb-4"},[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.no_usage_limit,callback:function(a){e.$set(e.data,"no_usage_limit",a)},expression:"data.no_usage_limit"}}),e._v(" "),0===e.data.no_usage_limit?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.no_usage_limit?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1),e._v(" "),1===e.data.no_usage_limit?t("el-input",{attrs:{disabled:!0,type:"number",min:1,placeholder:e.lang.usage_limit},model:{value:e.data.usage_limit,callback:function(a){e.$set(e.data,"usage_limit",a)},expression:"data.usage_limit"}}):t("el-input",{attrs:{disabled:!1,type:"number",min:1,placeholder:e.lang.usage_limit},model:{value:e.data.usage_limit,callback:function(a){e.$set(e.data,"usage_limit",a)},expression:"data.usage_limit"}})],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].show_in_pos}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.show_in_pos,callback:function(a){e.$set(e.data,"show_in_pos",a)},expression:"data.show_in_pos"}}),e._v(" "),0===e.data.show_in_pos?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.show_in_pos?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].show_in_online}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.show_in_online,callback:function(a){e.$set(e.data,"show_in_online",a)},expression:"data.show_in_online"}}),e._v(" "),0===e.data.show_in_online?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.show_in_online?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.once_per_customer}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.once_per_customer,callback:function(a){e.$set(e.data,"once_per_customer",a)},expression:"data.once_per_customer"}}),e._v(" "),0===e.data.once_per_customer?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.once_per_customer?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].daily_reset_usage}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.daily_reset_usage,callback:function(a){e.$set(e.data,"daily_reset_usage",a)},expression:"data.daily_reset_usage"}}),e._v(" "),0===e.data.daily_reset_usage?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.daily_reset_usage?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),"dev"===e.stageLevel||"sit"===e.stageLevel?[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].use_dine_in}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.use_dine_in,callback:function(a){e.$set(e.data,"use_dine_in",a)},expression:"data.use_dine_in"}}),e._v(" "),0===e.data.use_dine_in?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.use_dine_in?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].use_delivery}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.use_delivery,callback:function(a){e.$set(e.data,"use_delivery",a)},expression:"data.use_delivery"}}),e._v(" "),0===e.data.use_delivery?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.use_delivery?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].use_take_away}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.use_take_away,callback:function(a){e.$set(e.data,"use_take_away",a)},expression:"data.use_take_away"}}),e._v(" "),0===e.data.use_take_away?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.use_take_away?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1)]:e._e(),e._v(" "),t("hr"),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.discount_amount,required:""}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-radio-group",{model:{value:e.data.amount_type,callback:function(a){e.$set(e.data,"amount_type",a)},expression:"data.amount_type"}},[t("el-radio-button",{attrs:{label:"percent"}},[e._v("\n                    % "+e._s(e.$lang[e.langId].percent)+"\n                  ")]),e._v(" "),t("el-radio-button",{attrs:{label:"amount"}},[e._v("\n                    $ "+e._s(e.$lang[e.langId].nominal)+"\n                  ")])],1),e._v(" "),"percent"===e.data.amount_type?t("el-form-item",{attrs:{prop:"discount_percent"}},[t("el-input",{attrs:{type:"number",placeholder:e.$lang[e.langId].input_number},on:{change:function(a){return e.handleCurrency("discountPercent",e.data.discount_percent)}},model:{value:e.data.discount_percent,callback:function(a){e.$set(e.data,"discount_percent",a)},expression:"data.discount_percent"}}),e._v(" "),t("p",{staticStyle:{"margin-top":"5px","text-align":"left"}},[e._v("\n                    "+e._s(e.lang.desc_price_cut_for_reseller)+","+e._s(e.$lang[e.langId].min_and_max_disc_percent)+"\n                  ")])],1):t("el-form-item",{attrs:{prop:"discount_amount"}},[t("div",{staticClass:"el-input"},[t("input-money",{model:{value:e.data.discount_amount,callback:function(a){e.$set(e.data,"discount_amount",a)},expression:"data.discount_amount"}})],1)])],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].max_discount}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("div",{staticClass:"el-input"},[t("input-money",{on:{currency:function(a){return e.handleCurrency("maxOrder",e.data.max_discount_amount)}},model:{value:e.data.max_discount_amount,callback:function(a){e.$set(e.data,"max_discount_amount",a)},expression:"data.max_discount_amount"}})],1)])],1)],1)],2)]),e._v(" "),t("div",{staticClass:"col-md-6"},[t("div",{staticClass:"open-create-body"},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{staticClass:"form-subtitle",attrs:{label:e.lang.discount_criteria}})],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].apply_to_all_customer}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.valid_for_all_customers,callback:function(a){e.$set(e.data,"valid_for_all_customers",a)},expression:"data.valid_for_all_customers"}}),e._v(" "),0===e.data.valid_for_all_customers?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.valid_for_all_customers?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.valid_for_customer_types}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",{attrs:{prop:"valid_customer_types"}},[0===e.data.valid_for_all_customers?t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!1,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.customer_type,"remote-method":e.searchCustomerTypes,loading:e.searchingCustomerTypes},model:{value:e.data.valid_customer_types,callback:function(a){e.$set(e.data,"valid_customer_types",a)},expression:"data.valid_customer_types"}},e._l(e.searchResultCustomerTypes,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.customer_type,"remote-method":e.searchCustomerTypes,loading:e.searchingCustomerTypes},model:{value:e.data.valid_customer_types,callback:function(a){e.$set(e.data,"valid_customer_types",a)},expression:"data.valid_customer_types"}},e._l(e.searchResultCustomerTypes,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.valid_for_customers}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",{attrs:{prop:"valid_customers"}},[0===e.data.valid_for_all_customers?t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!1,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.customer,"remote-method":e.searchCustomers,loading:e.searchingCustomers},model:{value:e.data.valid_customers,callback:function(a){e.$set(e.data,"valid_customers",a)},expression:"data.valid_customers"}},e._l(e.searchResultCustomers,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.customer,"remote-method":e.searchCustomers,loading:e.searchingCustomers},model:{value:e.data.valid_customers,callback:function(a){e.$set(e.data,"valid_customers",a)},expression:"data.valid_customers"}},e._l(e.searchResultCustomers,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),e._v(" "),t("hr"),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].apply_to_all_product}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.valid_for_all_products,callback:function(a){e.$set(e.data,"valid_for_all_products",a)},expression:"data.valid_for_all_products"}}),e._v(" "),0===e.data.valid_for_all_products?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.valid_for_all_products?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.valid_for_product_groups}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",{attrs:{prop:"valid_product_groups"}},[0===e.data.valid_for_all_products?t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!1,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.product_groups,"remote-method":e.searchProductGroups,loading:e.searchingProductGroups},model:{value:e.data.valid_product_groups,callback:function(a){e.$set(e.data,"valid_product_groups",a)},expression:"data.valid_product_groups"}},e._l(e.searchResultProductGroups,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.product_groups,"remote-method":e.searchProductGroups,loading:e.searchingProductGroups},model:{value:e.data.valid_product_groups,callback:function(a){e.$set(e.data,"valid_product_groups",a)},expression:"data.valid_product_groups"}},e._l(e.searchResultProductGroups,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.valid_for_products}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",{attrs:{prop:"valid_products"}},[0===e.data.valid_for_all_products?t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!1,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.lang.info_auto_complete_product,"remote-method":e.searchProducts,loading:e.searchingProducts},model:{value:e.data.valid_products,callback:function(a){e.$set(e.data,"valid_products",a)},expression:"data.valid_products"}},e._l(e.searchResultProducts,function(e){return t("el-option",{key:e.product_id,attrs:{label:e.name,value:e.product_id}})}),1):t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.lang.info_auto_complete_product,"remote-method":e.searchProducts,loading:e.searchingProducts},model:{value:e.data.valid_products,callback:function(a){e.$set(e.data,"valid_products",a)},expression:"data.valid_products"}},e._l(e.searchResultProducts,function(e){return t("el-option",{key:e.product_id,attrs:{label:e.name,value:e.product_id}})}),1)],1)],1)],1),e._v(" "),t("hr"),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].apply_to_all_combo}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.valid_for_all_product_combos,callback:function(a){e.$set(e.data,"valid_for_all_product_combos",a)},expression:"data.valid_for_all_product_combos"}}),e._v(" "),0===e.data.valid_for_all_product_combos?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.valid_for_all_product_combos?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.valid_for_product_combos}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",{attrs:{prop:"valid_product_combos"}},[0===e.data.valid_for_all_product_combos?t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!1,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.product_combo,"remote-method":e.searchProductCombos,loading:e.searchingProductCombos},model:{value:e.data.valid_product_combos,callback:function(a){e.$set(e.data,"valid_product_combos",a)},expression:"data.valid_product_combos"}},e._l(e.searchResultProductCombos,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.product_combo,"remote-method":e.searchProductCombos,loading:e.searchingProductCombos},model:{value:e.data.valid_product_combos,callback:function(a){e.$set(e.data,"valid_product_combos",a)},expression:"data.valid_product_combos"}},e._l(e.searchResultProductCombos,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.$lang[e.langId].apply_to_all_brand}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.valid_for_all_brands,callback:function(a){e.$set(e.data,"valid_for_all_brands",a)},expression:"data.valid_for_all_brands"}}),e._v(" "),0===e.data.valid_for_all_brands?t("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.valid_for_all_brands?t("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{sm:11}},[t("el-form-item",{attrs:{label:e.lang.valid_for_brands}})],1),e._v(" "),t("el-col",{attrs:{sm:13}},[t("el-form-item",{attrs:{prop:"valid_brands"}},[0===e.data.valid_for_all_brands?t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!1,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.brand,"remote-method":e.searchBrand,loading:e.loadingSearchBrand},model:{value:e.data.valid_brands,callback:function(a){e.$set(e.data,"valid_brands",a)},expression:"data.valid_brands"}},e._l(e.searchResultBrand,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):t("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.brand,"remote-method":e.searchBrand,loading:e.loadingSearchBrand},model:{value:e.data.valid_brands,callback:function(a){e.$set(e.data,"valid_brands",a)},expression:"data.valid_brands"}},e._l(e.searchResultBrand,function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1)],1)])])])],1)])},l=[]},qNky:function(e,a,t){"use strict";t.r(a);var s=t("hvbJ"),l=t("qzUB");for(var r in l)["default"].indexOf(r)<0&&function(e){t.d(a,e,function(){return l[e]})}(r);var o=t("KHd+"),n=Object(o.a)(l.default,s.a,s.b,!1,null,null,null);n.options.__file="Create.vue",a.default=n.exports},qaZM:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=i(t("QbLZ")),l=t("xCek"),r=i(t("vDqi")),o=i(t("Ckak")),n=i(t("DChC"));function i(e){return e&&e.__esModule?e:{default:e}}a.default={props:["loading","saved"],mixins:[n.default],components:{InputMoney:o.default},data:function(){return{outlets:[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],storeToBeSaved:[],loadings:!1,searchingCustomerTypes:!1,searchingCustomers:!1,searchingProducts:!1,searchingProductGroups:!1,searchingProductCombos:!1,loadingSearchBrand:!1,disabledSave:!0,data:{amount_type:"percent",show_in_pos:1,no_expiry:1,no_usage_limit:1,valid_for_all_products:1,valid_for_all_customers:1,valid_for_all_product_combos:1,valid_customer_types:[],valid_customers:[],valid_products:[],valid_product_groups:[],valid_product_combos:[],valid_brands:[],valid_for_all_brands:1,min_order_amount:1,code:this.randomString(12)},searchResultCustomerTypes:[],searchResultCustomers:[],searchResultProducts:[],searchResultProductGroups:[],searchResultProductCombos:[],searchResultBrand:[],dataRules:{title:[{required:!0,message:"This is required field",trigger:"blur"},{min:2,message:"Length should min. 2",trigger:"blur"}],code:[{required:!0,message:"This is required field",trigger:"blur"},{min:2,message:"Length should min. 2",trigger:"blur"}],active_date:[{required:!0,message:"This is required field",trigger:"blur"}]},checkDateRange:{disabledDate:this.disabledDueDate}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},storeCanAccess:function(){return["setdemo1","allinolsera2","meenumjagakarsa","meenummekarsari","meenumcipayung","meenumgalaxy","meenumjatiasih","meenumcileungsi","meenumdukuhzamrud","meenumjoyomartono","meenumjatimakmur","meenumsawangan","meenumarundina","meenumkaliabang","meenumjatirasa","meenummgt","meenumgasalam","meenumhalim","meenumciangsana","meenumkayuringin","meenumnusantaradepok","meenumrawalumbu","meenumcilincing","meenumunsikakarawang","meenumkayutinggi","meenummunjuljayapurwakarta","meenumpisangan","meenumtarumajaya","meenumsemarang","meenumcibitung","meenumcirebon","meenummanukansurabaya","meenumkeputihsurabaya","meenumcentex","meenumkelapadua","meenumregency","meenumpuricendana","meenumjatikramat","meenumlubangbuaya","meenumtegal","meenumpermatacibubur","meenumperumnascirebon","meenumtugumacan","meenumcikarangfestival","meenumkarawangkosambi","meenumtegalparang","meenumbojonggede","meenumutankayu","meenumdepoktimur","meenumcirebonmegu","meenumkembangan","meenumwanaherang","meenumtambunutara","meenumgriyabukitjaya","meenumwismajaya","meenumcondet","meenumgongseng","meenumpondokmelati","meenumgdcdepok","meenumpekapuran","meenumtaposdepok","meenumbekasitimurregency","meenumbbm","meenumcikaret","meenumgrandkahuripan","meenumpekanbarudurian","meenumpekanbarurambutan","meenumkpmakasar","meenumfatmawati","meenumbumimutiara","meenumjatiwaringin","meenumsumurbatu","meenumpurigading","meenumsetucibitung","meenumsirsakjagakarsa","meenumrawabebek","meenumcikarangregency"]}},watch:{data:{handler:function(e){console.log(e),e.title&&e.active_date&&e.code&&("percent"!==e.amount_type||e.discount_percent)&&("amount"!==e.amount_type||e.discount_amount)?this.disabledSave=!1:this.disabledSave=!0},deep:!0,immediate:!0},loading:{handler:function(e){this.loadings=!0===e},deep:!0},saved:{handler:function(e){this.disabledSave=!0===e},deep:!0}},methods:{searchCustomerTypes:function(e){var a=this;this.searchingCustomerTypes=!0;var t={Authorization:"Bearer "+this.token.access_token},s={search:e};e.length>0&&(0,r.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"customertype"),headers:t,params:s}).then(function(e){a.searchingCustomerTypes=!1,a.searchResultCustomerTypes=e.data.data.map(function(e){return e})}).catch(function(){a.searchingCustomerTypes=!1,a.searchResultCustomerTypes=[]})},searchCustomers:function(e){var a=this;this.searchingCustomers=!0;var t={Authorization:"Bearer "+this.token.access_token},s={search:e};e.length>0&&(0,r.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"customer"),headers:t,params:s}).then(function(e){a.searchingCustomers=!1,a.searchResultCustomers=e.data.data.map(function(e){return e})}).catch(function(){a.searchingCustomers=!1,a.searchResultCustomers=[]})},searchProducts:function(e){var a=this;this.searchingProducts=!0;var t={Authorization:"Bearer "+this.token.access_token},s={search_column:"name",search_text:e,sort_column:"name",sort_type:"desc",per_page:50};e.length>0&&(0,r.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"productvariantsearch"),headers:t,params:s}).then(function(e){a.searchingProducts=!1,a.searchResultProducts=e.data.data.map(function(e){return e})}).catch(function(){a.searchingProducts=!1,a.searchResultProducts=[]})},searchProductGroups:function(e){var a=this;this.searchingProductGroups=!0;var t={Authorization:"Bearer "+this.token.access_token},s={search_column:"name",search_text:e,sort_column:"name",sort_type:"desc"};e.length>0&&(0,r.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"productgroup"),headers:t,params:s}).then(function(e){a.searchingProductGroups=!1,a.searchResultProductGroups=e.data.data.map(function(e){return e})}).catch(function(){a.searchingProductGroups=!1,a.searchResultProductGroups=[]})},searchProductCombos:function(e){var a=this;this.searchingProductCombos=!0;var t={Authorization:"Bearer "+this.token.access_token},s={search_column:"name",search_text:e,sort_column:"name",sort_type:"desc"};e.length>0&&(0,r.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"productcombo"),headers:t,params:s}).then(function(e){a.searchingProductCombos=!1,a.searchResultProductCombos=e.data.data.map(function(e){return e})}).catch(function(){a.searchingProductCombos=!1,a.searchResultProductCombos=[]})},searchBrand:function(e){var a=this;this.loadingSearchBrand=!0;var t={Authorization:"Bearer "+this.token.access_token},s={search:e};e.length>0&&(0,r.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"brand"),headers:t,params:s}).then(function(e){a.loadingSearchBrand=!1,a.searchResultBrand=e.data.data.map(function(e){return e})}).catch(function(){a.loadingSearchBrand=!1,a.searchResultBrand=[]})},cancel:function(){this.data={},this.$emit("cancel")},save:function(){var e=this.selectedStore.store_id,a=0;this.storeToBeSaved.length&&0===this.storeToBeSaved[0]?a=1:this.storeToBeSaved.length&&(e=this.storeToBeSaved.join(",")),this.data.to_allstore_id=a,this.data.to_store_id=e,this.$emit("save",this.data)},disabledDueDate:function(e){return e.getTime()<this.data.active_date},handleCurrency:function(e,a){"minOrder"===e?a<0&&(this.data.min_order_amount=0):"maxOrder"===e?a<0&&(this.data.max_discount_amount=0):"discountPercent"===e&&(a<0?this.data.discount_percent=0:a>100&&(this.data.discount_percent=100))},refreshCode:function(){this.data.code=this.randomString(12)},randomString:function(e,a){a=a||"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(var t="",s=0;s<e;s++){var l=Math.floor(Math.random()*a.length);t+=a.substring(l,l+1)}return t},handleSelectAll:function(e){var a=this;e.length&&e.map(function(e){0===e&&(a.storeToBeSaved=[0])})}},mounted:function(){var e=this,a=this.$store.state.userStores.stores;a&&a.map(function(a){e.outlets.push((0,s.default)({},a))});var t=this.$store.getters.selectedStore;t&&(t.constructor===Array?this.storeToBeSaved[0]=0:this.storeToBeSaved[0]=t.store_id)}}},qzUB:function(e,a,t){"use strict";t.r(a);var s=t("qaZM"),l=t.n(s);for(var r in s)["default"].indexOf(r)<0&&function(e){t.d(a,e,function(){return s[e]})}(r);a.default=l.a}}]);