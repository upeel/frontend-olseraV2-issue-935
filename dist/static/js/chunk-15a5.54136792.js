(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-15a5"],{"1oa/":function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return i});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card el-card-null mt-24"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingDisplay,expression:"loadingDisplay"}],staticClass:"flex-container p-20"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"font-14 font-semi-bold"},[e._v(e._s(e.$lang[e.langId].enable_queue_number_pos))]),e._v(" "),a("span",{staticClass:"font-12 color-grey--placeholder"},[e._v(e._s(e.dataDisplay.status_active?e.$lang[e.langId].active:e.$lang[e.langId].inactive))])]),e._v(" "),a("div",{staticClass:"pointer"},[e.checkCustomPermission("settings/posqueue","edit")?a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:e.updateDisplay},model:{value:e.dataDisplay.status_active,callback:function(t){e.$set(e.dataDisplay,"status_active",t)},expression:"dataDisplay.status_active"}}):e._e()],1)])]),e._v(" "),a("el-card",{staticClass:"card_close_date box-card"},[a("div",{staticClass:"header"},[a("span",{staticClass:"title"},[e._v(e._s(e.lang.pos_devices))]),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("button-action-authenticated",{attrs:{permission:["settings/posqueue","store"]},on:{click:function(t){e.dialogAddDevices=!0}}},[e._v("\n          "+e._s(e.lang.add)+"\n        ")])],1)]),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[e.dataDevices.length?a("div",{staticClass:"mt-10"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingQueue,expression:"loadingQueue"}],staticStyle:{width:"100%"},attrs:{stripe:"",data:e.dataDevices},on:{"row-click":e.getDetailDevices}},[a("el-table-column",{attrs:{label:e.rootLang.serial_devices,prop:"serial","min-width":"180px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"font-bold",staticStyle:{"margin-right":"5px"}},[e._v(e._s(t.row.serial))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Prefix",prop:"prefix",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.prefix)+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"40",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("button-action-authenticated",{attrs:{permission:["settings/posqueue","edit"],type:"text",size:"mini"},on:{click:function(a){return e.getDetailDevices(t.row)}}},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"font-20",attrs:{"icon-class":"edit-2"}})],1)])]}}])})],1)],1):a("div",[a("img",{staticClass:"image",staticStyle:{"margin-top":"32px"},attrs:{src:"/static/img/no-data.svg"}}),e._v(" "),a("div",{staticClass:"no_close"},[e._v(e._s(e.rootLang.no_pos_devices))]),e._v(" "),a("span",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e.rootLang.no_pos_devices_info))])])])]),e._v(" "),e.params.total>15?a("el-pagination",{attrs:{total:e.params.total,"page-size":15,"current-page":e.params.currentPage,background:"",layout:"prev, pager, next"},on:{"update:currentPage":function(t){return e.$set(e.params,"currentPage",t)},"update:current-page":function(t){return e.$set(e.params,"currentPage",t)},"current-change":e.changeCurrentPage}}):e._e(),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogAddDevices,"show-close":!1,"before-close":e.cancelAddDevices,"custom-class":"dialog-card"},on:{"update:visible":function(t){e.dialogAddDevices=t}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[e._v("\n          Device\n        ")]),e._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:e.cancelAddDevices}},[e._v(e._s(e.lang.cancel))]),e._v(" "),e.form.id&&e.checkCustomPermission("settings/posqueue","edit")||!e.form.id&&e.checkCustomPermission("settings/posqueue","store")?a("el-button",{attrs:{loading:e.loadingAdd,type:"success"},on:{click:e.saveDevices}},[e._v(e._s(e.lang.save)+"\n          ")]):e._e()],1)]),e._v(" "),a("div",[a("div",{staticClass:"mt-16"},[a("div",{staticClass:"font-12"},[e._v(e._s(e.rootLang.serial_devices))]),e._v(" "),a("el-input",{model:{value:e.form.serial,callback:function(t){e.$set(e.form,"serial",t)},expression:"form.serial"}}),e._v(" "),a("div",{staticClass:"font-12 mt-8"},[e._v("Prefix")]),e._v(" "),a("el-input",{model:{value:e.form.prefix,callback:function(t){e.$set(e.form,"prefix",t)},expression:"form.prefix"}})],1)]),e._v(" "),e.form.id?a("div",{staticClass:"mt-24"},[a("delete-button",{attrs:{"custom-permission":"settings/posqueue",loading:e.loadingDelete,block:!0},on:{confirm:e.deleteDevices}})],1):e._e()])],1)},i=[]},DChC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(a("QbLZ")),i=n(a("Ljqw"));function n(e){return e&&e.__esModule?e:{default:e}}var o={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var e=this.$store.getters.selectedStore;return{role_id:e.role_id,role_name:e.role_name,is_pos_only:e.is_pos_only,is_mobile:e.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var e=this.$store.getters.token;return this.$store.getters.webviewMode&&(e=this.$store.getters.webviewToken),{Authorization:"Bearer "+e.access_token}},baseURL:function(){return i.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var e=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],t=[];return this.$store.getters.stores.map(function(a){t.includes(a.store_id)||a.is_store_active&&(e.push((0,s.default)({},a)),t.push(a.store_id))}),e},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};t.default=o},PV8D:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dataQueueDevices=function(e){return(0,s.service)({url:"/queuedevice",method:"GET",params:e})},t.addQueueDevices=function(e){return(0,s.service)({url:"/queuedevice",method:"POST",data:e})},t.updateQueueDevices=function(e){return(0,s.service)({url:"/queuedevice/"+e.id,method:"PUT",data:e})},t.deleteQueueDevices=function(e){return(0,s.service)({url:"/queuedevice/"+e.id,method:"DELETE"})},t.dataQueueDisplay=function(e){return(0,s.service)({url:"/queuedisplay",method:"GET",params:e})},t.updateQueueDisplay=function(e){return(0,s.service)({url:"/queuedisplay",method:"POST",data:e})};var s=a("xCek")},T9iI:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("PV8D"),i=o(a("DChC")),n=o(a("DA24"));function o(e){return e&&e.__esModule?e:{default:e}}t.default={name:"PosQueue",mixins:[i.default],components:{DeleteButton:n.default},data:function(){return{loadingQueue:!1,loadingDisplay:!1,loadingAdd:!1,loadingDelete:!1,dataDisplay:{},dataDevices:[],params:{search_text:"",per_page:15,sort_column:"id",sort_type:"desc"},form:{},dialogAddDevices:!1}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},rootLang:function(){return this.$lang[this.$store.state.userStores.langId]}},watch:{"$store.getters.selectedStore":function(){this.getData()}},methods:{getData:function(){var e=this;this.loadingQueue=!0,(0,s.dataQueueDevices)(this.params).then(function(t){e.dataDevices=t.data.data,e.params.total=t.data.meta.total,e.params.currentPage=t.data.meta.current_page,e.loadingQueue=!1}).catch(function(t){e.dataDevices=[],e.loadingQueue=!1,e.params.total=0,e.$message({type:"error",message:t.response.data.error.error})})},getDataDisplay:function(){var e=this;this.loadingDisplay=!0,(0,s.dataQueueDisplay)().then(function(t){e.dataDisplay=t.data.data,"A"===e.dataDisplay.status?e.$set(e.dataDisplay,"status_active",1):e.$set(e.dataDisplay,"status_active",0),e.loadingDisplay=!1}).catch(function(t){e.dataDisplay=[],e.loadingDisplay=!1,e.$message({type:"error",message:t.response.data.error.error})})},updateDisplay:function(){var e=this;this.loadingDisplay=!0;var t={activated:this.dataDisplay.status_active};(0,s.updateQueueDisplay)(t).then(function(t){e.dataDisplay=t.data.data,"A"===e.dataDisplay.status?e.$set(e.dataDisplay,"status_active",1):e.$set(e.dataDisplay,"status_active",0),e.loadingDisplay=!1}).catch(function(t){e.dataDisplay=[],e.loadingDisplay=!1,e.$message({type:"error",message:t.response.data.error.error})})},saveDevices:function(){var e=this;this.loadingAdd=!0;var t={serial:this.form.serial,prefix:this.form.prefix,id:this.form.id?this.form.id:""};this.form.id?(0,s.updateQueueDevices)(t).then(function(t){e.loadingAdd=!1,e.dialogAddDevices=!1,e.getData()}).catch(function(t){e.loadingAdd=!1,e.$message({type:"error",message:t.response.data.error.error})}):(0,s.addQueueDevices)(t).then(function(t){e.loadingAdd=!1,e.dialogAddDevices=!1,e.getData()}).catch(function(t){e.loadingAdd=!1,e.$message({type:"error",message:t.response.data.error.error})})},deleteDevices:function(){var e=this;(0,s.deleteQueueDevices)(this.form).then(function(t){e.loadingDelete=!1,e.dialogAddDevices=!1,e.form={},e.getData()}).catch(function(t){e.loadingDelete=!1,e.$message({type:"error",message:t.response.data.error.error})})},getDetailDevices:function(e){this.checkCustomPermission("settings/posqueue","edit")&&(this.form=e,this.dialogAddDevices=!0)},cancelAddDevices:function(){this.form={},this.dialogAddDevices=!1},changeCurrentPage:function(e){this.params.currentPage=e,this.params.page=e,this.getData()},showDeleteDialog:function(e){this.deleteData=e,this.deleteDialog=!0},cancelDeleteDialog:function(){this.deleteData={},this.deleteDialog=!1},deleteHandle:function(){var e=this;this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token},a=this.deleteData.id;axios({method:"DELETE",url:baseApi(this.selectedStore.url_id,this.langId,apiEndPoint+"delete/"+a),headers:t}).then(function(t){e.result=t.data,200===t.data.status&&(e.responseDelete=t.data.data,e.$message({message:"Success",type:"success"})),e.loading=!1,e.deleteDialog=!1,e.getData()}).catch(function(t){e.$message({message:"Error",type:"error"}),e.loading=!1,e.deleteDialog=!1,console.log(t)})}},mounted:function(){this.getData(),this.getDataDisplay()}}},dJo4:function(e,t,a){"use strict";a.r(t);var s=a("T9iI"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(e){a.d(t,e,function(){return s[e]})}(n);t.default=i.a},mAws:function(e,t,a){"use strict";a.r(t);var s=a("1oa/"),i=a("dJo4");for(var n in i)["default"].indexOf(n)<0&&function(e){a.d(t,e,function(){return i[e]})}(n);var o=a("KHd+"),r=Object(o.a)(i.default,s.a,s.b,!1,null,null,null);r.options.__file="Index.vue",t.default=r.exports}}]);