(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1d97","chunk-2563","chunk-25638"],{"+GLl":function(t,e,a){},"/oVz":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{action:t.uploadUrl,"show-file-list":!1,"before-upload":t.beforeUpload,"http-request":t.handleUpload,"list-type":"document-grabfood",accept:"image/jpeg"}},[null!==t.uploadedImage?[a("el-image",{staticStyle:{width:"30px",height:"30px","margin-right":"16px"},attrs:{src:t.uploadedImage.photo_xs,alt:""}})]:[t.initData.file_name?a("el-image",{staticStyle:{width:"30px",height:"30px","margin-right":"16px"},attrs:{src:t.initData.photo_xs,alt:""}}):a("i",{staticClass:"el-icon-camera"})]],2)},o=[]},"1BPP":function(t,e,a){"use strict";
/**
 * Vue Currency Input 1.20.3
 * (c) 2018-2020 Matthias Stiller
 * @license MIT
 */
function i(t,e,a){var i=document.createEvent("CustomEvent");i.initCustomEvent(e,!0,!0,a),t.dispatchEvent(i)}a.r(e),a.d(e,"CurrencyDirective",function(){return x}),a.d(e,"CurrencyInput",function(){return P}),a.d(e,"parseCurrency",function(){return h}),a.d(e,"setValue",function(){return m});var o=function(t,e,a){return e&&null!=t?Number(t.toFixed(a).split(".").join("")):t},n=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},r=function(t){return t.replace(/^0+(0$|[^0])/,"$1")},s=function(t,e){return(t.match(new RegExp(n(e),"g"))||[]).length},l=function(t,e){return t.substring(0,e.length)===e},c=function(t,e){return t.substring(0,t.indexOf(e))},d=[",",".","٫"],u=function(t){var e=t.currency,a=t.locale,i=t.precision,o=t.autoDecimalMode,n=t.valueAsInteger,r=new Intl.NumberFormat(a,"string"==typeof e?{currency:e,style:"currency"}:{minimumFractionDigits:1}),l=r.format(123456);this.locale=a,this.currency=e,this.digits=[0,1,2,3,4,5,6,7,8,9].map(function(t){return t.toLocaleString(a)}),this.decimalSymbol=s(l,this.digits[0])?l.substr(l.indexOf(this.digits[6])+1,1):void 0,this.groupingSymbol=l.substr(l.indexOf(this.digits[3])+1,1),this.minusSymbol=c(Number(-1).toLocaleString(a),this.digits[1]),void 0===this.decimalSymbol?this.minimumFractionDigits=this.maximumFractionDigits=0:"number"==typeof i?this.minimumFractionDigits=this.maximumFractionDigits=i:"object"!=typeof i||o||n?"string"==typeof e?(this.minimumFractionDigits=r.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=r.resolvedOptions().maximumFractionDigits):this.minimumFractionDigits=this.maximumFractionDigits=2:(this.minimumFractionDigits=i.min||0,this.maximumFractionDigits=void 0!==i.max?i.max:20),"string"==typeof e?(this.prefix=c(l,this.digits[1]),this.negativePrefix=c(r.format(-1),this.digits[1]),this.suffix=l.substring(l.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[6])+1)):(this.prefix=(e||{}).prefix||"",this.negativePrefix=""+this.minusSymbol+this.prefix,this.suffix=(e||{}).suffix||"")};u.prototype.parse=function(t){var e=this.isNegative(t);t=this.normalizeDigits(t),t=this.stripCurrencySymbol(t),t=this.stripMinusSymbol(t);var a=this.decimalSymbol?"("+n(this.decimalSymbol)+"\\d*)?":"",i=t.match(new RegExp("^"+this.integerPattern()+a+"$"));return i?Number((e?"-":"")+this.onlyDigits(i[1])+"."+this.onlyDigits(i[3]||"")):null},u.prototype.format=function(t,e){return void 0===e&&(e={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}),"string"==typeof this.currency?t.toLocaleString(this.locale,Object.assign({},{style:"currency",currency:this.currency},e)):this.insertCurrencySymbol(Math.abs(t).toLocaleString(this.locale,e),t<0||0===t&&1/t<0)},u.prototype.integerPattern=function(){return"(0|[1-9]\\d{0,2}("+n(this.groupingSymbol)+"?\\d{3})*)"},u.prototype.toFraction=function(t){return""+this.digits[0]+this.decimalSymbol+this.onlyLocaleDigits(t.substr(1)).substr(0,this.maximumFractionDigits)},u.prototype.isFractionIncomplete=function(t){return!!this.normalizeDigits(t).match(new RegExp("^"+this.integerPattern()+n(this.decimalSymbol)+"$"))},u.prototype.isNegative=function(t){return l(t,this.negativePrefix)||l(t.replace("-",this.minusSymbol),this.minusSymbol)},u.prototype.insertCurrencySymbol=function(t,e){return""+(e?this.negativePrefix:this.prefix)+t+this.suffix},u.prototype.stripMinusSymbol=function(t){return t.replace("-",this.minusSymbol).replace(this.minusSymbol,"")},u.prototype.stripCurrencySymbol=function(t){return t.replace(this.negativePrefix,"").replace(this.prefix,"").replace(this.suffix,"")},u.prototype.normalizeDecimalSymbol=function(t,e){var a=this;return d.forEach(function(i){t=t.substr(0,e)+t.substr(e).replace(i,a.decimalSymbol)}),t},u.prototype.normalizeDigits=function(t){return"0"!==this.digits[0]&&this.digits.forEach(function(e,a){t=t.replace(new RegExp(e,"g"),a)}),t},u.prototype.onlyDigits=function(t){return this.normalizeDigits(t).replace(/\D+/g,"")},u.prototype.onlyLocaleDigits=function(t){return t.replace(new RegExp("[^"+this.digits.join("")+"]*","g"),"")};var p={locale:void 0,currency:"EUR",valueAsInteger:!1,distractionFree:!0,precision:void 0,autoDecimalMode:!1,valueRange:void 0,allowNegative:!0},h=function(t,e){var a=Object.assign({},p,e),i=new u(a);return o(i.parse(t),a.valueAsInteger,i.maximumFractionDigits)},m=function(t,e){return i(t,"format",{value:e})},f=function(t,e){return t.setSelectionRange(e,e)},g=function(t,e){if(t===e)return!0;if(!t||!e||"object"!=typeof t||"object"!=typeof e)return!1;var a=Object.keys(t);return a.length===Object.keys(e).length&&(!!a.every(Object.prototype.hasOwnProperty.bind(e))&&a.every(function(a){return g(t[a],e[a])}))},v=function(t){this.numberFormat=t};v.prototype.conformToMask=function(t,e){var a=this;void 0===e&&(e="");var i=this.numberFormat.isNegative(t),o=t;o=this.numberFormat.stripCurrencySymbol(o);var n=function(t){if(""===t&&i&&e!==a.numberFormat.negativePrefix)return"";if(a.numberFormat.maximumFractionDigits>0){if(a.numberFormat.isFractionIncomplete(t))return t;if(l(t,a.numberFormat.decimalSymbol))return a.numberFormat.toFraction(t)}return null}(o=this.numberFormat.stripMinusSymbol(o));if(null!=n)return this.numberFormat.insertCurrencySymbol(n,i);var s=o.split(this.numberFormat.decimalSymbol),c=s[0],d=s.slice(1),u=r(this.numberFormat.onlyDigits(c)),p=this.numberFormat.onlyDigits(d.join("")).substr(0,this.numberFormat.maximumFractionDigits),h=d.length>0&&0===p.length,m=""===u&&i&&(e===t.slice(0,-1)||e!==this.numberFormat.negativePrefix);return h||m?e:u.match(/\d+/)?{numberValue:Number((i?"-":"")+u+"."+p),fractionDigits:p}:""};var _=function(t){this.numberFormat=t};_.prototype.conformToMask=function(t){if(""===t)return"";var e=this.numberFormat.isNegative(t),a=""===this.numberFormat.stripMinusSymbol(t)?-0:Number((e?"-":"")+r(this.numberFormat.onlyDigits(t)))/Math.pow(10,this.numberFormat.minimumFractionDigits);return{numberValue:a,fractionDigits:a.toFixed(this.numberFormat.minimumFractionDigits).slice(-this.numberFormat.minimumFractionDigits)}};var k=Math.pow(2,53)-1,y=function(t,e,a){var i=a.$CI_DEFAULT_OPTIONS,o="input"===t.tagName.toLowerCase()?t:t.querySelector("input");if(!o)throw new Error("No input element found");var n=Object.assign({},i||p,e),r=n.distractionFree,s=n.autoDecimalMode,l=n.valueRange;"boolean"==typeof r&&(n.distractionFree={hideCurrencySymbol:r,hideNegligibleDecimalDigits:r,hideGroupingSymbol:r}),n.valueRange=l?{min:void 0!==l.min?Math.max(l.min,-k):-k,max:void 0!==l.max?Math.min(l.max,k):k}:{min:-k,max:k},s?(n.distractionFree.hideNegligibleDecimalDigits=!1,o.setAttribute("inputmode","numeric")):o.setAttribute("inputmode","decimal");var c=new u(n);return o.$ci=Object.assign({},o.$ci||{numberValue:null},{options:n,numberMask:n.autoDecimalMode?new _(c):new v(c),currencyFormat:c}),o},b=function(t,e){var a=t.$ci,n=a.numberValue,r=a.currencyFormat,s=a.options;i(t,e,{numberValue:n=o(n,s.valueAsInteger,r.maximumFractionDigits)})},S=function(t,e,a){void 0===a&&(a=!1);var i=t.$ci,o=i.currencyFormat,n=i.options;C(t,null!=e?o.format(function(t,e){return Math.min(Math.max(t,e.min),e.max)}(e,n.valueRange)):null),(e!==t.$ci.numberValue||a)&&b(t,"change")},C=function(t,e,a){void 0===a&&(a=!1),function(t,e,a){if(null!=e){var i=t.$ci,o=i.focus,n=i.decimalSymbolInsertedAt,r=i.options,s=i.numberMask,l=i.currencyFormat,c=i.previousConformedValue,d=r.allowNegative,u=r.distractionFree;void 0!==n&&(e=l.normalizeDecimalSymbol(e,n),t.$ci.decimalSymbolInsertedAt=void 0);var p,h=s.conformToMask(e,c);if("object"==typeof h){var m=h.numberValue,f=h.fractionDigits,g=l.maximumFractionDigits,v=l.minimumFractionDigits;o&&(v=g),v=a?f.replace(/0+$/,"").length:Math.min(v,f.length),p=m>k?c:l.format(m,{useGrouping:!(o&&u.hideGroupingSymbol),minimumFractionDigits:v,maximumFractionDigits:g})}else p=h;d||(p=p.replace(l.negativePrefix,l.prefix)),o&&u.hideCurrencySymbol&&(p=p.replace(l.negativePrefix,l.minusSymbol).replace(l.prefix,"").replace(l.suffix,"")),t.value=p,t.$ci.numberValue=l.parse(t.value)}else t.value=t.$ci.numberValue=null;t.$ci.previousConformedValue=t.value}(t,e,a),b(t,"input")},w=function(t){t.addEventListener("input",function(e){if(!e.detail){var a=t.value,i=t.selectionStart,o=t.$ci,n=o.currencyFormat,r=o.options;C(t,a),t.$ci.focus&&f(t,function(t,e,a,i,o){var n=i.prefix,r=i.suffix,l=i.decimalSymbol,c=i.maximumFractionDigits,d=i.groupingSymbol,u=e.indexOf(l)+1,p=e.length-a;return Math.abs(t.length-e.length)>1&&a<=u?t.indexOf(l)+1:t.substr(a,1)===d&&s(t,d)===s(e,d)+1?t.length-p-1:(!o.autoDecimalMode&&0!==u&&a>u&&i.onlyDigits(e.substr(u)).length-1===c&&(p-=1),o.distractionFree.hideCurrencySymbol?t.length-p:Math.max(t.length-Math.max(p,r.length),0===n.length?0:n.length+1))}(t.value,a,i,n,r))}},{capture:!0}),t.addEventListener("keypress",function(e){d.includes(e.key)&&(t.$ci.decimalSymbolInsertedAt=t.selectionStart)}),t.addEventListener("format",function(e){var a=t.$ci,i=a.currencyFormat,o=a.options,n=a.numberValue,r=function(t){return o.valueAsInteger&&null!=t?t/Math.pow(10,i.maximumFractionDigits):t}(e.detail.value);n!==r&&S(t,r)}),t.addEventListener("focus",function(){t.$ci.focus=!0;var e=t.$ci.options.distractionFree,a=e.hideCurrencySymbol,i=e.hideGroupingSymbol,o=e.hideNegligibleDecimalDigits;(a||i||o)&&setTimeout(function(){var e=t.value,a=t.selectionStart,i=t.selectionEnd;e&&C(t,e,o),Math.abs(a-i)>0?t.setSelectionRange(0,t.value.length):f(t,function(t,e,a,i){var o=i;return e.distractionFree.hideCurrencySymbol&&(o-=t.prefix.length),e.distractionFree.hideGroupingSymbol&&(o-=s(a.substring(0,i),t.groupingSymbol)),Math.max(0,o)}(t.$ci.currencyFormat,t.$ci.options,e,a))})}),t.addEventListener("blur",function(){t.$ci.focus=!1,null!=t.$ci.numberValue&&S(t,t.$ci.numberValue)}),t.addEventListener("change",function(e){e.detail||b(t,"change")})},x={bind:function(t,e,a){var i=e.value,o=a.context,n=y(t,i,o);w(n),m(n,n.$ci.currencyFormat.parse(n.value))},componentUpdated:function(t,e,a){var i=e.value,o=e.oldValue,n=a.context;if(!g(i,o)){var r=y(t,i,n);S(r,r.$ci.numberValue,!0)}}},P={render:function(t){var e=this;return t("input",{directives:[{name:"currency",value:this.options}],on:Object.assign({},this.$listeners,{change:function(t){t.detail&&e.$emit("change",t.detail.numberValue)},input:function(t){t.detail&&e.value!==t.detail.numberValue&&e.$emit("input",t.detail.numberValue)}})})},directives:{currency:x},name:"CurrencyInput",props:{value:{type:Number,default:null},locale:{type:String,default:void 0},currency:{type:[String,Object],default:void 0},distractionFree:{type:[Boolean,Object],default:void 0},precision:{type:[Number,Object],default:void 0},autoDecimalMode:{type:Boolean,default:void 0},valueAsInteger:{type:Boolean,default:void 0},valueRange:{type:Object,default:void 0},allowNegative:{type:Boolean,default:void 0}},mounted:function(){this.setValue(this.value)},computed:{options:function(){var t=this,e=Object.assign({},this.$CI_DEFAULT_OPTIONS||p);return Object.keys(p).forEach(function(a){void 0!==t[a]&&(e[a]=t[a])}),e}},watch:{value:"setValue"},methods:{setValue:function(t){m(this.$el,t)}}},D={install:function(t,e){void 0===e&&(e={});var a=e.componentName;void 0===a&&(a=P.name);var i=e.directiveName;void 0===i&&(i="currency");var o=e.globalOptions;void 0===o&&(o={}),t.prototype.$CI_DEFAULT_OPTIONS=Object.assign({},p,o),t.component(a,P),t.directive(i,x),t.prototype.$parseCurrency=function(t,e){return void 0===e&&(e={}),h(t,Object.assign({},o,e))}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(D),e.default=D},"2+Hj":function(t,e,a){"use strict";a.r(e);var i=a("/oVz"),o=a("FY3r");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var r=a("KHd+"),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);s.options.__file="variantImageUpload.vue",e.default=s.exports},"5Zti":function(t,e,a){"use strict";a.r(e);var i=a("UY5L"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},"5t4s":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-center color-white--bg",staticStyle:{"z-index":"10"}},[t._v("\n        Hubungkan ke Toko Olsera\n        "),a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1),t._v(" "),a("div",{staticClass:"p-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"flex-container full-width"},[t.formEdit.images?a("div",{staticStyle:{position:"relative"}},[a("el-avatar",{attrs:{src:t.formEdit.images[0],size:32,shape:"square"}}),t._v(" "),a("el-avatar",{staticStyle:{position:"absolute",right:"0"},attrs:{src:"/static/img/shopee.png",size:20}})],1):t._e(),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                  "+t._s(t.formEdit.name)+"\n                ")]),t._v(" "),a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  Need variant here: "+t._s(t.formEdit.product_id_shopee)+"\n                ")]),t._v(" "),a("div",{staticClass:"font-12 ml-8"},[void 0===t.formEdit.price||""===t.formEdit.price?[t._v("\n                    Need price here •\n                  ")]:[t._v("\n                    "+t._s(t.formEdit.price)+" •\n                  ")],t._v(" "),""===t.formEdit.sku||null===t.formEdit.sku||void 0===t.formEdit.sku?[t._v("\n                    Need sku/code here\n                  ")]:t._e(),t._v(" "),[t._v("\n                    "+t._s(t.formEdit.sku)+"\n                  ")]],2)])])]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{width:"30%"}},[t._v("\n            "+t._s(t.formEdit.stock)+" stock\n          ")])])]),t._v(" "),a("div",{staticClass:"table-handler-flex full-width text-right px-24"},[a("el-input",{staticClass:"inline-form input-search full-width",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:function(e){return t.handleSearch()}},model:{value:t.params.search,callback:function(e){t.$set(t.params,"search",e)},expression:"params.search"}})],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSearch,expression:"loadingSearch"}],staticClass:"p-24 text-center mb-42"},[0===t.dataSearch.length?a("div",[a("img",{attrs:{src:"/static/img/service-activation/tokopedia/no_product_search.png"}}),t._v(" "),a("div",{staticClass:"text-center font-18 mt-12"},[t._v("Produk tidak ditemukan")])]):a("div",[t._l(t.dataSearch,function(e){return a("div",{key:e.id,staticClass:"like-table-wrapper--item pointer flex-container",class:t.selectedProduct&&t.selectedProduct.id===e.id?"active":"",attrs:{id:"here"},on:{click:function(a){return t.handleSelect(e)}}},[a("div",{staticClass:"full-width text-left"},[a("div",{staticClass:"flex-container full-width"},[a("el-avatar",{attrs:{src:e.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"container-icon",staticStyle:{position:"absolute","align-items":"unset !important",left:"50px"}},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                    "+t._s(e.name)+"\n                  ")]),t._v(" "),null!==e.sku&&""!==e.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                    "+t._s(e.fsell_price)+" • "+t._s(e.sku)+"\n                  ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                    "+t._s(e.fsell_price)+"\n                  ")])])],1)]),t._v(" "),t.selectedProduct&&t.selectedProduct.id===e.id?a("div",{staticClass:"container-icon"},[a("svg-icon",{attrs:{"icon-class":"awesome-check-circle"}})],1):a("div",{staticClass:"text-right",staticStyle:{width:"40%"}},[t._v("\n              "+t._s(e.qty)+" stock\n            ")])])}),t._v(" "),t.last_page>t.current_page?a("el-button",{staticClass:"btn-block",on:{click:t.getMoreProduct}},[t._v("\n            "+t._s(t.rootLang.load_more)+"\n          ")]):t._e()],2)]),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer"},[t.fromBulk?a("el-button",{staticClass:"btn-block",attrs:{loading:t.loadingPair,disabled:t.disabledSave,type:"success"},on:{click:t.handleSave}},[t._v("\n          "+t._s(t.rootLang.save)+"\n        ")]):a("el-button",{staticClass:"btn-block",attrs:{loading:t.loadingPair,disabled:t.disabledSave,type:"shopee"},on:{click:t.syncProduct}},[t._v("\n          Hubungkan\n        ")])],1)])]):t._e()])},o=[]},"8NbL":function(t,e,a){"use strict";a.r(e);var i=a("LC79"),o=a("V0YH");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);a("RoVZ");var r=a("KHd+"),s=Object(r.a)(o.default,i.a,i.b,!1,null,"75f184da",null);s.options.__file="manage.vue",e.default=s.exports},"9Jsc":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"before-close":t.handleClose,"show-close":!1,"append-to-body":"","custom-class":"without-padding mw-1020"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[t._v("\n      "+t._s(t.rootLang.pair_product)+"\n    ")]),t._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:t.handleClose}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{loading:t.loadingSavePair,type:"success"},on:{click:t.handleSavePair}},[t._v(t._s(t.rootLang.pair))])],1)]),t._v(" "),0===t.dataProduct.length?a("div",{staticClass:"no-data-wrapper border border--grey p-32 align-center mt-16",staticStyle:{display:"flex","flex-direction":"column"}},[a("img",{staticClass:"no-data-image",attrs:{src:"/static/img/service-activation/shopee/no-product-shopee.png"}}),t._v(" "),a("div",{staticClass:"text-center word-break",staticStyle:{width:"360px"}},[t._v("Sip! Semua produk di Shopee telah dihubungkan dengan produk di toko Olseramu")])]):[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"sales-table-max-height mobile-fix-height-unset",attrs:{data:t.dataProductHeader,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"Product Lazada"}},[a("template",{slot:"header"},[a("div",{staticClass:"mr-8 full-width flex-container"},[a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})],1),t._v(" "),a("div",{staticClass:"font-bold font-14"},[t._v("\n              Product Shopee\n            ")])])])],2),t._v(" "),a("el-table-column",{attrs:{label:"Stock",width:"100",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"Product Olsera"}},[a("template",{slot:"header"},[a("div",{staticClass:"mr-8 full-width flex-container"},[a("div",{staticClass:"font-bold font-14 full-width"},[t._v("\n              Product Olsera\n            ")]),t._v(" "),a("div",{staticStyle:{width:"20%"}},[t._v("\n              Stock\n            ")])])])],2)],1),t._v(" "),a("perfect-scrollbar",{staticClass:"scrollBulkPair"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingBulk,expression:"loadingBulk"}],staticClass:"sales-table-max-height mobile-fix-height-unset",attrs:{data:t.dataProd,"show-header":!1,stripe:"",border:""}},[a("el-table-column",{attrs:{label:"Product Lazada"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"mr-8 flex-container full-width",on:{click:function(a){return t.handleCheck(e.row)}}},[a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:function(a){return t.handleCheck(e.row)}},model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}})],1),t._v(" "),a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pictures,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/shopee.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8 word-break"},[t._v("\n                  "+t._s(e.row.name)+"\n                ")])])])]}}])},[a("template",{slot:"header"},[a("div",{staticClass:"mr-8 full-width flex-container"},[a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})],1),t._v(" "),a("div",{staticClass:"font-bold font-14"},[t._v("\n                Product Shopee\n              ")])])])],2),t._v(" "),a("el-table-column",{attrs:{label:"Stock",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"font-14 px-12",staticStyle:{width:"30%"}},[t._v("\n                "+t._s(e.row.stock)+"\n              ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Product Olsera"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-container full-width px-12 py-8 radius-50 border border--primary",staticStyle:{"max-width":"415px"},style:t.bgOlseradiv[t.idx],on:{mouseover:function(e){return t.setBg(t.idx)},mouseleave:function(e){return t.setBg1(t.idx)}}},[a("div",{staticClass:"font-14 full-width"},[null===e.row.recomendation&&null===e.row.pair?a("div",{staticClass:"pointer",on:{click:function(a){return t.handlePair(e.row)}}},[t._v(t._s(t.rootLang.select)+" Product Olsera")]):null!==e.row.recomendation&&null===e.row.pair?a("div",{staticClass:"flex-container",on:{click:function(a){return t.handlePair(e.row)}}},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.recomendation.pictures,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",{staticClass:"overflow-ellipsis font-bold full-width font-14 ml-8 word-break"},[t._v("\n                    "+t._s(e.row.recomendation.name)+"\n                    "),a("div",{staticClass:"font-8",attrs:{id:"stock"}},[t._v("\n                      OTOMATIS\n                    ")])]),t._v(" "),a("div",{staticClass:"font-14 text-right",staticStyle:{width:"20%"},attrs:{id:"stock"}},[t._v("\n                    "+t._s(e.row.recomendation.stock_qty)+"\n                  ")])]):null!==e.row.pair?a("div",{staticClass:"flex-container",on:{click:function(a){return t.handlePair(e.row)}}},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pair.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",{staticClass:"overflow-ellipsis full-width font-bold font-14 ml-8 word-break"},[t._v("\n                    "+t._s(e.row.pair.name)+"\n                  ")]),t._v(" "),a("div",{staticClass:"font-14 text-right",staticStyle:{width:"20%"},attrs:{id:"stock"}},[t._v("\n                    "+t._s(e.row.pair.qty)+"\n                  ")])]):t._e()])])]}}])})],1)],1),t._v(" "),t.meta.totalProduct>0?a("div",{staticClass:"border border--grey-border table-handler-bottom text-center"},[a("el-pagination",{staticStyle:{"margin-bottom":"20px"},attrs:{total:t.meta.totalProduct,"page-sizes":[15,50,100],"page-size":t.meta.page_size,"current-page":t.meta.currentPage,background:"",layout:"sizes, prev, pager, next"},on:{"update:currentPage":function(e){return t.$set(t.meta,"currentPage",e)},"update:current-page":function(e){return t.$set(t.meta,"currentPage",e)},"current-change":t.handleChangePage,"size-change":t.handleChangeSizePage}})],1):t._e()],t._v(" "),a("offscreen-sync-product",{attrs:{show:t.visibleSynProduct,"form-edit":t.tempDataSync,"from-bulk":!0},on:{setproduct:t.handleSetProduct,cancel:function(e){t.visibleSynProduct=!1}}})],2)},o=[]},BqIy:function(t,e,a){"use strict";a.r(e);var i=a("9Jsc"),o=a("e/E0");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var r=a("KHd+"),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);s.options.__file="dialogBatchPair.vue",e.default=s.exports},DChC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(a("QbLZ")),o=n(a("Ljqw"));function n(t){return t&&t.__esModule?t:{default:t}}var r={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var t=this.$store.getters.token;return this.$store.getters.webviewMode&&(t=this.$store.getters.webviewToken),{Authorization:"Bearer "+t.access_token}},baseURL:function(){return o.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var t=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],e=[];return this.$store.getters.stores.map(function(a){e.includes(a.store_id)||a.is_store_active&&(t.push((0,i.default)({},a)),e.push(a.store_id))}),t},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};e.default=r},FY3r:function(t,e,a){"use strict";a.r(e);var i=a("l/8r"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},FyfS:function(t,e,a){t.exports={default:a("fUKC"),__esModule:!0}},LC79:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-fullscreen",{staticClass:"page-fullscreen-blibli",attrs:{title:"Shopee"},on:{close:function(e){return t.$router.push("/service-activation-v2")}},scopedSlots:t._u([{key:"sticky-top",fn:function(){return[a("div",{staticClass:"card-dual"},[a("card-info",{staticClass:"card-dual__item",attrs:{title:t.shopeeStore.shop_name,desc:t.shopeeStore.jumlah_product+" "+t.lang.product,thumbnail:t.shopeeStore&&t.shopeeStore.images&&t.shopeeStore.images.length?t.shopeeStore.images[0]:"/static/img/shopee.png","merchant-store":t.dataMerchant,"is-loading":t.isLoadingMerchant,"marketplace-id":"Shopee"},on:{addmerchant:t.handleAddMerchant,changemerchant:t.handleChangeMerchant},scopedSlots:t._u([{key:"button",fn:function(){return[a("el-button",{attrs:{type:"text"},on:{click:t.syncDataProduct}},[t._v("\n            Perbarui "),a("svg-icon",{attrs:{"icon-class":"refresh-icon"}})],1),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link font-18 color-info"},[a("svg-icon",{attrs:{"icon-class":"more-vertical"}})],1),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-setting"}},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.showDialogCategorySet=!0}}},[t._v("\n                  "+t._s(t.rootLang.category_setting)+"\n                ")])],1),t._v(" "),a("el-dropdown-item",{attrs:{icon:"el-icon-close"}},[a("el-button",{staticClass:"color-danger",attrs:{type:"text"},on:{click:function(e){t.showDialogConfirmDeAuth=!0}}},[a("div",[t._v("Hapus Integrasi")])])],1)],1)],1)]},proxy:!0}])}),t._v(" "),a("card-info",{staticClass:"card-dual__item",attrs:{title:t.selectedStore.name,thumbnail:t.shopeeStore&&t.shopeeStore.merchant_olsera?t.shopeeStore.merchant_olsera.logo:"/static/img/logo-olsera-premium.png",desc:t.shopeeStore&&t.shopeeStore.merchant_olsera?t.shopeeStore.merchant_olsera.jumlah_product+" "+t.lang.product:"0","is-loading":t.isLoadingMerchant},scopedSlots:t._u([{key:"button",fn:function(){return[1===t.merchantSettingStockStatus&&t.totalConflict>0?[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-12"},[a("el-button",{attrs:{type:"warning",round:""},on:{click:function(e){return t.handleSetSameStock()}}},[t._v("Selesaikan "+t._s(t.rootLang.conflict_stock))])],1),t._v(" "),a("el-dropdown",{attrs:{trigger:"click"}},[a("span",{staticClass:"el-dropdown-link font-18 color-info"},[a("svg-icon",{attrs:{"icon-class":"more-vertical"}})],1),t._v(" "),a("el-dropdown-menu",{staticStyle:{"background-color":"#F2F2F2"}},[a("el-dropdown-item",[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingShowDuplicate,expression:"loadingShowDuplicate"}],staticClass:"color-primary flex-container full-width ml-4 pointer",on:{click:t.handleManageDuplicate}},[a("div",{staticClass:"full-width"},[t._v(" Duplikat product ")]),t._v(" "),a("svg-icon",{staticClass:"font-18",attrs:{"icon-class":"feather-copy"}})],1)])],1)],1)],1)]:[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingShowDuplicate,expression:"loadingShowDuplicate"}],staticClass:"color-primary full-width ml-4 pointer text-right",on:{click:t.handleManageDuplicate}},[t._v("\n              Duplikat product\n              "),a("svg-icon",{staticClass:"font-18",attrs:{"icon-class":"feather-copy"}})],1)]]},proxy:!0}])})],1),t._v(" "),a("div",{staticClass:"color-info font-12 pointer mt-16 mb-8",staticStyle:{display:"inline-block"},on:{click:function(e){t.visibleLogs=!0}}},[a("svg-icon",{attrs:{"icon-class":"clock"}}),t._v(" Terakhir update ke Shopee pada "),a("strong",[t._v(t._s(t.dataLogForView.fcreated_time)+" oleh "+t._s(t.dataLogForView.user))])],1),t._v(" "),a("div",{staticClass:"flex-container pb-16"},[a("div",{staticClass:"flex-container flex-grow-1",staticStyle:{"align-items":"center"}},[a("div",{staticClass:"full-width"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"el-select-etalase",attrs:{filterable:"",placeholder:t.rootLang.select+" Category",size:"medium"},on:{change:t.handleFilterbyCategory},model:{value:t.params.category_id,callback:function(e){t.$set(t.params,"category_id",e)},expression:"params.category_id"}},[a("el-option",{attrs:{label:t.lang.all+" "+t.lang.category,value:0}}),t._v(" "),t._l(t.dataCategoryList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.shopee_category_id}})}),t._v(" "),t.moreCategoryList?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingMoreCategory,expression:"loadingMoreCategory"}],staticClass:"load-more mt-24"},[a("el-button",{staticClass:"btn-block",on:{click:t.loadMoreCategoryList}},[t._v("\n                  "+t._s(t.$lang[t.langId].load_more)+"\n                ")])],1):t._e()],2)],1)]),t._v(" "),a("div",{staticClass:"px-8 font-20"},[t._v("|")]),t._v(" "),t.dataProduct.length?[a("el-button",{class:t.visibleItem[3]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{disabled:!t.conflictStock,type:"warning",loading:t.loading},on:{click:function(e){return t.showGroup("conflict")}}},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}}),t._v("\n            "+t._s(t.rootLang.conflict_stock)+"\n          ")],1),t._v(" "),a("el-button",{class:t.visibleItem[0]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon",loading:t.loading},on:{click:function(e){return t.showGroup("all")}}},[t._v("\n              Semua\n          ")]),t._v(" "),a("el-button",{class:t.visibleItem[1]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon",loading:t.loading},on:{click:function(e){return t.showGroup("not_pair")}}},[t._v("\n              Belum Terhubung ("+t._s(t.totalUnpair)+")\n          ")]),t._v(" "),a("el-button",{class:t.visibleItem[2]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon",loading:t.loading},on:{click:function(e){return t.showGroup("pair")}}},[a("svg-icon",{staticClass:"color-warning mr-4",attrs:{"icon-class":"link-2"}}),t._v("\n            Terhubung ("+t._s(t.totalPair)+")\n          ")],1)]:[a("el-button",{class:t.visibleItem[0]?"active tag-button-tokped box-shadow-null":"tag-button-tokped box-shadow-null",attrs:{type:"info-addon"},on:{click:function(e){return t.showGroup("all")}}},[t._v("\n              Semua\n          ")])]],2),t._v(" "),a("div",{staticClass:"text-right ml-10"},[a("div",{staticClass:"table-handler-flex full-width text-right",staticStyle:{display:"unset"}},[a("el-input",{staticClass:"input-search",attrs:{placeholder:t.lang.search,clearable:"","prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearchByEnter.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)])])]},proxy:!0},{key:"sticky-bottom",fn:function(){return[t.dataProduct.length?a("card-info",{attrs:{title:"Update Stock ke Shopee"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n        Update Stock ke Shopee\n      ")]},proxy:!0},{key:"button",fn:function(){return[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"full-width text-right px-8"},[a("span",[t._v("Samakan stok dgn Toko Olsera")]),t._v(" "),a("el-switch",{staticClass:"mr-8 ml-8",attrs:{slot:"reference","active-value":1,"inactive-value":0},on:{change:t.handleSetSameStock},slot:"reference",model:{value:t.settingStockSwitch,callback:function(e){t.settingStockSwitch=e},expression:"settingStockSwitch"}})],1)])]},proxy:!0}],null,!1,3180788305)}):t._e()]},proxy:!0}])},[t._v(" "),a("fixed-table",{attrs:{headers:["Produk Shopee","Stok","Produk Olsera","Stok",""],data:t.dataProduct,cols:["product_shopee","stock_shopee","product_olsera","stock_olsera","control"],"fixed-top":"193px","fixed-bottom":"76px","total-data":t.meta.totalProduct,"current-page":t.meta.currentPage,"per-page":t.params.per_page,loading:t.loading,"empty-desc":"Oops, belum ada produk di "+t.selectedStore.name+". Tekan Sinkron Produk lalu hubungkan produk di Shopee ke Toko Olseramu."},on:{changepage:t.handleChangePage,"change-size":t.handleChangeSizePage},scopedSlots:t._u([{key:"header-4",fn:function(){return[a("el-button",{staticClass:"btn-block",attrs:{type:"shopee",loading:t.loadingBulk},on:{click:t.getDataBulkProduct}},[t._v("\n        Sekaligus\n      ")])]},proxy:!0},{key:"product_shopee",fn:function(e){return[a("div",{staticClass:"mr-8 ml-8 flex-container full-width"},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pictures,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/shopee.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8",staticStyle:{"max-width":"300px"}},[t._v("\n          "+t._s(e.row.name)+"\n          "),a("div",{staticClass:"font-12 color-grey--placeholder"},[t._v(t._s(e.row.sku))])])])]}},{key:"stock_shopee",fn:function(e){return[a("div",{class:1===e.row.balance_stock?"font-14 px-8 color-warning":"font-14 px-8",staticStyle:{width:"30%"}},[t._v("\n        "+t._s(e.row.stock)+"\n      ")])]}},{key:"product_olsera",fn:function(e){return[a("div",{staticClass:"font-14 full-width"},[2===e.row.status?a("div",[t._v(t._s(t.rootLang.not_pair))]):t._e(),t._v(" "),1===e.row.status?a("div",{staticClass:"flex-container p-8",staticStyle:{"align-items":"flex-start !important"}},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pair.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8"},[t._v("\n            "+t._s(e.row.pair.name)+"\n            "),a("div",{staticClass:"font-12 color-grey--placeholder"},[t._v(t._s(e.row.pair.sku))])])]):t._e()])]}},{key:"stock_olsera",fn:function(e){return[1===e.row.status?a("div",{staticClass:"font-14",staticStyle:{width:"30%"},attrs:{id:"stock"}},[t._v("\n        "+t._s(e.row.pair.stock)+"\n      ")]):a("div",[t._v("\n        -\n      ")])]}},{key:"control",fn:function(e){return[a("div",{staticClass:"flex-container justify-center"},[2===e.row.status?a("el-button",{attrs:{id:e.row.product_id,type:"pair-shopee",round:""},on:{click:function(a){return t.handlePair(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"plus"}}),t._v("\n            Hubungkan\n        ")],1):t._e(),t._v(" "),1===e.row.status&&2===e.row.balance_stock?a("el-button",{attrs:{type:"shopee",round:""},on:{click:function(a){return t.handleDetail(t.idx,e.row)}}},[a("svg-icon",{attrs:{"icon-class":"icon-feather-link-white"}}),t._v("\n            "+t._s(t.rootLang.paired)+"\n        ")],1):t._e(),t._v(" "),1===e.row.status&&1===e.row.balance_stock?a("el-button",{attrs:{type:"warning",round:""},on:{click:function(a){return t.handleDetail(t.idx,e.row)}}},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}}),t._v("\n            "+t._s(t.rootLang.conflict_stock)+"\n        ")],1):t._e()],1)]}}])}),t._v(" "),t._v(" "),a("el-dialog",{attrs:{visible:t.showSetSameStock,"show-close":!1,"close-on-click-modal":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showSetSameStock=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n        Samakan Stock\n      ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:t.cancelSameStock}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"shopee",loading:t.loadingUpdateStock},on:{click:function(e){0===t.merchantSettingStockStatus?t.handleUpdateStock(!1):t.handleUpdateStock(!0)}}},[t._v("\n          "+t._s(t.lang.update)+"\n        ")])]],2),t._v(" "),a("div",[1===t.merchantSettingStockStatus?a("div",{staticClass:"mb-24 color-warning--bg color-white radius-10 p-8 flex-container"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}})],1),t._v("\n        "+t._s(t.totalConflict)+" produk konflik ditemukan\n      ")]):t._e(),t._v(" "),a("img",{attrs:{src:"/static/img/service-activation/shopee/sync_product.png"}}),t._v(" "),a("div",{staticClass:"mt-24 word-break font-16"},[a("span",{staticClass:"font-bold"},[t._v("Update Stok ke Shopee")]),t._v(" untuk menyamakan stok Shopee dengan stok produk di toko Olseramu\n      ")])])]),t._v(" "),a("el-dialog",{attrs:{visible:t.showUpdateStock,"show-close":!1,"close-on-click-modal":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showUpdateStock=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[[a("close-esc",{attrs:{hideEsc:!0},on:{close:t.cancelSameStock}})]],2),t._v(" "),a("div",[a("img",{staticStyle:{"margin-top":"8px"},attrs:{src:"/static/img/service-activation/shopee/update_stock_2.png",width:"100%"}}),t._v(" "),a("div",{staticClass:"mt-24 word-break font-16"},[t._v("\n        Stok produk di Shopee saat ini dibolehkan berbeda dengan produk di toko Olseramu. Nyalakan pelatuk untuk menyamakan stok produk Shopee dan Olsera.\n      ")])]),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-block",attrs:{type:"shopee",loading:t.loadingUpdateStock},on:{click:function(e){return t.handleUpdateStock(!1)}}},[t._v("OK")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.showDialogConfirmDeAuth,"show-close":!1,"close-on-click-modal":!1,width:"344px","append-to-body":""},on:{"update:visible":function(e){t.showDialogConfirmDeAuth=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"}),t._v(" "),a("div",{staticClass:"text-center"},[a("div",{staticClass:"font-18 font-bold text-center"},[t._v("\n        Apakah Anda yakin ingin menghapus integrasi Shopee di Olsera?\n      ")]),t._v(" "),a("div",{staticClass:"font-14 mt-24"},[t._v("\n        Setelah dihapus, proses integrasi Shopee akan dimulai dari awal.\n      ")])]),t._v(" "),a("div",{staticClass:"flex-container",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"btn-block",on:{click:function(e){t.showDialogConfirmDeAuth=!1}}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{staticClass:"btn-block",attrs:{type:"shopee",loading:t.loadingDeauthorize},on:{click:t.handleDeleteIntegration}},[t._v("Hapus integrasi")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.showDialogCategorySet,"show-close":!1,"close-on-click-modal":!1,width:"696px","append-to-body":""},on:{"update:visible":function(e){t.showDialogCategorySet=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n        "+t._s(t.rootLang.category_setting)+"\n      ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.showDialogCategorySet=!1}}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"shopee",loading:t.loadingSaveCategory},on:{click:t.handleSaveCategorySet}},[t._v("\n        "+t._s(t.rootLang.save))])]],2),t._v(" "),a("div",{staticClass:"font-14"},[t._v("\n      "+t._s(t.rootLang.category_setting_head_caption)+"\n    ")]),t._v(" "),a("div",{staticClass:"table-handler-flex full-width text-right",staticStyle:{"margin-top":"16px"}},[a("el-input",{staticClass:"inline-form input-search full-width",attrs:{size:"small","prefix-icon":"el-icon-search",clearable:"",placeholder:t.rootLang.search_olsera_category,disabled:t.loadinFetchCategory},on:{change:t.handleOnBlurCategoryShopee},model:{value:t.textSearchCategory,callback:function(e){t.textSearchCategory=e},expression:"textSearchCategory"}})],1),t._v(" "),a("div",{staticClass:"flex-container",staticStyle:{"margin-top":"16px","margin-bottom":"24px"}},t._l([{caption:t.rootLang.all,methodPayload:"all",amount:t.totalStatsCategory.all},{caption:t.rootLang.not_pair,methodPayload:"unpaired",amount:t.totalStatsCategory.unpaired},{caption:t.rootLang.paired,methodPayload:"paired",amount:t.totalStatsCategory.paired}],function(e){return a("el-button",{key:e.caption,attrs:{type:"info-addon",round:"",disabled:t.loadinFetchCategory||t.categoryPairStatus===e.methodPayload},on:{click:function(a){return t.handleFilterCategory(e.methodPayload)}}},[t._v("\n        "+t._s(e.caption)+" ("+t._s(e.amount)+")\n      ")])}),1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadinFetchCategory,expression:"loadinFetchCategory"}]},[0!==t.dataCategory.length?t._l(t.dataCategory,function(e,i){return a("div",{key:e.olsera_category_id,staticClass:"flex-container mt-8"},[a("div",{staticClass:"full-width",class:""!==e.selectedCat.shopee_category_id?"bg-soft-orange":"color-info--bg "},[a("div",{staticClass:"p-8"},[a("div",{staticClass:"font-14"},[t._v(t._s(e.olsera_category_name))])])]),t._v(" "),a("div",{staticClass:"full-width"},[a("el-select",{staticClass:"full-width",attrs:{"value-key":"name",filterable:"",clearable:"",remote:"",placeholder:t.rootLang.search_shopee_category,loading:t.loadingSearchShopeeOpt,"remote-method":function(e){return t.getSearchCategoryShopee(e,i)}},on:{change:function(){return t.handleOnChangeCategoryShopee(i)},clear:function(){return t.handleOnClearCategoryShopee(i)}},model:{value:e.selectedCat,callback:function(a){t.$set(e,"selectedCat",a)},expression:"cat.selectedCat"}},t._l(e.optionCat,function(t){return a("el-option",{key:t.shopee_category_id,attrs:{label:t.name,value:t}})}),1)],1)])}):[a("div",{staticStyle:{"text-align":"center","margin-top":"20px"}},[t._v(t._s(t.rootLang.data_not_found))])]],2),t._v(" "),t.moreCategory?a("div",{staticClass:"full-width",staticStyle:{"margin-top":"16px"}},[a("el-button",{staticClass:"full-width",attrs:{round:"",type:"shopee",loading:t.loadingMoreCategory},on:{click:t.loadMoreCategory}},[t._v(t._s(t.rootLang.load_more))])],1):t._e()]),t._v(" "),a("offscreen-sync-product",{attrs:{show:t.visibleSynProduct,"form-edit":t.formSync},on:{cancel:t.handleCloseDialogPair}}),t._v(" "),a("duplicate-product",{attrs:{"shopee-store":t.shopeeStore,show:t.showManageDuplicate,"data-product":t.dataProductDuplicate,"loading-data":t.loadingShowDuplicate,"data-summaries":t.dataSummaries,"next-page":t.next_page_duplicate},on:{refresh:t.refreshDataDuplicate,search:t.handleSearchDuplicate,close:function(e){t.showManageDuplicate=!1},filter:t.handleFilterDuplicate,loadmore:t.loadMoreDataDuplicate}}),t._v(" "),a("offscreen-detail-product",{attrs:{show:t.visibleDetailProduct,"form-edit":t.formDetail,"loading-unpair":t.loadingUnpair},on:{refresh:t.refreshData,cancel:t.handleCloseDialogDetail,resync:t.handleResync,unpair:t.handleUnpair}}),t._v(" "),a("dialog-batch-pair",{attrs:{show:t.showBulkPair,"data-product":t.dataProductBulk,meta:t.metaBulk,"loading-bulk":t.loadingBulk},on:{save:t.saveBulkPair,close:t.closeBulkPair,changepage:t.handleChangePageBulk,changepagesize:t.handleChangeSizePageBulk}}),t._v(" "),a("shopee-dialog-before-integration",{attrs:{show:t.visibleShopeeBeforeIntegration,"loading-submit":t.loadingSubmitShopee},on:{cancel:function(e){t.visibleShopeeBeforeIntegration=!1}}}),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[t.visibleLogs?a("div",{staticClass:"offscreen-right-sidebar"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[t._v("\n          History Update Shopee\n          "),a("close-esc",{on:{close:function(e){t.visibleLogs=!1}}})],1),t._v(" "),a("div",{staticStyle:{height:"80%","max-height":"calc(90vh - 48px)",overflow:"auto"}},[t._l(t.dataLogs,function(e,i){return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingLogs,expression:"loadingLogs"}],key:i,staticClass:"like-table-wrapper"},[t._l(t.dataLogs[i],function(e){return a("div",{key:e.id,staticClass:"like-table-wrapper--item"},[[a("div",{staticClass:"font-bold full-width"},[t._v(t._s(e.user))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(e.fcreated_time))])]],2)}),t._v(" "),t.dataLogs.length>1?a("div",{staticClass:"text-center p-8"},[t._v("page "+t._s(i+1))]):t._e()],2)}),t._v(" "),t.moreLink?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingLogs,expression:"loadingLogs"}],staticClass:"load-more mt-24"},[a("el-button",{staticClass:"btn-block",attrs:{disabled:t.disabledButton},on:{click:t.loadMore}},[t._v("\n              "+t._s(t.$lang[t.langId].load_more)+"\n            ")])],1):t._e()],2)])]):t._e()])],1)},o=[]},RF6F:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a("14Xm")),o=s(a("D3Ub")),n=s(a("DChC")),r=a("xn7b");function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"ShopeeDialogBeforeIntegration",props:{show:{type:Boolean,default:!1},loadingSubmit:{type:Boolean,default:!1}},mixins:[n.default],data:function(){return{showSetup:!1,loadingGetStore:!1,dataUrl:[],showSetupSucces:!1}},computed:{},methods:{cancel:function(){this.$emit("cancel")},submit:function(){this.showSetup=!0},pasteText:function(t){var e=this;navigator.clipboard.readText().then(function(a){e.dataStore.map(function(e){e.id===t&&(e.link=a)})}).catch(function(t){console.error("Failed to read clipboard contents: ",t)})},computedClassStore:function(t){return t.check?"border border--primary border--with-shadow radius-2":"border border--grey-border border--with-shadow radius-2"},fetchAuthUrl:function(){var t=this;this.loadingGetStore=!0,(0,r.authorizationShopee)().then(function(){var e=(0,o.default)(i.default.mark(function e(a){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.dataUrl=a.data.data.redirect_url,t.loadingGetStore=!1,t.showSetup=!0;case 3:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.loadingGetStore=!1,t.$message({type:"error",message:e.string})})},save:function(){var t=[];this.dataStore.map(function(e){e.check&&t.push({merchant_id:e.store_id,shop_url:e.link})}),this.showSetup=!1,this.$emit("submit",t)},signupShopee:function(){window.open("https://shopee.co.id/")},autorizeShopee:function(){window.open(this.dataUrl,"_self")}}}},RoVZ:function(t,e,a){"use strict";var i=a("iR4T");a.n(i).a},UY5L:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(a("GQeE")),o=f(a("YEIV")),n=f(a("FyfS")),r=f(a("m1cH")),s=f(a("QbLZ")),l=f(a("+YKo")),c=f(a("DChC")),d=f(a("XFEm")),u=a("xCek"),p=f(a("Ckak")),h=f(a("2+Hj")),m=a("xn7b");function f(t){return t&&t.__esModule?t:{default:t}}e.default={name:"DuplicateProduct",mixins:[c.default],components:{CloseEsc:d.default,PageFullscreen:l.default,InputMoney:p.default,VariantImageUpload:h.default},props:{shopeeStore:{type:Object,default:function(){}},show:{type:Boolean,default:!1},dataProduct:{type:Array,default:function(){return[]}},fromBulk:{type:Boolean,default:!1},loadingData:{type:Boolean,default:!1},dataSummaries:{type:Object,default:function(){}},nextPage:{type:String,default:null}},data:function(){return{input:"",activeCollapse:"",params:{search:"",per_page:50},tempItem:{Images:[],img_upload:null,variations:[],weightErr:null},shoopeStore:{},showDetailItem:!1,searchCategoryData:[],searchBrandData:[],logistics:[],showInfoInvalidProduct:!1,loadingPair:!1,disabledSave:!1,loadingPreUpload:!1,loadingRequired:!1,loadingDuplicate:!1,scrollOption:{suppressScrollY:!0,suppressScrollX:!1},checkAll:!1,dataChecked:[],checkAllVariant:!1,variantChecked:[],form:{price:"",stock:"",sku:"",initImageVariant:{}},loadingUpload:!1,loadingUploadVariant:!1,loadingCourier:!1,variantImgUpload:null,isEdit:!1,search:""}},computed:{gridStyle:function(){return{gridTemplateColumns:"repeat(2, minmax(100px, 1fr))"}},bgOlseradiv:function(){var t=[];return this.dummyData.map(function(e){t.push("background-color: #FFFFFF")}),t},dataProd:function(){var t=this;return this.dataProduct.map(function(e){return e.checked=!1,t.dataChecked.length>0&&t.dataChecked.map(function(t){e.product_id===t.product_id&&(e.checked=!0)}),e})},variations:function(){var t=this;return this.tempItem.variations.length?this.tempItem.variations.map(function(e){return e.img_upload=null,e.checked=!1,t.variantChecked.length>0&&t.variantChecked.map(function(t){e.variant_id===t.variant_id&&(e.checked=!0)}),e}):[]},batchEditVariantTitle:function(){var t=this.variantChecked.length;return t>0?t+" produk terpilih":"Ubah Data Varian Sekaligus"},uploadPhotoUrl:function(){return(0,u.baseApi)(this.selectedStore.url_id,this.langId,"shopee/duplicate-product/upload-photo")},headersReverify:function(){return{Authorization:"Bearer "+this.token.access_token}}},methods:{handleClose:function(){this.$emit("close")},handleResetForm:function(){for(var t in this.form={price:"",stock:"",sku:""},this.form.initImageVariant)delete this.form.initImageVariant[t];this.checkAllVariant=!1,this.variantChecked=[]},handleEdit:function(t){var e=this;if(this.tempItem=(0,s.default)({},t),this.tempItem.img_upload=null,this.isEdit=!1,null===this.tempItem.SellerSku&&this.getRandom(),t.shopee_category_id){this.isEdit=!0;var a=[].concat((0,r.default)(t.attributes)),i={shopee_shop_id:this.shopeeStore.shop_id};this.loadingRequired=!0,this.tempItem.formRequired=[],(0,m.fetchRequiredForm)(i,t.shopee_category_id).then(function(t){console.log("test",t),e.tempItem.formRequired=[].concat((0,r.default)(t.data.data)),e.tempItem.formRequired.map(function(t){t.value="",t.text_type="",t.error=null,"TEXT_FILED"===t.input_type&&("FLOAT_TYPE"===t.attribute_type?t.text_type="number":"STRING_TYPE"===t.attribute_type&&(t.text_type="text")),a.map(function(e){t.attribute_id===e.attributes_id&&(t.value=e.value)})}),console.log("formReq",e.tempItem.formRequired),e.loadingRequired=!1,e.$forceUpdate()}).catch(function(t){e.loadingRequired=!1,console.log(t)})}this.getPengiriman(),this.showDetailItem=!0},getPengiriman:function(){var t=this;this.loadingCourier=!0;var e={shopee_shop_id:this.shopeeStore.shop_id,weight:this.tempItem.weight,width_dimension:this.tempItem.width_dimension,length_dimension:this.tempItem.length_dimension,high_dimension:this.tempItem.high_dimension};(0,m.getLogistic)(e).then(function(e){t.logistics=[].concat((0,r.default)(e.data.data)),t.logistics.map(function(e){e.enabled=!1,t.tempItem.logistics.map(function(t){e.logistic_id===t.logistic_id&&(e.enabled=t.enabled)})}),t.loadingCourier=!1}).catch(function(e){console.log(e),t.loadingCourier=!1})},getCategorySearch:function(t,e){var a=this;(0,m.recomendationShopee)({},this.tempItem.olsera_category_id).then(function(t){var i=!0,o=!1,r=void 0;try{for(var s,l=(0,n.default)(t.data.data);!(i=(s=l.next()).done);i=!0){var c=s.value;c.value=c.name}}catch(t){o=!0,r=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}a.searchCategoryData=t.data.data,e(a.searchCategoryData)}).catch(function(t){console.log(t)})},handleGetRequired:function(t){var e=this;console.log("dat",t),this.loadingRequired=!0,this.tempItem.shopee_category_id=t.shopee_category_id;var a={shopee_shop_id:this.shopeeStore.shop_id};this.tempItem.formRequired=[],(0,m.fetchRequiredForm)(a,t.shopee_category_id).then(function(t){console.log("test",t),e.tempItem.formRequired=[].concat((0,r.default)(t.data.data)),e.tempItem.formRequired.map(function(t){t.value="",t.text_type="",t.error=null,"TEXT_FILED"===t.input_type&&("FLOAT_TYPE"===t.attribute_type?t.text_type="number":"STRING_TYPE"===t.attribute_type&&(t.text_type="text"))}),e.loadingRequired=!1,e.$forceUpdate()}).catch(function(t){e.loadingRequired=!1,console.log(t)})},getBrandLazada:function(t,e){var a=this,i={keyword:t};(0,m.fetchBrandLazada)(i).then(function(t){var i=!0,o=!1,r=void 0;try{for(var s,l=(0,n.default)(t.data.data);!(i=(s=l.next()).done);i=!0){var c=s.value;c.value=c.name}}catch(t){o=!0,r=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw r}}a.searchBrandData=t.data.data,e(a.searchBrandData)}).catch(function(t){console.log(t),e("No Data")})},handleSaveSingleProduct:function(){var t,e=this;this.loadingPreUpload=!0;var a=(t={product_name:this.tempItem.name,product_id:this.tempItem.product_id},(0,o.default)(t,"product_id",this.tempItem.id),(0,o.default)(t,"has_variant",this.tempItem.has_variant),(0,o.default)(t,"product_variant_id",this.tempItem.variant_id),(0,o.default)(t,"item_sku",this.tempItem.SellerSku),(0,o.default)(t,"product_description",this.tempItem.description),(0,o.default)(t,"product_weight",this.tempItem.package_weight),(0,o.default)(t,"product_sell_price",this.tempItem.price),(0,o.default)(t,"product_stock_qty",this.tempItem.quantity),(0,o.default)(t,"product_photo",this.tempItem.img_upload),(0,o.default)(t,"meta",{primary_category_id:this.tempItem.shopee_primary_category_id}),t);null===a.product_variant_id&&this.$delete(a,"product_variant_id"),null===a.product_photo&&(a.product_photo={file_name:this.tempItem.photo_name}),this.tempItem.formRequired.map(function(t){t.name,a.meta[t.name]=t.value}),console.log("meta",a),this.isEdit?(0,m.updatePreUpload)(a).then(function(t){e.loadingPreUpload=!1,e.showDetailItem=!1,e.$emit("refresh")}).catch(function(t){e.$message({type:"error",message:t.string}),e.loadingPreUpload=!1}):(0,m.savePreUpload)(a).then(function(t){e.loadingPreUpload=!1,e.showDetailItem=!1,e.$emit("refresh")}).catch(function(t){e.$message({type:"error",message:t.string}),e.loadingPreUpload=!1})},saveProductBatch:function(){var t=this;this.loadingDuplicate=!0;var e={shopee_shop_id:this.shopeeStore.shop_id},a={product_id:[]};this.dataChecked.map(function(t){t.checked&&a.product_id.push(t.product_id)}),(0,m.saveDuplicateMulti)(e,a).then(function(e){t.loadingDuplicate=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingDuplicate=!1})},handleFormValidation:function(){var t=0;return(!this.tempItem.weight||this.tempItem.weight<=0)&&(this.tempItem.weightErr="Berat produk harus diisi",t++),this.tempItem.formRequired?this.tempItem.formRequired.map(function(e){e.value||(e.error=e.attribute_name+" harus diisi",t++)}):t++,this.$forceUpdate(),!(t>0)||(this.$message({type:"error",message:"Silahkan lengkapi data produk"}),!1)},resetFormValidation:function(){this.tempItem.weightErr=null,this.tempItem.formRequired&&this.tempItem.formRequired.map(function(t){t.error=null}),this.$forceUpdate()},applyBatchEditVariant:function(){var t=this;this.variantChecked.length&&this.tempItem.variations.length&&this.variantChecked.map(function(e){t.tempItem.variations.map(function(a){if(e.variant_id===a.variant_id){if(t.form.price&&(e.price=t.form.price),t.form.stock&&(e.stock=t.form.stock),t.form.sku){var o=e.name.split(" ").join("");e.variation_sku=t.form.sku+o}(0,i.default)(t.form.initImageVariant).length>0&&(e.file_name=t.form.initImageVariant.file_name,e.photo_xs=t.form.initImageVariant.photo_xs)}})}),this.$forceUpdate()},cancelEditProduct:function(){this.showDetailItem=!1,this.$emit("refresh")},saveSingleProductBatch:function(t){var e=this;if(this.resetFormValidation(),this.handleFormValidation()){0===t?this.loadingPreUpload=!0:this.loadingDuplicate=!0;var a=(0,s.default)({},this.tempItem),i=[],o=[];a.formRequired.map(function(t){i.push({attributes_id:t.attribute_id,value:t.value})}),this.logistics.map(function(t){t.enabled&&o.push({logistic_id:t.logistic_id,enabled:t.enabled})}),delete a.formRequired,a.push_to_shopee=t,a.attributes=[].concat(i),a.logistics=[].concat(o);var n={shopee_shop_id:this.shopeeStore.shop_id};console.log("body",a),(0,m.saveDuplicateProduct)(n,a).then(function(t){e.loadingPreUpload=!1,e.loadingDuplicate=!1,e.showDetailItem=!1,e.$message({type:"success",message:t.data.message}),e.handleResetForm(),e.$emit("refresh")}).catch(function(t){e.loadingPreUpload=!1,e.loadingDuplicate=!1,e.$message({type:"error",message:t.string}),e.handleResetForm()})}},handleSelectBrand:function(t){this.tempItem.formRequired.map(function(e){"brand"===e.name&&(e.value=t.id)})},handleChangeInput:function(){this.$forceUpdate()},showGroup:function(t){this.$emit("filter",t)},loadMore:function(){this.$emit("loadmore")},handleCheck:function(t,e){var a=this;if(console.log("uniq",t.product_id),20!==this.dataChecked.length?this.checkAll=!1:this.checkAll=!0,null===t.shopee_category_id)this.$notify({type:"warning",message:"Silahkan lengkapi data category shopee"}),this.dataProd[e].checked=!1;else{var i=this.dataChecked.some(function(e){return e.product_id===t.product_id});console.log("ex",i),i?this.dataChecked.map(function(e,i){e.product_id===t.product_id&&a.dataChecked.splice(i,1)}):null!==t.shopee_category_id&&this.dataChecked.length<20?this.dataChecked.push(t):this.$notify({type:"warning",message:"Max 20 item terpilih"})}this.$forceUpdate()},handleCheckVariant:function(t){var e=this,a=this.variantChecked.some(function(e){return e.variant_id===t.variant_id});console.log("ex",a),a?this.variantChecked.map(function(a,i){a.variant_id===t.variant_id&&e.variantChecked.splice(i,1)}):this.variantChecked.push(t),this.variantChecked.length!==this.variations.length?this.checkAllVariant=!1:this.checkAllVariant=!0,this.$forceUpdate()},handleSaveEdit:function(){var t=this,e=this.tempItem,a={};e.formRequired.map(function(t){a[t.name]=t.value}),e.shopee_attributes=a;var i=this.dataChecked.some(function(t){return t.product_id===e.product_id});console.log("ex",i),i?(this.dataChecked.map(function(a,i){a.product_id===e.product_id&&t.dataChecked.splice(i,1)}),this.dataChecked.push(e)):null!==e.shopee_primary_category_id&&this.dataChecked.push(e);var o=null;this.dataProduct.map(function(t,a){t.product_id===e.product_id&&(o=a)}),this.dataProduct[o]=e,this.showDetailItem=!1},beforeUpload:function(t){var e="image/jpeg"===t.type;return e||this.$message.error(this.$lang[this.langId].error_upload_photo),e},handleUploadProgress:function(t){this.loadingUpload=!0},handleUploadSuccess:function(t,e,a){console.log("res",t),this.tempItem.img_upload=t.data[0],this.tempItem.file_name=t.data[0].file_name,this.loadingUpload=!1},handleUploadError:function(t){this.loadingUpload=!1,this.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})},handleUploadSuccessVariant:function(t,e){this.tempItem.variations.map(function(a){a.variant_id===e.variant_id&&(a.file_name=t.file_name)}),console.log("tempItem after upload",this.tempItem.variations)},handleUploadAllVariant:function(t){this.form.initImageVariant=t,console.log("tempItem after upload",this.tempItem.variations)},handleSearch:function(t){var e={search_text:"",search_column:"name"};""!==t?(this.$set(e,"search_text",t),this.$set(e,"search_column","name")):(this.$delete(e,"search_text"),this.$delete(e,"search_column")),this.$emit("search",e)},handleSearchByEnter:function(){var t={search_text:"",search_column:"name"};""!==this.search?(this.$set(t,"search_text",this.search),this.$set(t,"search_column","name")):(this.$delete(t,"search_text"),this.$delete(t,"search_column")),this.$emit("search",t)},handleCheckAll:function(t){var e=this;console.log("dds",t),t?(this.dataChecked=[],this.dataProd.map(function(t){null!==t.shopee_category_id&&e.dataChecked.length<20&&e.dataChecked.push(t)})):this.dataChecked=[]},handleCheckAllVariant:function(t){var e=this;console.log("dds",t),t?(this.variantChecked=[],this.variations.map(function(t){e.variantChecked.push(t)})):this.variantChecked=[]},randomString:function(t,e){e=e||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var a="",i=0;i<t;i++){var o=Math.floor(Math.random()*e.length);a+=e.substring(o,o+1)}return a},getRandom:function(){this.tempItem.SellerSku=this.randomString(8)},isWarnData:function(t){return null===t.shopee_category_id||(parseInt(t.stock)<1||(parseInt(t.price)<1e3||(parseInt(t.weight)<1||(null===t.sku||null===t.filename))))}}}},V0YH:function(t,e,a){"use strict";a.r(e);var i=a("gN5z"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},Wkzx:function(t,e,a){"use strict";a.r(e);var i=a("tffU"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},bKoQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchAll=function(t){return(0,i.service)({url:"/thirdparty",params:t})},e.fetchByStore=function(t){return(0,i.service)({url:"/thirdparty-bystore",params:t})},e.fetchSingle=function(t,e){return(0,i.service)({url:"/thirdparty/"+t,params:e})},e.create=function(t){return(0,i.service)({url:"/thirdparty",method:"POST",data:t})},e.update=function(t){return(0,i.service)({url:"/thirdparty/"+t.id,method:"PUT",data:t})},e.destroy=function(t){return(0,i.service)({url:"/thirdparty/"+t,method:"DELETE"})},e.installmentList=function(t){return(0,i.service)({url:"/installment-list",method:"POST",data:t})};var i=a("xCek")},bdWX:function(t,e,a){"use strict";a.r(e);var i=a("biij"),o=a("5Zti");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);a("ztiq");var r=a("KHd+"),s=Object(r.a)(o.default,i.a,i.b,!1,null,"5f61822c",null);s.options.__file="duplicateProduct.vue",e.default=s.exports},biij:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left color-white--bg",staticStyle:{"z-index":"10"}},[t._v("\n        Duplikat produk ke Shopee\n        "),a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1),t._v(" "),a("div",{staticClass:"table-handler-flex full-width text-right px-24"},[a("el-input",{staticClass:"inline-form input-search full-width",attrs:{clearable:"",placeholder:t.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearchByEnter.apply(null,arguments)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),a("perfect-scrollbar",{staticClass:"horizontal-scroll",attrs:{options:t.scrollOption}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],staticClass:"flex-container py-12 px-24"},[a("el-button",{attrs:{type:"info-addon",round:""},on:{click:function(e){return t.showGroup("all")}}},[t._v("\n                Semua\n            ")]),t._v(" "),a("el-button",{attrs:{type:"info-addon",round:""},on:{click:function(e){return t.showGroup("not_duplicate")}}},[t._v("\n                "+t._s(t.rootLang.cant_duplicate)+" ("+t._s(t.dataSummaries.cannot)+")\n            ")]),t._v(" "),a("el-button",{attrs:{type:"info-addon",round:""},on:{click:function(e){return t.showGroup("can_duplicate")}}},[t._v("\n                "+t._s(t.rootLang.can_duplicate)+" ("+t._s(t.dataSummaries.can)+")\n            ")])],1)]),t._v(" "),a("div",{staticClass:"px-12 mt-24"},[a("div",{staticClass:"color-info--bg p-12 flex-container flex-container--start"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey--icon",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",[t._v("\n            "+t._s(t.dataSummaries.cannot)+" produk tidak dapat diduplikasi ke Shopee karena data kurang lengkap. "),a("span",{staticClass:"color-primary pointer",on:{click:function(e){t.showInfoInvalidProduct=!0}}},[t._v(" Selengkapnya ")])])])]),t._v(" "),a("div",{staticClass:"like-table-wrapper border border--table-border mt-24"},[a("div",{staticClass:"flex-container mt-16"},[a("div",{staticClass:"full-width px-24 font-bold font-18"},[t._v(t._s(t.rootLang.select)+" "+t._s(t.lang.product))]),t._v(" "),a("div",{staticClass:"px-24"},[a("el-checkbox",{on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})],1)]),t._v(" "),t._l(t.dataProd,function(e,i){return a("div",{key:i,staticClass:"like-table-wrapper--item pointer"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"mr-8 flex-container full-width",on:{click:function(a){return t.handleEdit(e)}}},[a("div",{staticClass:"flex-container"},[null!==e.photo_lg?a("el-avatar",{attrs:{src:e.photo_lg,size:32,shape:"square"}}):t._e(),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/olsera.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8 word-break"},[a("div",{staticClass:"color-primary"},[t._v(t._s(e.name))]),t._v(" "),e.is_completed?a("div",{staticClass:"font-12"},[t._v(t._s(e.shopee_category_name))]):a("div",{staticClass:"color-danger font-12"},[t._v("Data belum lengkap")]),t._v(" "),a("div",{staticClass:"font-12"},[t._v(t._s(e.fprice))])])]),t._v(" "),a("div",{staticClass:"font-14 px-12 text-right",staticStyle:{width:"30%"}},[t._v("\n              "+t._s(e.variations.length)+" varian\n            ")]),t._v(" "),a("div",[null!==e.shopee_category_name&&!0===e.is_completed?a("div",{staticClass:"mr-8"},[a("el-checkbox",{on:{change:function(a){return t.handleCheck(e,i)}},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}})],1):a("div",[a("svg-icon",{staticClass:"mr-8",attrs:{"icon-class":"alert-triangle-yellow"}})],1)])])])})],2),t._v(" "),t.nextPage?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingData,expression:"loadingData"}],staticClass:"load-more mt-24",staticStyle:{"margin-bottom":"100px"}},[a("el-button",{staticClass:"btn-block",on:{click:t.loadMore}},[t._v("\n          "+t._s(t.$lang[t.langId].load_more)+"..\n        ")])],1):t._e(),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer color-white--bg"},[a("el-button",{staticClass:"btn-block mt-24 color-shopee--bg color-white",attrs:{loading:t.loadingDuplicate,disabled:t.disabledSave},on:{click:t.saveProductBatch}},[t._v("\n          "+t._s(t.rootLang.duplicate_product)+"\n        ")])],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.showDetailItem,"show-close":!1,width:"100%",fullscreen:"","append-to-body":""},on:{"update:visible":function(e){t.showDetailItem=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n          Lengkapi Data Produk\n        ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:t.cancelEditProduct}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"shopee",loading:t.loadingPreUpload},on:{click:function(e){return t.saveSingleProductBatch(0)}}},[t._v(t._s(t.lang.save))])]],2),t._v(" "),a("div",{staticClass:"container-768"},[a("div",{staticClass:"px-12 mb-24"},[a("div",{staticClass:"color-info--bg flex-container"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey--icon",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",[t._v("\n              Data produk disini tidak mengubah data produkmu di Olsera\n            ")])])]),t._v(" "),a("div",{staticClass:"like-table-wrapper border border--table-border p-16 mt-24"},[a("div",{staticClass:"flex-container flex-container--start"},[a("div",{staticClass:"mr-8",staticStyle:{width:"30%"}},[a("div",{staticClass:"font-12"},[t._v("Foto Produk")]),t._v(" "),a("div",{staticClass:"flex-container justify-center"},[a("el-upload",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingUpload,expression:"loadingUpload"}],attrs:{action:t.uploadPhotoUrl,headers:t.headersReverify,"before-upload":t.beforeUpload,"show-file-list":!1,"on-progress":t.handleUploadProgress,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError,"list-type":"document-grabfood",accept:"image/jpeg"}},[null!==t.tempItem.img_upload?[a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"8px"},attrs:{src:t.tempItem.img_upload.photo_md,alt:""}})]:[null!==t.tempItem.file_name?a("el-image",{staticStyle:{width:"100px",height:"100px","margin-right":"8px"},attrs:{src:t.tempItem.photo_lg,alt:""}}):a("i",{staticClass:"el-icon-camera"})]],2)],1)]),t._v(" "),a("div",{staticClass:"full-width"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.product_name))]),t._v(" "),a("el-input",{model:{value:t.tempItem.name,callback:function(e){t.$set(t.tempItem,"name",e)},expression:"tempItem.name"}}),t._v(" "),a("div",{staticClass:"font-12 mt-12"},[t._v(t._s(t.lang.price))]),t._v(" "),a("input-money",{model:{value:t.tempItem.price,callback:function(e){t.$set(t.tempItem,"price",e)},expression:"tempItem.price"}}),t._v(" "),a("div",{staticClass:"font-11 mt-12 color-info"},[t._v("Harga diambil dari harga Jual Online Produk")])],1)]),t._v(" "),a("div",{staticClass:"mt-12"},[a("div",{staticClass:"font-12"},[t._v(t._s(t.lang.description))]),t._v(" "),a("el-input",{attrs:{type:"textarea",autosize:"","show-word-limit":""},model:{value:t.tempItem.description,callback:function(e){t.$set(t.tempItem,"description",e)},expression:"tempItem.description"}})],1),t._v(" "),a("div",{staticClass:"flex-container mt-16"},[a("div",{staticClass:"full-width pr-4"},[a("div",{staticClass:"font-12"},[t._v("Kategori Olsera")]),t._v(" "),a("el-input",{attrs:{disabled:""},model:{value:t.tempItem.olsera_category_name,callback:function(e){t.$set(t.tempItem,"olsera_category_name",e)},expression:"tempItem.olsera_category_name"}})],1),t._v(" "),a("div",{staticClass:"full-width pl-4"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingRequired,expression:"loadingRequired"}]},[a("div",{staticClass:"font-12"},[t._v("Kategori Shopee")]),t._v(" "),a("el-autocomplete",{staticClass:"full-width",attrs:{"fetch-suggestions":t.getCategorySearch,placeholder:"Search Category"},on:{select:t.handleGetRequired},model:{value:t.tempItem.shopee_category_name,callback:function(e){t.$set(t.tempItem,"shopee_category_name",e)},expression:"tempItem.shopee_category_name"}})],1)])]),t._v(" "),a("div",{staticClass:"full-width mt-8"},[a("span",{staticClass:"font-12"},[t._v("Produk Berbahaya")]),t._v(" "),a("el-radio-group",{staticClass:"full-width flex-container border border--info",model:{value:t.tempItem.item_dangerous,callback:function(e){t.$set(t.tempItem,"item_dangerous",e)},expression:"tempItem.item_dangerous"}},[a("el-radio-button",{staticClass:"lpoint-type",attrs:{label:!0}},[t._v("\n                Berbahaya\n              ")]),t._v(" "),a("el-radio-button",{staticClass:"lpoint-type",attrs:{label:!1}},[t._v("\n                Tidak Berbahaya\n              ")])],1)],1),t._v(" "),a("div",{staticClass:"full-width mt-8"},[a("span",{staticClass:"font-12"},[t._v("Kondisi")]),t._v(" "),a("el-radio-group",{staticClass:"full-width flex-container border border--info",model:{value:t.tempItem.item_condition,callback:function(e){t.$set(t.tempItem,"item_condition",e)},expression:"tempItem.item_condition"}},[a("el-radio-button",{staticClass:"lpoint-type",attrs:{label:"NEW"}},[t._v("\n                Baru\n              ")]),t._v(" "),a("el-radio-button",{staticClass:"lpoint-type",attrs:{label:"USED"}},[t._v("\n                Pernah dipakai\n              ")])],1)],1)]),t._v(" "),a("div",{staticClass:"like-table-wrapper border border--table-border p-16 mt-24"},[a("div",{staticClass:"div"},[a("div",{staticClass:"font-14 font-bold"},[t._v("\n              Pengiriman\n            ")])]),t._v(" "),a("div",{staticClass:"flex-container mt-8"},[a("el-form",{staticClass:"full-width mr-16",nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticClass:"mb-0",attrs:{error:t.tempItem.weightErr},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"font-12"},[t._v("\n                    "+t._s(t.lang.weight)+" (gram)\n                  ")])]},proxy:!0}],null,!1,4180008275)},[t._v(" "),a("el-input",{attrs:{type:"number",min:"0"},on:{change:t.getPengiriman},model:{value:t.tempItem.weight,callback:function(e){t.$set(t.tempItem,"weight",e)},expression:"tempItem.weight"}})],1)],1),t._v(" "),a("div",{staticClass:"flex-container ml-auto"},[a("el-form",{staticClass:"full-width",nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticClass:"mb-0",scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"font-12"},[t._v("\n                      "+t._s(t.rootLang.long)+" (cm)\n                    ")])]},proxy:!0}],null,!1,614906376)},[t._v(" "),a("el-input",{attrs:{type:"number",min:"0"},on:{change:t.getPengiriman},model:{value:t.tempItem.length_dimension,callback:function(e){t.$set(t.tempItem,"length_dimension",e)},expression:"tempItem.length_dimension"}})],1)],1),t._v(" "),a("el-form",{staticClass:"full-width",nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticClass:"mb-0",scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"font-12"},[t._v("\n                      "+t._s(t.rootLang.wide)+" (cm)\n                    ")])]},proxy:!0}],null,!1,825735741)},[t._v(" "),a("el-input",{attrs:{type:"number",min:"0"},on:{change:t.getPengiriman},model:{value:t.tempItem.width_dimension,callback:function(e){t.$set(t.tempItem,"width_dimension",e)},expression:"tempItem.width_dimension"}})],1)],1),t._v(" "),a("el-form",{staticClass:"full-width",nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-form-item",{staticClass:"mb-0",scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"font-12"},[t._v("\n                      "+t._s(t.rootLang.height)+" (cm)\n                    ")])]},proxy:!0}],null,!1,4095173949)},[t._v(" "),a("el-input",{attrs:{type:"number"},on:{change:t.getPengiriman},model:{value:t.tempItem.high_dimension,callback:function(e){t.$set(t.tempItem,"high_dimension",e)},expression:"tempItem.high_dimension"}})],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"px-12 mb-24 mt-24"},[a("div",{staticClass:"color-info--bg flex-container"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey--icon",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",[t._v("\n                Aktifkan min. 1 jasa kirim. Produk tidak dapat disimpan jika tidak ada jasa kirim yang aktif. Anda juga dapat klik disini untuk menambahkan jasa kirim pada produk Anda.\n              ")])])]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingCourier,expression:"loadingCourier"}]},[a("el-collapse",{model:{value:t.activeCollapse,callback:function(e){t.activeCollapse=e},expression:"activeCollapse"}},t._l(t.logistics,function(e,i){return a("el-collapse-item",{key:e.id,staticClass:"mt-16",attrs:{name:i}},[a("template",{slot:"title"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"ml-null font-bold"},[t._v("\n                      "+t._s(e.logistic_name)+"\n                    ")]),t._v(" "),null!==e.disabled_note?a("div",{staticClass:"ml-8 color-danger"},[t._v("\n                      "+t._s("("+e.disabled_note+")")+"\n                    ")]):t._e(),t._v(" "),a("div",{staticClass:"ml-auto mr-16"},[a("el-switch",{attrs:{"active-value":!0,"inactive-value":!1,disabled:e.disabled},on:{change:function(e){t.activeCollapse=""}},model:{value:e.enabled,callback:function(a){t.$set(e,"enabled",a)},expression:"item.enabled"}})],1)])]),t._v(" "),e.list_logistics.length?a("div",t._l(e.list_logistics,function(e){return a("div",{key:e.name,staticClass:"flex-container"},[a("div",{staticClass:"ml-null"},[t._v("\n                      "+t._s(e.name)+"\n                    ")]),t._v(" "),null!==e.disabled_note?a("div",{staticClass:"ml-8 color-danger"},[t._v("\n                      "+t._s("("+e.disabled_note+")")+"\n                    ")]):t._e()])}),0):t._e()],2)}),1)],1),t._v(" "),a("div",{staticClass:"mt-8",staticStyle:{color:"#999999"}},[a("p",[t._v("Pengaturan jasa kirim hanya akan diterapkan pada produk ini. Ongkir yang dimunculkan adalah tarif dasar yang dapat berubah berdasarkan berat & lokasi Pembeli.")])])]),t._v(" "),a("div",{staticClass:"like-table-wrapper border border--table-border p-16 mt-24"},[a("div",{staticClass:"font-14 font-bold"},[t._v("\n            Spesifikasi\n          ")]),t._v(" "),t.tempItem.formRequired?[a("el-form",{staticClass:"card-list",style:t.gridStyle},t._l(t.tempItem.formRequired,function(e){return a("el-form-item",{key:e.attribute_id,staticClass:"card-item",attrs:{error:e.error},scopedSlots:t._u([{key:"label",fn:function(){return[a("div",{staticClass:"font-12"},[t._v("\n                    "+t._s(e.attribute_name)+"\n                  ")])]},proxy:!0}],null,!0)},[t._v(" "),"DROP_DOWN"===e.input_type||"COMBO_BOX"===e.input_type?a("el-select",{staticClass:"full-width",on:{input:function(a){t.handleChangeInput(),e.error=null}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}},t._l(e.options,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}),1):t._e(),t._v(" "),"TEXT_FILED"===e.input_type?a("el-input",{staticClass:"full-width",attrs:{type:e.text_type},on:{input:function(a){t.handleChangeInput(),e.error=null}},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}}):t._e()],1)}),1)]:t._e()],2),t._v(" "),t.tempItem.variations.length?a("div",{staticClass:"like-table-wrapper border border--table-border p-16 mt-24"},[a("div",{staticClass:"full-width flex-container"},[a("div",{staticClass:"mr-null"},[a("el-checkbox",{on:{change:t.handleCheckAllVariant},model:{value:t.checkAllVariant,callback:function(e){t.checkAllVariant=e},expression:"checkAllVariant"}})],1),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-8"},[t._v("\n              "+t._s(t.batchEditVariantTitle)+"\n            ")]),t._v(" "),a("div",{staticClass:"font-bold font-14 ml-auto"},[a("el-button",{staticClass:"btn-block color-white",staticStyle:{"background-color":"#1685C7"},on:{click:t.applyBatchEditVariant}},[t._v("\n                Terapkan\n              ")])],1)]),t._v(" "),a("div",{staticClass:"mt-16"},[a("el-row",{attrs:{gutter:20,type:"flex",justify:"end"}},[a("el-col",{staticClass:"mw-200",attrs:{span:6,offset:12}},[a("input-money",{model:{value:t.form.price,callback:function(e){t.$set(t.form,"price",e)},expression:"form.price"}})],1),t._v(" "),a("el-col",{staticClass:"mw-150",attrs:{span:6}},[a("el-input",{attrs:{type:"number",min:"0",placeholder:"Stok"},model:{value:t.form.stock,callback:function(e){t.$set(t.form,"stock",e)},expression:"form.stock"}})],1),t._v(" "),a("el-col",{staticClass:"mw-150",attrs:{span:6}},[a("el-input",{attrs:{placeholder:"SKU"},model:{value:t.form.sku,callback:function(e){t.$set(t.form,"sku",e)},expression:"form.sku"}})],1),t._v(" "),a("el-col",{staticClass:"mr-24 flex-container flex-container--center",attrs:{span:6}},[a("variant-image-upload",{attrs:{"upload-url":t.uploadPhotoUrl,"init-data":t.form.initImageVariant},on:{"response-sent":function(e){return t.handleUploadAllVariant(e)}}})],1)],1)],1)]):t._e(),t._v(" "),t.tempItem.variations.length?a("div",{staticClass:"like-table-wrapper border border--table-border mt-24"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.variations}},[a("el-table-column",{attrs:{label:"Nama varian","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"flex-container"},[a("el-checkbox",{on:{change:function(a){return t.handleCheckVariant(e.row)}},model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}}),t._v(" "),a("el-input",{staticClass:"ml-16",model:{value:e.row.name,callback:function(a){t.$set(e.row,"name",a)},expression:"scope.row.name"}})],1)]}}],null,!1,2369932458)}),t._v(" "),a("el-table-column",{attrs:{label:"Harga","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("input-money",{staticStyle:{width:"100%"},model:{value:e.row.price,callback:function(a){t.$set(e.row,"price",a)},expression:"scope.row.price"}})]}}],null,!1,2203438954)}),t._v(" "),a("el-table-column",{attrs:{label:"Stok",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"number",min:"0"},model:{value:e.row.stock,callback:function(a){t.$set(e.row,"stock",a)},expression:"scope.row.stock"}})]}}],null,!1,1555772692)}),t._v(" "),a("el-table-column",{attrs:{label:"SKU","min-width":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{staticStyle:{width:"100%","margin-top":"0"},attrs:{placeholder:"SKU"},model:{value:e.row.variation_sku,callback:function(a){t.$set(e.row,"variation_sku",a)},expression:"scope.row.variation_sku"}})]}}],null,!1,484107047)}),t._v(" "),a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("variant-image-upload",{attrs:{"upload-url":t.uploadPhotoUrl,"init-data":e.row},on:{"response-sent":function(a){return t.handleUploadSuccessVariant(a,e.row)}}})]}}],null,!1,4040596348)})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"mt-24"},[a("el-button",{staticClass:"btn-block",attrs:{loading:t.loadingDuplicate,plain:""},on:{click:function(e){return t.saveSingleProductBatch(1)}}},[t._v(" Duplikat produk ini ")])],1)])]),t._v(" "),a("el-dialog",{attrs:{visible:t.showInfoInvalidProduct,"show-close":!1,width:"344px","append-to-body":""},on:{"update:visible":function(e){t.showInfoInvalidProduct=e}}},[a("div",{staticClass:"text-center",attrs:{slot:"title"},slot:"title"},[a("div",{staticClass:"font-bold"},[t._v("Data produk kurang lengkap")]),t._v(" "),a("div",{staticClass:"word-break",staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.dataSummaries.cannot)+" produk tidak dapat diduplikasi ke Shopee. Produk di Olsera harus memiliki minimal data-data di bawah ini")])]),t._v(" "),a("div",[a("div",{staticClass:"color-info--bg p-12"},[a("ul",[a("li",[t._v("Foto")]),t._v(" "),a("li",[t._v("Nama Produk")]),t._v(" "),a("li",[t._v("Kategory Shopee")]),t._v(" "),a("li",[t._v("Harga Jual")]),t._v(" "),a("li",[t._v("Stok")]),t._v(" "),a("li",[t._v("SKU")]),t._v(" "),a("li",[t._v("Berat")])])]),t._v(" "),a("div",{staticClass:"mt-24"},[a("el-button",{staticClass:"btn-block",on:{click:function(e){t.showInfoInvalidProduct=!1}}},[t._v("Ok")])],1)])])],1):t._e()])},o=[]},"e/E0":function(t,e,a){"use strict";a.r(e);var i=a("fMja"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},fMja:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a("QbLZ")),o=s(a("DChC")),n=s(a("hzHX")),r=a("xn7b");function s(t){return t&&t.__esModule?t:{default:t}}e.default={name:"DialogBatchPair",components:{offscreenSyncProduct:n.default},mixins:[o.default],props:{show:{type:Boolean,default:!1},dataProduct:{type:Array,default:[]},meta:{type:Object,default:{}},loadingBulk:{type:Boolean,default:!1}},data:function(){return{dataChecked:[],checkAll:!1,visibleSynProduct:!1,tempDataSync:{},loadingSavePair:!1,dataProductHeader:{}}},computed:{dataProd:function(){var t=this;return this.dataProduct.map(function(e){return e.checked=!1,t.dataChecked.length>0&&t.dataChecked.map(function(t){e.product_id===t.product_id&&(e.checked=!0)}),e})},bgOlseradiv:function(){var t=[];return this.dataProduct.map(function(e){t.push("background-color: #FFFFFF")}),t}},methods:{handleCheck:function(t){var e=this;(console.log("aaa",t),null===t.recomendation&&null===t.pair)?this.$notify({type:"warning",message:this.rootLang.please_select_product_olsera}):this.dataChecked.some(function(e){return e.product_id===t.product_id})?this.dataChecked.map(function(a,i){a.product_id===t.product_id&&e.dataChecked.splice(i,1)}):(t.recomendation&&this.dataChecked.push({product_id:t.product_id,product_id_olsera:t.recomendation.id,source_product:t.recomendation.type,type:t.type,stock:t.stock}),t.pair&&this.dataChecked.push({product_id:t.product_id,product_id_olsera:t.pair.id,source_product:t.pair.type,type:t.type,stock:t.stock}))},handleCheckAll:function(t){var e=this;t?(this.dataChecked=[],this.dataProd.map(function(t){t.recomendation?e.dataChecked.push({product_id:t.product_id,product_id_olsera:t.recomendation.id,source_product:t.recomendation.type,type:t.type,stock:t.stock}):t.pair&&e.dataChecked.push({product_id:t.product_id,product_id_olsera:t.pair.id,source_product:t.pair.type,type:t.type,stock:t.stock})}),0===this.dataChecked.length&&(this.$notify({type:"warning",message:this.rootLang.please_select_product_olsera}),this.checkAll=!this.checkAll)):this.dataChecked=[]},setBg:function(t){this.bgOlseradiv[t]="background-color: #0085CD",console.log("aaa",this.bgOlseradiv[t])},setBg1:function(t){this.bgOlseradiv[t]="background-color: #FFFFFF",console.log("aaa",this.bgOlseradiv[t])},handlePair:function(t){this.tempDataSync=(0,i.default)({},t),this.visibleSynProduct=!0},handleSetProduct:function(t){var e=this;console.log("data",t),this.dataProduct.map(function(a){a.product_id===e.tempDataSync.product_id&&(a.pair=(0,i.default)({},t),e.handleCheck(a))}),this.visibleSynProduct=!1},handleSavePair:function(){var t=this;this.loadingSavePair=!0;var e={shopee_shop_id:null!==this.shopeeActiveStore?this.shopeeActiveStore.shopee_shop_id:0,data:this.dataChecked};(0,r.pairBulkProduct)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.handleClose(!0),t.loadingSavePair=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingSavePair=!1})},handleClose:function(t){this.dataChecked=[],this.tempDataSync={},t?this.$emit("save"):this.$emit("close")},handleChangePage:function(t){this.$emit("changepage",t)},handleChangeSizePage:function(t){this.meta.page_size=t,this.$emit("changepagesize",t)}}}},fUKC:function(t,e,a){a("ZY/g"),a("C5kU"),t.exports=a("sbOA")},gN5z:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=S(a("14Xm")),n=S(a("D3Ub")),r=S(a("QbLZ")),s=S(a("m1cH")),l=S(a("YEIV")),c=S(a("+YKo")),d=S(a("5fdr")),u=S(a("NgTd")),p=S(a("ooKl")),h=S(a("DChC")),m=S(a("+5/E")),f=S(a("XFEm")),g=a("xn7b"),v=S(a("hzHX")),_=a("bKoQ"),k=S(a("wQv6")),y=S(a("BqIy")),b=S(a("bdWX"));function S(t){return t&&t.__esModule?t:{default:t}}e.default={components:{FloatingDiv:m.default,CloseEsc:f.default,offscreenSyncProduct:v.default,offscreenDetailProduct:k.default,dialogBatchPair:y.default,PageFullscreen:c.default,FixedTable:d.default,CardInfo:u.default,duplicateProduct:b.default,shopeeDialogBeforeIntegration:p.default},mixins:[h.default],data:function(){var t;return t={loading:!1,dataLogs:[],visibleLogs:!1,loadingLogs:!1,moreLink:!1,dataLogForView:[],visibleItem:[!1,!1,!1,!1],dataProduct:[],activeButton:[],totalPair:0,totalUnpair:0,totalConflict:0,visibleSynProduct:!1,formSync:{},visibleDetailProduct:!1,next_page_duplicate:null,formDetail:{},params:{per_page:15,category_id:0},search:"",meta:{totalProduct:0,currentPage:0},metaBulk:{totalProduct:0,currentPage:0,page_size:15},settingStockSwitch:null,merchantSettingStockStatus:null,showUpdateStock:!1,loadingSameStock:!1,conflictStock:!1,loadingBulk:!1,showBulkPair:!1,paramsbulk:{page:1,per_page:15,status_recomendation:0},dataSummaries:{can:"",cannot:""},dataProductBulk:[],dataMerchant:[],loadingUpdateStock:!1,shopeeStore:{},dataProductDuplicate:[],showSetSameStock:!1,showDialogCategorySet:!1,loadingDeauthorize:!1,loadingShowDuplicate:!1,showDialogConfirmDeAuth:!1,showManageDuplicate:!1,paramsDuplicate:{per_page:20,page:1}},(0,l.default)(t,"showDialogConfirmDeAuth",!1),(0,l.default)(t,"dataMerchant",[]),(0,l.default)(t,"visibleShopeeBeforeIntegration",!1),(0,l.default)(t,"loadingSubmitShopee",!1),(0,l.default)(t,"dataCategory",[]),(0,l.default)(t,"textSearchCategory",""),(0,l.default)(t,"categoryPairStatus","all"),(0,l.default)(t,"moreCategory",!1),(0,l.default)(t,"currentPageCategory",1),(0,l.default)(t,"totalStatsCategory",{}),(0,l.default)(t,"loadinFetchCategory",!1),(0,l.default)(t,"loadingMoreCategory",!1),(0,l.default)(t,"loadingSaveCategory",!1),(0,l.default)(t,"loadingSearchShopeeOpt",!1),(0,l.default)(t,"loadingUnpair",!1),(0,l.default)(t,"isLoadingMerchant",!1),(0,l.default)(t,"dataCategoryList",[]),(0,l.default)(t,"moreCategoryList",!1),(0,l.default)(t,"currentPageCategoryList",""),t},computed:{},watch:{showDialogCategorySet:{handler:function(t){t?this.getCategoryShopee():(this.dataCategory=[],this.textSearchCategory="",this.categoryPairStatus="all")}}},mounted:function(){this.fetchListShop(!0),this.getData(),this.getStoreDetail(),this.getUpdateLogs(),this.getShopeeCategoryList()},methods:(i={getData:function(){var t=this;this.dataProduct=[],this.totalPair=0,this.totalUnpair=0,this.totalConflict=0,this.conflictStock=!1,this.meta={totalProduct:0,currentPage:0},this.loading=!0,null!==this.shopeeActiveStore&&(this.params.shopee_shop_id=this.shopeeActiveStore.shopee_shop_id),(0,g.fetchProductShopee)(this.params).then(function(e){t.dataProduct=[].concat((0,s.default)(e.data.data)),t.dataProduct.map(function(e){t.activeButton.push(!1)}),t.totalPair=e.data.total_pair,t.totalUnpair=e.data.total_unpair,t.totalConflict=e.data.total_unbalance_stock,t.conflictStock=e.data.total_unbalance_stock>0,t.meta.totalProduct=e.data.meta.total,t.meta.currentPage=e.data.meta.current_page,t.formDetail&&t.formDetail.product_id&&t.dataProduct.map(function(e){e.product_id===t.formDetail.product_id&&(t.formDetail=(0,r.default)({},e))}),t.settingStockSwitch=e.data.setting_stock,t.merchantSettingStockStatus=e.data.setting_stock,t.loading=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loading=!1})},refreshDataDuplicate:function(){this.handleManageDuplicate()},handleFilterDuplicate:function(t){"all"===t&&this.$delete(this.paramsDuplicate,"is_completed"),"can_duplicate"===t&&(this.paramsDuplicate.is_completed=1),"not_duplicate"===t&&(this.paramsDuplicate.is_completed=0),this.handleManageDuplicate()},loadMoreDataDuplicate:function(){var t=this;this.loadingShowDuplicate=!0,this.paramsDuplicate.page+=1,(0,g.fetchDataDuplicate)(this.paramsDuplicate).then(function(e){e.data.data.data.map(function(e){t.dataProductDuplicate.push(e)}),t.dataSummaries.can=e.data.total_completed,t.dataSummaries.cannot=e.data.total_not_mpleted,t.next_page_duplicate=e.data.data.next_page_url,t.loadingShowDuplicate=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataProductDuplicate=[],t.loadingShowDuplicate=!1})},handleSearchDuplicate:function(t){this.paramsDuplicate.page=1,t.search_column&&t.search_text?(this.$set(this.paramsDuplicate,"search_text",t.search_text),this.$set(this.paramsDuplicate,"search_column",t.search_column)):(this.$delete(this.paramsDuplicate,"search_text"),this.$delete(this.paramsDuplicate,"search_column")),this.handleManageDuplicate()},handleManageDuplicate:function(){var t=this;this.loadingShowDuplicate=!0,this.dataProductDuplicate=[],console.log("param",this.paramsDuplicate),this.paramsDuplicate.shopee_shop_id=this.shopeeStore.shop_id,(0,g.fetchDataDuplicate)(this.paramsDuplicate).then(function(e){t.dataProductDuplicate=[].concat((0,s.default)(e.data.data)),t.dataSummaries.can=e.data.total_completed,t.dataSummaries.cannot=e.data.total_not_completed,t.next_page_duplicate=e.data.data.next_page_url,t.loadingShowDuplicate=!1,t.showManageDuplicate=!0}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataProductDuplicate=[],t.loadingShowDuplicate=!1})},syncDataProduct:function(){var t=this;this.loading=!0;var e={};null!==this.shopeeActiveStore&&(e.shopee_shop_id=this.shopeeActiveStore.shopee_shop_id),(0,g.syncProductShopee)(e).then(function(e){t.getData(),t.getStoreDetail(),t.loading=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loading=!1})},getUpdateLogs:function(){var t=this;this.loading=!0;var e={per_page:15};null!==this.shopeeActiveStore&&(e.shopee_shop_id=this.shopeeActiveStore.shopee_shop_id),(0,g.getLogsShopee)(e).then(function(e){t.dataLogForView=e.data.data[0],t.dataLogs.push(e.data.data),null!==e.data.links.next?t.moreLink=!0:t.moreLink=!1,t.current_page=e.data.meta.current_page,t.loading=!1}).catch(function(e){t.dataLog=[],404!==e.statusCode&&t.$message({type:"error",message:e.string}),t.loading=!1})},loadMore:function(){var t=this;this.loadingLogs=!0;var e={per_page:15,page:this.current_page+1};null!==this.shopeeActiveStore&&(e.shopee_shop_id=this.shopeeActiveStore.shopee_shop_id),(0,g.getLogsShopee)(e).then(function(e){t.dataLogs.push(e.data.data),null!==e.data.links.next?t.moreLink=!0:t.moreLink=!1,t.current_page=e.data.meta.current_page,t.loadingLogs=!1}).catch(function(e){t.dataLog=[],t.$message({type:"error",message:e.string}),t.loadingLogs=!1})},handleChangeMerchant:function(t){this.$store.commit("SET_SHOPEE_ACTIVE_STORE",t),this.getData(),this.getStoreDetail(),this.getUpdateLogs()},refreshData:function(){this.getData(),this.getStoreDetail(),this.getUpdateLogs()},handlePair:function(t){this.formSync=t,this.visibleSynProduct=!0},handleDetail:function(t,e){this.formDetail=e,this.visibleDetailProduct=!0},handleCloseDialogPair:function(){this.getData(),this.visibleSynProduct=!1},handleCloseDialogDetail:function(){this.formDetail={},this.visibleDetailProduct=!1},handleResync:function(t){this.visibleDetailProduct=!1,this.handlePair(t)},handleSearch:function(t){""!==t?(this.$set(this.params,"search_text",t),this.$set(this.params,"search_column","name")):(this.$delete(this.params,"search_text"),this.$delete(this.params,"search_column")),this.getData()},showGroup:function(t){"all"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[0]=!0,this.params={per_page:this.params.per_page}),"not_pair"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[1]=!0,this.params={per_page:this.params.per_page,status:2}),"pair"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[2]=!0,this.params={per_page:this.params.per_page,status:1}),"conflict"===t&&(this.visibleItem=[!1,!1,!1,!1],this.visibleItem[3]=!0,this.params={per_page:this.params.per_page,status:1,balance_stock:1}),this.getData()},handleChangePage:function(t){this.meta.currentPage=t,this.$set(this.params,"page",t),this.getData()},handleChangeSizePage:function(t){this.meta.currentPage=1,this.params.per_page=t,this.params.page=1,this.getData()},handleFilterbyCategory:function(t){this.params.page=1,this.getData()}},(0,l.default)(i,"refreshData",function(){this.getData()}),(0,l.default)(i,"cancelSameStock",function(){this.settingStockSwitch=this.merchantSettingStockStatus,this.showSetSameStock=!1,this.showUpdateStock=!1}),(0,l.default)(i,"handleSetSameStock",function(){0===this.settingStockSwitch&&(this.showUpdateStock=!0),1===this.settingStockSwitch&&(this.showSetSameStock=!0)}),(0,l.default)(i,"setSameStock",function(){var t=this;return(0,n.default)(o.default.mark(function e(){var a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={is_equalize_stock:t.settingStockSwitch},null!==t.shopeeActiveStore&&(a.shopee_shop_id=t.shopeeActiveStore.shopee_shop_id),t.loadingSameStock=!0,e.next=5,(0,g.setSameStockWithOlsera)(a).then(function(e){t.$message({type:"success",message:"Berhasil update data Shopee"}),t.showSetSameStock=!1,t.showUpdateStock=!1,t.loadingSameStock=!1,t.loadingUpdateStock=!1,t.refreshData()}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingSameStock=!1,t.loadingUpdateStock=!1,t.refreshData()});case 5:case"end":return e.stop()}},e,t)}))()}),(0,l.default)(i,"handleUpdateStock",function(t){this.loadingUpdateStock=!0,t?this.fixStockConflict():this.setSameStock()}),(0,l.default)(i,"getDataBulkProduct",function(){var t=this;this.loadingBulk=!0,null!==this.shopeeActiveStore&&(this.paramsbulk.shopee_shop_id=this.shopeeActiveStore.shopee_shop_id),(0,g.getBulkProduct)(this.paramsbulk).then(function(e){t.showBulkPair=!0,t.dataProductBulk=e.data.data,t.dataProductBulk.map(function(t){t.pair=null}),t.metaBulk.totalProduct=e.data.meta.total,t.metaBulk.currentPage=e.data.meta.current_page,t.loadingBulk=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingBulk=!1})}),(0,l.default)(i,"handleChangePageBulk",function(t){console.log(t),this.metaBulk.currentPage=t,this.paramsbulk.page=t,this.getDataBulkProduct()}),(0,l.default)(i,"handleChangeSizePageBulk",function(t){this.metaBulk.currentPage=1,this.paramsbulk.per_page=t,this.paramsbulk.page=1,this.getDataBulkProduct()}),(0,l.default)(i,"saveBulkPair",function(){this.getData(),this.paramsbulk.per_page=15,this.paramsbulk.page=0,this.metaBulk.currentPage=0,this.metaBulk.page_size=15,this.showBulkPair=!1}),(0,l.default)(i,"closeBulkPair",function(){this.paramsbulk.per_page=15,this.paramsbulk.page=0,this.metaBulk.currentPage=0,this.metaBulk.page_size=15,this.showBulkPair=!1}),(0,l.default)(i,"getStoreDetail",function(){var t=this;return(0,n.default)(o.default.mark(function e(){var a,i;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoadingMerchant=!0,a={},null!==t.shopeeActiveStore&&(a.shopee_shop_id=t.shopeeActiveStore.shopee_shop_id),e.next=6,(0,g.getShopeeStore)(a);case 6:i=e.sent,t.shopeeStore=i.data.data,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t.$message({type:"error",message:e.t0.string});case 13:return e.prev=13,t.isLoadingMerchant=!1,e.finish(13);case 16:case"end":return e.stop()}},e,t,[[0,10,13,16]])}))()}),(0,l.default)(i,"fetchGroups",function(){var t=this;return(0,n.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,_.fetchByStore)({sort_column:"view_sort",sort_type:"asc"}).then(function(e){e.data.data.map(function(e){"Marketplace"===e.name&&e.thirdparty_items.map(function(e){"Shopee"===e.alias_name&&(t.dataMerchant=[].concat((0,s.default)(e.main_store[0].marketplace_account)))})}),null===t.shopeeActiveStore&&t.$store.commit("SET_SHOPEE_ACTIVE_STORE",t.dataMerchant[0])}).catch(function(e){t.groups=[],t.$message({type:"error",message:e.string})});case 2:case"end":return e.stop()}},e,t)}))()}),(0,l.default)(i,"fixStockConflict",function(){var t=this;return(0,n.default)(o.default.mark(function e(){var a;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingSameStock=!0,a={},null!==t.shopeeActiveStore&&(a.shopee_shop_id=t.shopeeActiveStore.shopee_shop_id),e.next=5,(0,g.resolveStockConflict)(a).then(function(e){t.$message({type:"success",message:"Berhasil update data Shopee"}),t.showSetSameStock=!1,t.showUpdateStock=!1,t.loadingSameStock=!1,t.loadingUpdateStock=!1,t.refreshData()}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingSameStock=!1,t.loadingUpdateStock=!1,t.refreshData()});case 5:case"end":return e.stop()}},e,t)}))()}),(0,l.default)(i,"handleDeleteIntegration",function(){var t=this;this.loadingDeauthorize=!0;var e={};null!==this.shopeeActiveStore&&(e.shopee_shop_id=this.shopeeActiveStore.shopee_shop_id),(0,g.deauthorizationShopee)(e).then(function(e){window.open(e.data.data.redirect_url,"_self"),t.loadingDeauthorize=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingDeauthorize=!1})}),(0,l.default)(i,"handleUnpair",function(t){var e=this;return(0,n.default)(o.default.mark(function a(){var i,n;return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.loadingUnpair=!0,i={product_id:t.pair.product_id,type:t.pair.type},null!==e.shopeeActiveStore&&(i.shopee_shop_id=e.shopeeActiveStore.shopee_shop_id),a.next=6,(0,g.unpairProductShopee)(i);case 6:n=a.sent,e.$message({type:"success",message:n.data.data.message}),e.visibleDetailProduct=!1,e.refreshData(),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),e.$message({type:"error",message:a.t0.string});case 15:return a.prev=15,e.loadingUnpair=!1,a.finish(15);case 18:case"end":return a.stop()}},a,e,[[0,12,15,18]])}))()}),(0,l.default)(i,"fetchGroups",function(t){var e=this;return(0,n.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,(0,_.fetchByStore)({sort_column:"view_sort",sort_type:"asc"}).then(function(a){if(a.data.data.map(function(t){"Marketplace"===t.name&&t.thirdparty_items.map(function(t){"Shopee"===t.alias_name&&(e.dataMerchant=[].concat((0,s.default)(t.main_store[0].marketplace_account)))})}),null===e.shopeeActiveStore){var i=[];e.dataMerchant.map(function(t){"A"===t.status&&i.push(t)}),i.length>0?(e.$store.commit("SET_SHOPEE_ACTIVE_STORE",i[0]),e.getStoreDetail()):e.$router.push({path:"/service-activation-v2",query:{refresh:1}})}else if(null!==e.shopeeActiveStore&&!t){var o=[];e.dataMerchant.map(function(t){"A"===t.status&&o.push(t)}),o.length>0?e.$store.commit("SET_SHOPEE_ACTIVE_STORE",o[0]):e.$router.push({path:"/service-activation-v2",query:{refresh:1}})}t||e.refreshData(),e.loading=!1}).catch(function(t){e.groups=[],e.$message({type:"error",message:t.string}),e.loading=!1});case 3:case"end":return a.stop()}},a,e)}))()}),(0,l.default)(i,"fetchListShop",function(t){var e=this;return(0,n.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,(0,g.getListShopeeStore)().then(function(a){e.dataMerchant=[].concat((0,s.default)(a.data.data)),e.dataMerchant.map(function(t){t.product_count=t.jumlah_product,t.photo=t.shopee_shop_images[0],t.shop_name=t.shopee_shop_name,t.status="A"}),null===e.shopeeActiveStore?e.dataMerchant.length>0?(e.$store.commit("SET_SHOPEE_ACTIVE_STORE",e.dataMerchant[0]),e.getStoreDetail()):e.$router.push({path:"/service-activation-v2",query:{refresh:1}}):null===e.shopeeActiveStore||t||(e.dataMerchant.length>0?e.$store.commit("SET_SHOPEE_ACTIVE_STORE",e.dataMerchant[0]):e.$router.push({path:"/service-activation-v2",query:{refresh:1}})),t||e.refreshData(),e.loading=!1}).catch(function(t){e.groups=[],e.$message({type:"error",message:t.string}),console.log("ee",t),e.loading=!1});case 3:case"end":return a.stop()}},a,e)}))()}),(0,l.default)(i,"handleAddMerchant",function(){this.visibleShopeeBeforeIntegration=!0}),(0,l.default)(i,"getCategoryShopee",function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.loadinFetchCategory=!0;var a={per_page:7};"paired"===this.categoryPairStatus&&(a.has_pairing="1"),"unpaired"===this.categoryPairStatus&&(a.has_pairing="0"),""!==e&&(a.search_text=e,a.search_column="olsera_category_name",a.search_condition="like"),(0,g.fetchListCategoryMapOlseraShopee)(a).then(function(e){t.dataCategory=e.data.data,null!==e.data.links.next?t.moreCategory=!0:t.moreCategory=!1,t.currentPageCategory=e.data.meta.current_page,t.totalStatsCategory={all:e.data.total_pair+e.data.total_unpair,paired:e.data.total_pair,unpaired:e.data.total_unpair},t.dataCategory=t.dataCategory.map(function(t){var e={shopee_category_name:t.shopee_category_name,shopee_category_id:t.shopee_category_id},a={name:"",shopee_category_id:""},i=[];return null!==t.shopee_category_id&&t.shopee_category_name&&(a.name=t.shopee_category_name,a.shopee_category_id=t.shopee_category_id,i.push(a)),(0,r.default)({},t,{selectedCat:a,optionCat:i,prevCatState:e})}),t.loadinFetchCategory=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataCategory=[],t.loadinFetchCategory=!1})}),(0,l.default)(i,"handleFilterCategory",function(t){t!==this.categoryPairStatus&&(this.categoryPairStatus=t,this.getCategoryShopee(this.textSearchCategory))}),(0,l.default)(i,"loadMoreCategory",function(){var t=this;this.loadingMoreCategory=!0;var e={per_page:7,page:this.currentPageCategory+1};"paired"===this.categoryPairStatus&&(e.has_pairing="1"),"unpaired"===this.categoryPairStatus&&(e.has_pairing="0"),""!==this.textSearchCategory&&(e.search_text=this.textSearchCategory,e.search_column="olsera_category_name",e.search_condition="like"),(0,g.fetchListCategoryMapOlseraShopee)(e).then(function(e){e.data.data.map(function(e){var a={shopee_category_name:e.shopee_category_name,shopee_category_id:e.shopee_category_id},i={name:"",shopee_category_id:""},o=[];null!==e.shopee_category_id&&e.shopee_category_name&&(i.name=e.shopee_category_name,i.shopee_category_id=e.shopee_category_id,o.push(i)),t.dataCategory.push((0,r.default)({},e,{selectedCat:i,optionCat:o,prevCatState:a}))}),null!==e.data.links.next?t.moreCategory=!0:t.moreCategory=!1,t.currentPageCategory=e.data.meta.current_page,t.loadingMoreCategory=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingMoreCategory=!1})}),(0,l.default)(i,"getSearchCategoryShopee",function(t,e){var a=this;return(0,n.default)(o.default.mark(function i(){var n,r;return o.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(""===t){i.next=19;break}return i.prev=1,a.loadingSearchShopeeOpt=!0,n={page:1,per_page:100,is_last_level:1,search_text:t,search_column:"name",search_condition:"like"},i.next=6,(0,g.fetchListCategoryShopee)(n);case 6:r=i.sent,a.dataCategory[e].optionCat=r.data.data,i.next=14;break;case 10:i.prev=10,i.t0=i.catch(1),a.$message({type:"error",message:i.t0.string}),a.dataCategory[e].optionCat=[];case 14:return i.prev=14,a.loadingSearchShopeeOpt=!1,i.finish(14);case 17:i.next=20;break;case 19:a.dataCategory[e].optionCat=[];case 20:case"end":return i.stop()}},i,a,[[1,10,14,17]])}))()}),(0,l.default)(i,"handleOnBlurCategoryShopee",function(t){this.getCategoryShopee(t)}),(0,l.default)(i,"handleOnChangeCategoryShopee",function(t){this.dataCategory[t].shopee_category_name=this.dataCategory[t].selectedCat.name,this.dataCategory[t].shopee_category_id=this.dataCategory[t].selectedCat.shopee_category_id}),(0,l.default)(i,"handleOnClearCategoryShopee",function(t){var e=this;return(0,n.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(null===e.dataCategory[t].prevCatState.shopee_category_id){a.next=12;break}return a.prev=1,a.next=4,(0,g.unpairCategory)({olsera_category_id:e.dataCategory[t].olsera_category_id});case 4:e.getCategoryShopee(e.textSearchCategory),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),e.$message({type:"error",message:a.t0.string});case 10:a.next=14;break;case 12:e.dataCategory[t].selectedCat={name:"",shopee_category_id:""},e.dataCategory[t].optionCat=[];case 14:case"end":return a.stop()}},a,e,[[1,7]])}))()}),(0,l.default)(i,"handleSaveCategorySet",function(){var t=this;return(0,n.default)(o.default.mark(function e(){var a,i,n;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.loadingSaveCategory=!0,0!==(a=t.dataCategory.filter(function(t){return""!==t.selectedCat.shopee_category_id&&t.selectedCat.shopee_category_id!==t.prevCatState.shopee_category_id})).length){e.next=5;break}return e.abrupt("return");case 5:return i={mapping:[]},a.forEach(function(t){var e={olsera_category_id:t.olsera_category_id,shopee_category_id:t.selectedCat.shopee_category_id};i.mapping.push(e)}),e.next=9,(0,g.pairCategoryMulti)(i);case 9:n=e.sent,t.$message({type:"success",message:n.data.message+", total berhasil: "+n.data.total_success+". total gagal: "+n.data.total_failed}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),t.$message({type:"error",message:e.t0.string});case 16:return e.prev=16,t.loadingSaveCategory=!1,t.showDialogCategorySet=!1,e.finish(16);case 20:case"end":return e.stop()}},e,t,[[0,13,16,20]])}))()}),(0,l.default)(i,"getShopeeCategoryList",function(){var t=this;this.loadinFetchCategory=!0;(0,g.fetchListCategoryShopee)({per_page:100}).then(function(e){t.dataCategoryList=e.data.data,null!==e.data.links.next?t.moreCategoryList=!0:t.moreCategoryList=!1,t.currentPageCategoryList=e.data.meta.current_page,t.loadinFetchCategory=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadinFetchCategory=!1})}),(0,l.default)(i,"loadMoreCategoryList",function(){var t=this;this.loadingMoreCategory=!0;var e={per_page:100,page:this.currentPageCategoryList+1};(0,g.fetchListCategoryShopee)(e).then(function(e){e.data.data.map(function(e){t.dataCategoryList.push(e)}),null!==e.data.links.next?t.moreCategoryList=!0:t.moreCategoryList=!1,t.currentPageCategoryList=e.data.meta.current_page,t.loadingMoreCategory=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingMoreCategory=!1})}),i)}},"hty/":function(t,e,a){"use strict";a.r(e);var i=a("RF6F"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},hzHX:function(t,e,a){"use strict";a.r(e);var i=a("5t4s"),o=a("sxu4");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var r=a("KHd+"),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);s.options.__file="offscreenSyncProduct.vue",e.default=s.exports},iR4T:function(t,e,a){},"l/8r":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("xCek");e.default={props:{uploadUrl:{type:String,default:"/upload/uploadonly"},initData:{type:Object,default:function(){}}},data:function(){return{loading:!1,uploadedImage:null,changePhoto:!1,selectedImage:null}},methods:{beforeUpload:function(t){var e="image/jpeg"===t.type,a="image/png"===t.type;return e||a||this.$message.error(this.$lang[this.langId].error_upload_photo),this.selectedImage=t,e||a},handleUpload:function(){var t=this;this.loading=!0;var e=new FormData;e.append("file",this.selectedImage),(0,i.service)({method:"post",url:this.uploadUrl,data:e}).then(function(e){t.handleImageSuccess(e.data),t.loading=!1}).catch(function(e){t.handleUploadError(e),t.loading=!1})},handleImageSuccess:function(t,e,a){if(this.changePhoto=!1,t.data instanceof Array){var i=t.data[0];this.uploadedImage=i,this.emitImages(),this.emitFullResponse(t.data[0])}else this.uploadedImage=t.data,this.emitImages(),this.emitFullResponse(t.data);this.$message({type:"success",message:"Upload success"})},handleUploadError:function(){this.uploadedImage=null,this.$message({type:"error",message:"Upload error"})},emitFullResponse:function(t){this.$emit("response-sent",t)},emitImages:function(){this.$emit("change",this.uploadedImage)}}}},mNI8:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"before-close":t.cancel,title:"Integrasi Shopee","show-close":!1,"append-to-body":"","custom-class":"without-padding mw-1020"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"flex-container no-flex-sm"},[a("div",{staticClass:"flex-container flex-container--content-center color-shopee--bg",staticStyle:{"flex-basis":"50%"}},[a("img",{attrs:{width:"264",src:"/static/img/service-activation/shopee/undraw_sync_files_xb3r.png"}})]),t._v(" "),a("div",{staticClass:"p-24",staticStyle:{"flex-basis":"50%"}},[a("div",{staticClass:"like-list"},[a("div",{staticClass:"like-list--item"},[a("div",{staticClass:"container-icon mr-8"},[a("svg-icon",{staticClass:"font-20",attrs:{"icon-class":"icon-store-black-rooftop"}})],1),t._v(" "),a("div",[a("div",[t._v("Sudah punya akun Shopee? Jika belum, lakukan pendaftaran terlebih dahulu atau klik link berikut "),a("div",{staticClass:"color-primary pointer",on:{click:t.signupShopee}},[t._v("Daftar Shopee")])])])]),t._v(" "),a("div",{staticClass:"like-list--item"},[a("div",{staticClass:"container-icon mr-8"},[a("svg-icon",{staticClass:"font-20",attrs:{"icon-class":"icon-clock-black"}})],1),t._v(" "),a("div",[a("div",[t._v("Proses aktivasi akan berlangsung real time sehingga Anda tidak perlu menunggu")])])]),t._v(" "),a("div",{staticClass:"like-list--item"},[a("div",{staticClass:"container-icon mr-8"},[a("svg-icon",{staticClass:"font-20",attrs:{"icon-class":"icon-check-circle"}})],1),t._v(" "),a("div",[a("div",[t._v("Pihak Shopee memiliki hak penuh untuk menyetujui atau menolak pengajuan integrasi.")])])])]),t._v(" "),a("el-button",{staticClass:"btn-block color-shopee--bg color-white",attrs:{loading:t.loadingGetStore},on:{click:t.fetchAuthUrl}},[t._v("\n        "+t._s(t.rootLang.ok_integrate_now)+"\n      ")])],1),t._v(" "),a("el-dialog",{staticClass:"dialog-shopee-authorization",attrs:{visible:t.showSetup,title:t.rootLang.access_taxes,"show-close":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showSetup=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[t._v("\n          Otorisasi Shopee\n        ")])]),t._v(" "),a("div",[a("div",{staticClass:"radius-10 flex-container justify-center"},[a("img",{attrs:{src:"/static/img/service-activation/shopee/icon_integrate.png"}})])]),t._v(" "),a("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"font-18"},[t._v("Silahkan melakukan otorisasi pada link berikut")]),t._v(" "),a("div",{staticClass:"mt-24 color-shopee--bg p-8 color-white radius-50 flex-container justify-center pointer",on:{click:t.autorizeShopee}},[a("div",{staticClass:"overflow-ellipsis"},[t._v(t._s(t.dataUrl))]),t._v(" "),a("div",{staticClass:"container-icon mr-8"},[a("svg-icon",{staticClass:"font-20",attrs:{"icon-class":"external-link"}})],1)])])]),t._v(" "),a("el-dialog",{staticClass:"dialog-shopee-authorization--success",attrs:{visible:t.showSetupSucces,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showSetupSucces=e}}},[a("div",{staticClass:"text-center"},[a("img",{attrs:{src:"/static/img/service-activation/shopee/success_integrate.png"}}),t._v(" "),a("div",{staticClass:"font-18 mt-24"},[t._v("Year ! 🎉 Integrasi Shopee dan Olsera berhasil!")])]),t._v(" "),a("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"mt-24 color-shopee--bg p-8 color-white radius-50 flex-container justify-center pointer",on:{click:t.autorizeShopee}},[a("div",{staticClass:"full-width flex-container justify-center"},[a("img",{attrs:{src:"/static/img/shopee.png"}}),t._v("\n            Shopee\n          ")]),t._v(" "),a("div",{staticClass:"container-icon mr-8"},[a("i",{staticClass:"el-icon-arrow-right"})])])])])],1)])},o=[]},n5bP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=l(a("QbLZ")),o=l(a("m1cH")),n=l(a("DChC")),r=l(a("XFEm")),s=a("xn7b");function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{CloseEsc:r.default},mixins:[n.default],props:{show:{type:Boolean,default:!1},formEdit:{type:Object,default:null},fromBulk:{type:Boolean,default:!1}},data:function(){return{params:{search:"",per_page:50},dataSearch:[],current_page:0,last_page:0,loadingSearch:!1,selectedProduct:{},loadingPair:!1,imgSearch:"/static/img/service-activation/tokopedia/no_product_search1.png"}},watch:{show:function(t){var e=this;t?(this.params.search=this.formEdit.name,this.loadingSearch=!0,this.selectedProduct={},(0,s.searchProduct)(this.params).then(function(t){e.dataSearch=[].concat((0,o.default)(t.data.data)),e.dataSearch.map(function(t){t.select=!1}),e.current_page=t.data.meta.current_page,e.last_page=t.data.meta.last_page,e.loadingSearch=!1}).catch(function(t){e.$message({type:"error",message:t.string}),e.dataSearch=[],e.loadingSearch=!1})):(this.params.search="",this.selectedProduct={},this.dataSearch=[],this.loadingSearch=!1)}},computed:{disabledSave:function(){return!this.selectedProduct.id}},methods:{handleSearch:function(){var t=this;this.loadingSearch=!0,this.selectedProduct={},""!==this.params.search?(0,s.searchProductShopee)(this.params).then(function(e){t.dataSearch=[].concat((0,o.default)(e.data.data)),t.dataSearch.map(function(t){t.select=!1}),t.current_page=e.data.meta.current_page,t.last_page=e.data.meta.last_page,t.loadingSearch=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataSearch=[],t.loadingSearch=!1}):(this.dataSearch=[],this.loadingSearch=!1)},handleSelect:function(t){t.id!==this.selectedProduct.id?this.selectedProduct=(0,i.default)({},t):this.selectedProduct={}},syncProduct:function(){var t=this,e={product_id:this.formEdit.product_id?this.formEdit.product_id:this.formEdit.product_id_shopee,type:this.formEdit.type,product_id_olsera:this.selectedProduct.id,source_product:this.selectedProduct.type,stock:this.formEdit.stock};null!==this.shopeeActiveStore&&(e.shopee_shop_id=this.shopeeActiveStore.shopee_shop_id),this.loadingPair=!0,(0,s.pairProductShopee)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.handleClose(),t.loadingPair=!1,t.$emit("pair")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPair=!1})},handleClose:function(){this.selectedProduct={},this.dataSearch=[],this.params={search:"",per_page:50},this.$emit("cancel")},handleSave:function(){this.$emit("setproduct",this.selectedProduct),this.dataSearch=[],this.params.search="",this.selectedProduct={}},getMoreProduct:function(){var t=this;this.loadingSearch=!0,this.params.page=this.current_page+1,(0,s.searchProduct)(this.params).then(function(e){e.data.data.map(function(e){t.dataSearch.push(e)}),t.dataSearch.map(function(t){t.select=!1}),t.current_page=e.data.meta.current_page,t.last_page=e.data.meta.last_page,t.loadingSearch=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.dataSearch=[],t.loadingSearch=!1})}}}},ooKl:function(t,e,a){"use strict";a.r(e);var i=a("mNI8"),o=a("hty/");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var r=a("KHd+"),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);s.options.__file="dialogBeforeIntegration.vue",e.default=s.exports},sLua:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return o});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"el-zoom-in-center"}},[t.show?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left color-white--bg",staticStyle:{"z-index":"10"}},[a("span",{staticClass:"px-16"},[t._v("Detail Produk")]),t._v(" "),a("close-esc",{attrs:{hideEsc:!0},on:{close:t.handleClose}})],1),t._v(" "),a("div",{staticClass:"p-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"flex-container full-width"},[a("div",[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:32,shape:"square"}}),t._v(" "),a("el-avatar",{staticClass:"mr-4",staticStyle:{position:"absolute",left:"50px"},attrs:{src:"/static/img/shopee.png",size:20}})],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                  "+t._s(t.formEdit.name)+"\n                ")]),t._v(" "),""!==t.formEdit.sku&&null!==t.formEdit.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+" • "+t._s(t.formEdit.sku)+"\n                ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.price)+"\n                ")])])])])])]),t._v(" "),a("div",{staticClass:"px-24"},[a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.unit_price))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.price))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.stock_product))]),t._v(" "),a("div",{class:1===parseInt(t.formEdit.balance_stock)?"full-width text-right color-warning":"full-width text-right"},[t._v(t._s(t.formEdit.stock))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.category))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.category))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.etalase)+" ("+t._s(t.rootLang.group)+")")]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.etalase))])])]),t._v(" "),a("div",{staticClass:"p-24"},[a("span",{staticClass:"font-24 font-bold"},[t._v("Terhubung Dengan")])]),t._v(" "),a("div",{staticClass:"p-24"},[a("div",{staticClass:"border border--grey-border radius-10 p-8 flex-container"},[a("div",{staticClass:"full-width"},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:t.formEdit.pair.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"container-watermark-olsera color-white--bg"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                  "+t._s(t.formEdit.pair.name)+"\n                ")]),t._v(" "),""!==t.formEdit.pair.sku&&null!==t.formEdit.pair.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.pair.fsell_price)+" • "+t._s(t.formEdit.pair.sku)+"\n                ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                  "+t._s(t.formEdit.fsell_price)+"\n                ")])])])])])]),t._v(" "),a("div",{staticClass:"px-24"},[a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.unit_price))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair.fsell_price))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.stock_product))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair.stock))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.etalase)+" ("+t._s(t.rootLang.group)+")")]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair.etalase))])])]),t._v(" "),1===parseInt(t.formEdit.balance_stock)?a("div",{staticClass:"px-24 pt-24",staticStyle:{"margin-bottom":"-6px"}},[a("el-button",{staticClass:"btn-block",attrs:{type:"warning"},on:{click:function(e){t.showUpdateStock=!0}}},[t._v("\n          Selesaikan "+t._s(t.rootLang.conflict_stock)+"\n        ")])],1):t._e(),t._v(" "),a("div",{staticClass:"p-24"},[a("el-button",{staticClass:"btn-block color-danger color-white--bg",attrs:{type:"info",loading:t.loadingUnpair},on:{click:t.unpairProduct}},[t._v("\n          Hapus hubungan\n        ")]),t._v(" "),a("el-button",{staticClass:"btn-block color-black color-white--bg",attrs:{type:"info",loading:t.loadingPair},on:{click:t.resyncProduct}},[t._v("\n          Hubungkan Ulang\n        ")])],1)]),t._v(" "),a("el-dialog",{attrs:{visible:t.showUpdateStock,"show-close":!1,width:"536px","append-to-body":""},on:{"update:visible":function(e){t.showUpdateStock=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width font-bold font-24"},[t._v("\n          Update Stock\n        ")]),t._v(" "),[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.showUpdateStock=!1}}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"shopee",loading:t.loadingUpdateStock},on:{click:t.updateStock}},[t._v(t._s(t.lang.update))])]],2),t._v(" "),a("div",[a("div",{staticClass:"flex-container justify-center"},[a("div",[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:88,shape:"square"}}),t._v(" "),a("el-image",{staticStyle:{position:"absolute",left:"68px"},attrs:{src:"/static/img/service-activation/tokopedia/source_indicator.png",size:40}})],1),t._v(" "),a("div",{staticClass:"color-warning font-40 font-bold ml-24"},[t._v(t._s(t.formEdit.stock))]),t._v(" "),a("div",[a("el-image",{attrs:{src:"/static/img/service-activation/tokopedia/arrow_right.png",size:40}})],1),t._v(" "),a("div",{staticClass:"avatar-tokped text-right",style:"background-image: url("+t.formEdit.pictures+")"},[a("div",{staticClass:"watermark-shopee color-white--bg fl-right flex-container"})]),t._v(" "),a("div",{staticClass:"color-warning font-40 font-bold ml-24"},[t._v(t._s(t.formEdit.pair.stock))])]),t._v(" "),a("div",{staticClass:"mt-24 word-break"},[a("span",{staticClass:"font-bold"},[t._v("Update")]),t._v(" untuk menyamakan stok Shopee dengan stok produk di toko Olseramu\n        ")])])])],1):t._e()])},o=[]},sbOA:function(t,e,a){var i=a("d+lc"),o=a("I90/");t.exports=a("VSTI").getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},sxu4:function(t,e,a){"use strict";a.r(e);var i=a("n5bP"),o=a.n(i);for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return i[t]})}(n);e.default=o.a},td9W:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.integrateMerchant=function(t){return(0,i.service)({url:"/tokopedia/integration/merchant",method:"POST",data:t})},e.fetchProductTokopedia=function(t){return(0,i.service)({url:"/tokopedia/product",params:t})},e.syncProductTokopedia=function(t){return(0,i.service)({url:"/tokopedia/product/download",params:t})},e.fetchCaseTokopedia=function(t){return(0,i.service)({url:"/tokopedia/showcase",params:t})},e.searchProduct=function(t){return(0,i.service)({url:"/tokopedia/product/search",params:t})},e.pairProductTokopedia=function(t){return(0,i.service)({url:"/tokopedia/product/pair",method:"POST",data:t})},e.changeStatusProduct=function(t){return(0,i.service)({url:"/tokopedia/product/status",method:"POST",data:t})},e.setSameStockWithOlsera=function(t){return(0,i.service)({url:"/tokopedia/product/setting/stock",method:"POST",data:t})},e.updateStockProductTokopedia=function(t){return(0,i.service)({url:"/tokopedia/product/update/stock",method:"POST",params:t})},e.updateSingleProductTokopedia=function(t){return(0,i.service)({url:"/tokopedia/product/update/stock/single-product",method:"POST",data:t})},e.getBulkProduct=function(t){return(0,i.service)({url:"/tokopedia/product/pair/bulk-product",params:t})},e.pairBulkProduct=function(t){return(0,i.service)({url:"/tokopedia/product/pair/bulk-product",method:"POST",data:t})},e.getOrderTokopedia=function(t){return(0,i.service)({url:"/tokopedia/sales/order",params:t})},e.getdetailOrderTokopedia=function(t){return(0,i.service)({url:"/tokopedia/sales/order/detail",params:{order_no_tokopedia:t}})},e.saveSalesTokopedia=function(t){return(0,i.service)({url:"/tokopedia/sales/order/save",method:"POST",data:t})},e.getCountOrderTokopedia=function(t){return(0,i.service)({url:"/tokopedia/sales/order/notification",params:t})},e.getTokopediaStore=function(t){return(0,i.service)({url:"/tokopedia/product/merchant",params:t})},e.getLogs=function(t){return(0,i.service)({url:"/tokopedia/log/activities",params:t})},e.updateStatusOrder=function(t){return(0,i.service)({url:"/tokopedia/sales/status-order/update",method:"POST",data:t})},e.syncOrderTokopedia=function(t){return(0,i.service)({url:"/tokopedia/sales/order/sync",params:t})},e.updateStatusOrderTokopedia=function(t){return(0,i.service)({url:"/tokopedia/sales/order/status",method:"POST",data:t})},e.CancelOrderTokopedia=function(t){return(0,i.service)({url:"/tokopedia/sales/order/reject",method:"POST",data:t})},e.RejectReasonTokopedia=function(){return(0,i.service)({url:"/tokopedia/sales/order/reject/reason-code",method:"GET"})},e.fetchDataDuplicate=function(t){return(0,i.service)({url:"/tokopedia/product/duplicate-candidate",method:"GET",params:t})},e.deleteIntegrationMerchant=function(t){return(0,i.service)({url:"/tokopedia/integration/merchant",method:"DELETE",data:t})},e.fetchCategoryTokopedia=function(t){return(0,i.service)({url:"/tokopedia/category",params:t})},e.preUploadProduct=function(t){return(0,i.service)({url:"/tokopedia/product-pre-upload/store",method:"POST",data:t})},e.updatePreUploadProduct=function(t){return(0,i.service)({url:"/tokopedia/product-pre-upload/update",method:"POST",data:t})},e.duplicateSingleProduct=function(t){return(0,i.service)({url:"/tokopedia/product/store",method:"POST",data:t})},e.getVariantTokopedia=function(t){return(0,i.service)({url:"/tokopedia/category/variant",params:t})},e.getBrandTokopedia=function(t){return(0,i.service)({url:"/tokopedia/category/brand",params:t})},e.duplicateBulkProduct=function(t){return(0,i.service)({url:"/tokopedia/product/bulk-store",method:"POST",data:t})},e.getPrintLabelOrderTokopedia=function(t){return(0,i.service)({url:"/tokopedia/sales/order/print-label",method:"GET",params:t})},e.fetchListCategoryMapOlseraTokopedia=function(t){return(0,i.service)({url:"/tokopedia/category/pair-list",method:"GET",params:t})},e.pairCategoryTokopedia=function(t){return(0,i.service)({url:"/tokopedia/category/pairing",method:"POST",data:t})},e.getMerchantTokopedia=function(t){return(0,i.service)({url:"/tokopedia/integration/list/merchant",method:"GET",params:t})},e.syncMerchantTokopedia=function(){return(0,i.service)({url:"/tokopedia/integration/merchant/sync",method:"GET"})},e.unpairProductTokopedia=function(t){return(0,i.service)({url:"/tokopedia/product/unpair",method:"POST",data:t})};var i=a("xCek");!function(t){t&&t.__esModule}(a("wNa6"))},tffU:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(a("QbLZ")),o=c(a("DChC")),n=c(a("XFEm")),r=a("td9W"),s=a("xn7b"),l=c(a("HIJ2"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={components:{CloseEsc:n.default,PopoverConfirmation:l.default},mixins:[o.default],props:{show:{type:Boolean,default:!1},formEdit:{type:Object,default:null},loadingUnpair:!1},data:function(){return{params:{search:"",per_page:50},dataSearch:[],current_page:0,last_page:0,loadingSearch:!1,selectedProduct:{},loadingPair:!1,visibleChangeStatus:!1,loadingStatus:!1,showUpdateStock:!1,loadingUpdateStock:!1}},watch:{formEdit:function(t){console.log("tracert",t),t&&(this.formData=(0,i.default)({},t),console.log(this.formData))}},computed:{},mounted:function(){},methods:{syncProduct:function(){var t=this,e={product_id_tokopedia:this.formEdit.product_id,type:this.formEdit.type,product_id_olsera:this.selectedProduct.id,source_product:this.selectedProduct.type,stock:this.formEdit.stock};this.loadingPair=!0,(0,s.pairProductShopee)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.handleClose(),t.loadingPair=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPair=!1})},handleClose:function(){this.$emit("cancel")},resyncProduct:function(){this.$emit("resync",this.formEdit)},unpairProduct:function(){this.$emit("unpair",this.formEdit)},cancelSwitch:function(){this.visibleChangeStatus=!1},handleChangeStatus:function(t){var e=this;this.visibleChangeStatus=!1,this.loadingStatus=!0;var a={status:t,type:this.formEdit.type,product_id:[this.formEdit.product_id]};(0,r.changeStatusProduct)(a).then(function(t){e.$message({type:"success",message:t.data.data.message}),e.loadingStatus=!1,e.$emit("refresh")}).catch(function(t){e.$message({type:"error",message:t.string}),e.loadingStatus=!1})},updateStock:function(){var t=this;this.loadingUpdateStock=!0;var e={product_id_shopee:this.formEdit.product_id,type:this.formEdit.type,stock:this.formEdit.pair.stock};(0,s.updateSingleProductShopee)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.loadingUpdateStock=!1,t.showUpdateStock=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingUpdateStock=!1})}}}},wQv6:function(t,e,a){"use strict";a.r(e);var i=a("sLua"),o=a("Wkzx");for(var n in o)["default"].indexOf(n)<0&&function(t){a.d(e,t,function(){return o[t]})}(n);var r=a("KHd+"),s=Object(r.a)(o.default,i.a,i.b,!1,null,null,null);s.options.__file="offscreenDetailProduct.vue",e.default=s.exports},xn7b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.authorizationShopee=function(t){return(0,i.service)({url:"/shopee/authorization/authorization-url",params:t})},e.deauthorizationShopee=function(t){return(0,i.service)({url:"/shopee/authorization/deauthorization-url",params:t})},e.fetchProductShopee=function(t){return(0,i.service)({url:"/shopee/item/list",method:"GET",params:t})},e.getShopeeStore=function(t){return(0,i.service)({url:"/shopee/shop/info",method:"GET",params:t})},e.getShopeeStoreList=function(){return(0,i.service)({url:"/shopee/shop/lists",method:"GET"})},e.searchProduct=function(t){return(0,i.service)({url:"/shopeeOlseraItem/lists",method:"GET",params:t})},e.searchProductShopee=function(t){return(0,i.service)({url:"/shopeeOlseraItem/lists",params:t})},e.pairProductShopee=function(t){return(0,i.service)({url:"/shopee/item/connect",method:"POST",data:t})},e.unpairProductShopee=function(t){return(0,i.service)({url:"/shopee/item/disconnect",method:"DELETE",data:t})},e.fetchRequiredForm=function(t,e){return(0,i.service)({url:"/shopee/item-category/attribute/"+e,method:"GET",params:t})},e.saveDuplicateProduct=function(t,e){return(0,i.service)({url:"/shopee/duplicate-product/push",method:"POST",params:t,data:e})},e.saveDuplicateMulti=function(t,e){return(0,i.service)({url:"/shopee/duplicate-product/multi-push",method:"POST",params:t,data:e})},e.getBulkProduct=function(t){return(0,i.service)({url:"/shopee/item/bulk-pair",params:t})},e.pairBulkProduct=function(t){return(0,i.service)({url:"/shopee/item/connect-batch",method:"POST",data:t})},e.getOrderShopee=function(t){return(0,i.service)({url:"/shopee/order/list",params:t})},e.updateSingleProductShopee=function(t){return(0,i.service)({url:"/shopee/item/update/stock/single-product",method:"POST",data:t})},e.fetchListCategoryMapOlseraShopee=function(t){return(0,i.service)({url:"/shopee/mapping-category/list",method:"GET",params:t})},e.fetchListCategoryShopee=function(t){return(0,i.service)({url:"/shopee/item-category",method:"GET",params:t})},e.pairCategoryMulti=function(t){return(0,i.service)({url:"/shopee/mapping-category/multi-pairing",method:"POST",data:t})},e.unpairCategory=function(t){return(0,i.service)({url:"/shopee/mapping-category/unpairing",method:"POST",data:t})},e.setSameStockWithOlsera=function(t){return(0,i.service)({url:"/shopee/shop/equalize-stock",method:"PUT",data:t})},e.saveOrderShopee=function(t){return(0,i.service)({url:"/shopee/order/save",method:"POST",data:t})},e.syncProductShopee=function(t){return(0,i.service)({url:"/shopee/item/sync",method:"POST",params:t})},e.fetchDataDuplicate=function(t){return(0,i.service)({url:"/shopee/duplicate-product",method:"GET",params:t})},e.fetchDataSingleDuplicate=function(t,e){return(0,i.service)({url:"/shopee/duplicate-product/show/"+t,method:"GET",params:e})},e.updatePreUpload=function(t){return(0,i.service)({url:"/shopee/duplicate-product/upload-photo",method:"POST",data:t})},e.getLogsShopee=function(){return(0,i.service)({url:"/shopee/log/lists",method:"GET"})},e.getDetailOrderShopee=function(t){return(0,i.service)({url:"/shopee/order/detail",params:{id:t}})},e.resolveStockConflict=function(t){return(0,i.service)({url:"/shopee/item/resolve-stock-batch",method:"POST",params:t})},e.recomendationShopee=function(t,e){return(0,i.service)({url:"/shopee/item-category/recomendation/"+e,method:"GET",params:t})},e.syncProductShopeeByStore=function(t,e){return(0,i.service)({url:"/shopee/item/sync",method:"POST",params:t,cancelToken:e})},e.syncOrderShopeeByStore=function(t,e){return(0,i.service)({url:"/shopeeSyncOrder/sync",method:"POST",params:t,cancelToken:e})},e.getLogistic=function(t){return(0,i.service)({url:"/shopee/logistic/get-logistics-item",method:"GET",params:t})},e.getAddressWithPickupTime=function(t){return(0,i.service)({url:"/shopee/logistic/get-address-with-time",method:"POST",params:t})},e.getListShopeeStore=function(t){return(0,i.service)({url:"/listShopeeStore/lists",params:t})},e.acceptOrderCancellation=function(t){return(0,i.service)({url:"/shopee/order/cancel/accept",method:"POST",data:t})},e.rejectOrderCancellation=function(t){return(0,i.service)({url:"/shopee/order/cancel/reject",method:"POST",data:t})},e.getParameterInitLogistic=function(t){return(0,i.service)({url:"/shopee/logistic/get-parameter-init",method:"POST",data:t})},e.initLogistic=function(t){return(0,i.service)({url:"/shopee/logistic/init",method:"POST",data:t})},e.printLabel=function(t){return(0,i.service)({url:"/shopee/logistic/airway-bill",method:"POST",data:t})};var i=a("xCek")},ztiq:function(t,e,a){"use strict";var i=a("+GLl");a.n(i).a}}]);