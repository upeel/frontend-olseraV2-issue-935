(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7b32"],{"1BPP":function(t,e,i){"use strict";
/**
 * Vue Currency Input 1.20.3
 * (c) 2018-2020 Matthias Stiller
 * @license MIT
 */
function n(t,e,i){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!0,!0,i),t.dispatchEvent(n)}i.r(e),i.d(e,"CurrencyDirective",function(){return A}),i.d(e,"CurrencyInput",function(){return $}),i.d(e,"parseCurrency",function(){return f}),i.d(e,"setValue",function(){return h});var r=function(t,e,i){return e&&null!=t?Number(t.toFixed(i).split(".").join("")):t},a=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},o=function(t){return t.replace(/^0+(0$|[^0])/,"$1")},s=function(t,e){return(t.match(new RegExp(a(e),"g"))||[]).length},u=function(t,e){return t.substring(0,e.length)===e},c=function(t,e){return t.substring(0,t.indexOf(e))},l=[",",".","Ù«"],m=function(t){var e=t.currency,i=t.locale,n=t.precision,r=t.autoDecimalMode,a=t.valueAsInteger,o=new Intl.NumberFormat(i,"string"==typeof e?{currency:e,style:"currency"}:{minimumFractionDigits:1}),u=o.format(123456);this.locale=i,this.currency=e,this.digits=[0,1,2,3,4,5,6,7,8,9].map(function(t){return t.toLocaleString(i)}),this.decimalSymbol=s(u,this.digits[0])?u.substr(u.indexOf(this.digits[6])+1,1):void 0,this.groupingSymbol=u.substr(u.indexOf(this.digits[3])+1,1),this.minusSymbol=c(Number(-1).toLocaleString(i),this.digits[1]),void 0===this.decimalSymbol?this.minimumFractionDigits=this.maximumFractionDigits=0:"number"==typeof n?this.minimumFractionDigits=this.maximumFractionDigits=n:"object"!=typeof n||r||a?"string"==typeof e?(this.minimumFractionDigits=o.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=o.resolvedOptions().maximumFractionDigits):this.minimumFractionDigits=this.maximumFractionDigits=2:(this.minimumFractionDigits=n.min||0,this.maximumFractionDigits=void 0!==n.max?n.max:20),"string"==typeof e?(this.prefix=c(u,this.digits[1]),this.negativePrefix=c(o.format(-1),this.digits[1]),this.suffix=u.substring(u.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[6])+1)):(this.prefix=(e||{}).prefix||"",this.negativePrefix=""+this.minusSymbol+this.prefix,this.suffix=(e||{}).suffix||"")};m.prototype.parse=function(t){var e=this.isNegative(t);t=this.normalizeDigits(t),t=this.stripCurrencySymbol(t),t=this.stripMinusSymbol(t);var i=this.decimalSymbol?"("+a(this.decimalSymbol)+"\\d*)?":"",n=t.match(new RegExp("^"+this.integerPattern()+i+"$"));return n?Number((e?"-":"")+this.onlyDigits(n[1])+"."+this.onlyDigits(n[3]||"")):null},m.prototype.format=function(t,e){return void 0===e&&(e={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}),"string"==typeof this.currency?t.toLocaleString(this.locale,Object.assign({},{style:"currency",currency:this.currency},e)):this.insertCurrencySymbol(Math.abs(t).toLocaleString(this.locale,e),t<0||0===t&&1/t<0)},m.prototype.integerPattern=function(){return"(0|[1-9]\\d{0,2}("+a(this.groupingSymbol)+"?\\d{3})*)"},m.prototype.toFraction=function(t){return""+this.digits[0]+this.decimalSymbol+this.onlyLocaleDigits(t.substr(1)).substr(0,this.maximumFractionDigits)},m.prototype.isFractionIncomplete=function(t){return!!this.normalizeDigits(t).match(new RegExp("^"+this.integerPattern()+a(this.decimalSymbol)+"$"))},m.prototype.isNegative=function(t){return u(t,this.negativePrefix)||u(t.replace("-",this.minusSymbol),this.minusSymbol)},m.prototype.insertCurrencySymbol=function(t,e){return""+(e?this.negativePrefix:this.prefix)+t+this.suffix},m.prototype.stripMinusSymbol=function(t){return t.replace("-",this.minusSymbol).replace(this.minusSymbol,"")},m.prototype.stripCurrencySymbol=function(t){return t.replace(this.negativePrefix,"").replace(this.prefix,"").replace(this.suffix,"")},m.prototype.normalizeDecimalSymbol=function(t,e){var i=this;return l.forEach(function(n){t=t.substr(0,e)+t.substr(e).replace(n,i.decimalSymbol)}),t},m.prototype.normalizeDigits=function(t){return"0"!==this.digits[0]&&this.digits.forEach(function(e,i){t=t.replace(new RegExp(e,"g"),i)}),t},m.prototype.onlyDigits=function(t){return this.normalizeDigits(t).replace(/\D+/g,"")},m.prototype.onlyLocaleDigits=function(t){return t.replace(new RegExp("[^"+this.digits.join("")+"]*","g"),"")};var d={locale:void 0,currency:"EUR",valueAsInteger:!1,distractionFree:!0,precision:void 0,autoDecimalMode:!1,valueRange:void 0,allowNegative:!0},f=function(t,e){var i=Object.assign({},d,e),n=new m(i);return r(n.parse(t),i.valueAsInteger,n.maximumFractionDigits)},h=function(t,e){return n(t,"format",{value:e})},p=function(t,e){return t.setSelectionRange(e,e)},g=function(t,e){if(t===e)return!0;if(!t||!e||"object"!=typeof t||"object"!=typeof e)return!1;var i=Object.keys(t);return i.length===Object.keys(e).length&&(!!i.every(Object.prototype.hasOwnProperty.bind(e))&&i.every(function(i){return g(t[i],e[i])}))},y=function(t){this.numberFormat=t};y.prototype.conformToMask=function(t,e){var i=this;void 0===e&&(e="");var n=this.numberFormat.isNegative(t),r=t;r=this.numberFormat.stripCurrencySymbol(r);var a=function(t){if(""===t&&n&&e!==i.numberFormat.negativePrefix)return"";if(i.numberFormat.maximumFractionDigits>0){if(i.numberFormat.isFractionIncomplete(t))return t;if(u(t,i.numberFormat.decimalSymbol))return i.numberFormat.toFraction(t)}return null}(r=this.numberFormat.stripMinusSymbol(r));if(null!=a)return this.numberFormat.insertCurrencySymbol(a,n);var s=r.split(this.numberFormat.decimalSymbol),c=s[0],l=s.slice(1),m=o(this.numberFormat.onlyDigits(c)),d=this.numberFormat.onlyDigits(l.join("")).substr(0,this.numberFormat.maximumFractionDigits),f=l.length>0&&0===d.length,h=""===m&&n&&(e===t.slice(0,-1)||e!==this.numberFormat.negativePrefix);return f||h?e:m.match(/\d+/)?{numberValue:Number((n?"-":"")+m+"."+d),fractionDigits:d}:""};var v=function(t){this.numberFormat=t};v.prototype.conformToMask=function(t){if(""===t)return"";var e=this.numberFormat.isNegative(t),i=""===this.numberFormat.stripMinusSymbol(t)?-0:Number((e?"-":"")+o(this.numberFormat.onlyDigits(t)))/Math.pow(10,this.numberFormat.minimumFractionDigits);return{numberValue:i,fractionDigits:i.toFixed(this.numberFormat.minimumFractionDigits).slice(-this.numberFormat.minimumFractionDigits)}};var b=Math.pow(2,53)-1,S=function(t,e,i){var n=i.$CI_DEFAULT_OPTIONS,r="input"===t.tagName.toLowerCase()?t:t.querySelector("input");if(!r)throw new Error("No input element found");var a=Object.assign({},n||d,e),o=a.distractionFree,s=a.autoDecimalMode,u=a.valueRange;"boolean"==typeof o&&(a.distractionFree={hideCurrencySymbol:o,hideNegligibleDecimalDigits:o,hideGroupingSymbol:o}),a.valueRange=u?{min:void 0!==u.min?Math.max(u.min,-b):-b,max:void 0!==u.max?Math.min(u.max,b):b}:{min:-b,max:b},s?(a.distractionFree.hideNegligibleDecimalDigits=!1,r.setAttribute("inputmode","numeric")):r.setAttribute("inputmode","decimal");var c=new m(a);return r.$ci=Object.assign({},r.$ci||{numberValue:null},{options:a,numberMask:a.autoDecimalMode?new v(c):new y(c),currencyFormat:c}),r},x=function(t,e){var i=t.$ci,a=i.numberValue,o=i.currencyFormat,s=i.options;n(t,e,{numberValue:a=r(a,s.valueAsInteger,o.maximumFractionDigits)})},F=function(t,e,i){void 0===i&&(i=!1);var n=t.$ci,r=n.currencyFormat,a=n.options;_(t,null!=e?r.format(function(t,e){return Math.min(Math.max(t,e.min),e.max)}(e,a.valueRange)):null),(e!==t.$ci.numberValue||i)&&x(t,"change")},_=function(t,e,i){void 0===i&&(i=!1),function(t,e,i){if(null!=e){var n=t.$ci,r=n.focus,a=n.decimalSymbolInsertedAt,o=n.options,s=n.numberMask,u=n.currencyFormat,c=n.previousConformedValue,l=o.allowNegative,m=o.distractionFree;void 0!==a&&(e=u.normalizeDecimalSymbol(e,a),t.$ci.decimalSymbolInsertedAt=void 0);var d,f=s.conformToMask(e,c);if("object"==typeof f){var h=f.numberValue,p=f.fractionDigits,g=u.maximumFractionDigits,y=u.minimumFractionDigits;r&&(y=g),y=i?p.replace(/0+$/,"").length:Math.min(y,p.length),d=h>b?c:u.format(h,{useGrouping:!(r&&m.hideGroupingSymbol),minimumFractionDigits:y,maximumFractionDigits:g})}else d=f;l||(d=d.replace(u.negativePrefix,u.prefix)),r&&m.hideCurrencySymbol&&(d=d.replace(u.negativePrefix,u.minusSymbol).replace(u.prefix,"").replace(u.suffix,"")),t.value=d,t.$ci.numberValue=u.parse(t.value)}else t.value=t.$ci.numberValue=null;t.$ci.previousConformedValue=t.value}(t,e,i),x(t,"input")},D=function(t){t.addEventListener("input",function(e){if(!e.detail){var i=t.value,n=t.selectionStart,r=t.$ci,a=r.currencyFormat,o=r.options;_(t,i),t.$ci.focus&&p(t,function(t,e,i,n,r){var a=n.prefix,o=n.suffix,u=n.decimalSymbol,c=n.maximumFractionDigits,l=n.groupingSymbol,m=e.indexOf(u)+1,d=e.length-i;return Math.abs(t.length-e.length)>1&&i<=m?t.indexOf(u)+1:t.substr(i,1)===l&&s(t,l)===s(e,l)+1?t.length-d-1:(!r.autoDecimalMode&&0!==m&&i>m&&n.onlyDigits(e.substr(m)).length-1===c&&(d-=1),r.distractionFree.hideCurrencySymbol?t.length-d:Math.max(t.length-Math.max(d,o.length),0===a.length?0:a.length+1))}(t.value,i,n,a,o))}},{capture:!0}),t.addEventListener("keypress",function(e){l.includes(e.key)&&(t.$ci.decimalSymbolInsertedAt=t.selectionStart)}),t.addEventListener("format",function(e){var i=t.$ci,n=i.currencyFormat,r=i.options,a=i.numberValue,o=function(t){return r.valueAsInteger&&null!=t?t/Math.pow(10,n.maximumFractionDigits):t}(e.detail.value);a!==o&&F(t,o)}),t.addEventListener("focus",function(){t.$ci.focus=!0;var e=t.$ci.options.distractionFree,i=e.hideCurrencySymbol,n=e.hideGroupingSymbol,r=e.hideNegligibleDecimalDigits;(i||n||r)&&setTimeout(function(){var e=t.value,i=t.selectionStart,n=t.selectionEnd;e&&_(t,e,r),Math.abs(i-n)>0?t.setSelectionRange(0,t.value.length):p(t,function(t,e,i,n){var r=n;return e.distractionFree.hideCurrencySymbol&&(r-=t.prefix.length),e.distractionFree.hideGroupingSymbol&&(r-=s(i.substring(0,n),t.groupingSymbol)),Math.max(0,r)}(t.$ci.currencyFormat,t.$ci.options,e,i))})}),t.addEventListener("blur",function(){t.$ci.focus=!1,null!=t.$ci.numberValue&&F(t,t.$ci.numberValue)}),t.addEventListener("change",function(e){e.detail||x(t,"change")})},A={bind:function(t,e,i){var n=e.value,r=i.context,a=S(t,n,r);D(a),h(a,a.$ci.currencyFormat.parse(a.value))},componentUpdated:function(t,e,i){var n=e.value,r=e.oldValue,a=i.context;if(!g(n,r)){var o=S(t,n,a);F(o,o.$ci.numberValue,!0)}}},$={render:function(t){var e=this;return t("input",{directives:[{name:"currency",value:this.options}],on:Object.assign({},this.$listeners,{change:function(t){t.detail&&e.$emit("change",t.detail.numberValue)},input:function(t){t.detail&&e.value!==t.detail.numberValue&&e.$emit("input",t.detail.numberValue)}})})},directives:{currency:A},name:"CurrencyInput",props:{value:{type:Number,default:null},locale:{type:String,default:void 0},currency:{type:[String,Object],default:void 0},distractionFree:{type:[Boolean,Object],default:void 0},precision:{type:[Number,Object],default:void 0},autoDecimalMode:{type:Boolean,default:void 0},valueAsInteger:{type:Boolean,default:void 0},valueRange:{type:Object,default:void 0},allowNegative:{type:Boolean,default:void 0}},mounted:function(){this.setValue(this.value)},computed:{options:function(){var t=this,e=Object.assign({},this.$CI_DEFAULT_OPTIONS||d);return Object.keys(d).forEach(function(i){void 0!==t[i]&&(e[i]=t[i])}),e}},watch:{value:"setValue"},methods:{setValue:function(t){h(this.$el,t)}}},M={install:function(t,e){void 0===e&&(e={});var i=e.componentName;void 0===i&&(i=$.name);var n=e.directiveName;void 0===n&&(n="currency");var r=e.globalOptions;void 0===r&&(r={}),t.prototype.$CI_DEFAULT_OPTIONS=Object.assign({},d,r),t.component(i,$),t.directive(n,A),t.prototype.$parseCurrency=function(t,e){return void 0===e&&(e={}),f(t,Object.assign({},r,e))}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(M),e.default=M},FyfS:function(t,e,i){t.exports={default:i("fUKC"),__esModule:!0}},K8jy:function(t,e,i){"use strict";i.r(e);var n=i("x7bf"),r=i("NG4n");for(var a in r)["default"].indexOf(a)<0&&function(t){i.d(e,t,function(){return r[t]})}(a);var o=i("KHd+"),s=Object(o.a)(r.default,n.a,n.b,!1,null,null,null);s.options.__file="TransactionCreateExpense.vue",e.default=s.exports},NG4n:function(t,e,i){"use strict";i.r(e);var n=i("YgiA"),r=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,function(){return n[t]})}(a);e.default=r.a},YgiA:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=u(i("FyfS")),r=i("xCek"),a=u(i("vDqi")),o=u(i("wd/R")),s=u(i("Ckak"));function u(t){return t&&t.__esModule?t:{default:t}}e.default={name:"TransactionCreateOutcome",components:{InputMoney:s.default},data:function(){return{loading:!0,transactionType:[],userStaff:[],addNewSelect:!1,formAdd:{dateOutcome:"",typeTransaction:null,staff:null,total:0,notes:"",trans_type_id:null},moreStaff:{link:"",current_page:1},loadingMore:!1}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getTypeTransaction(),this.getUserStaff()}},methods:{getDefaultTime:function(){this.formAdd.dateOutcome=(0,o.default)().format("YYYY-MM-DD HH:mm:ss")},getTypeTransaction:function(t,e){var i=this;this.loading=!0;var o={Authorization:"Bearer "+this.token.access_token},s={search_column:"type",search_text:"E",search:t,per_page:100};(0,a.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"inextranstype"),headers:o,params:s}).then(function(t){var r=!0,a=!1,o=void 0;try{for(var s,u=(0,n.default)(t.data.data);!(r=(s=u.next()).done);r=!0){var c=s.value;c.value=c.name,c.id=c.id}}catch(t){a=!0,o=t}finally{try{!r&&u.return&&u.return()}finally{if(a)throw o}}i.transactionType=t.data.data,e(i.transactionType),i.loading=!1}).catch(function(n){(console.log(n),404===n.response.status)&&e([{value:t,id:0}]);i.loading=!1})},handleSelected:function(t){0===t.id?this.addNewSelect=!0:this.formAdd.trans_type_id=t.id},getUserStaff:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,a.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"storeusers"),headers:e,params:{per_page:50}}).then(function(e){t.userStaff=e.data.data;for(var i=0;i<t.userStaff.length;i++)t.formAdd.staff=t.userStaff[0].id;t.moreStaff={link:e.data.links.next,current_page:e.data.meta.current_page},t.loading=!1}).catch(function(e){console.log(e),t.loading=!1})},save:function(){var t=this,e={Authorization:"Bearer "+this.token.access_token},i={type:"E",trans_date:this.formAdd.dateOutcome,user_id:this.formAdd.staff,amount:this.formAdd.total,notes:this.formAdd.notes};this.addNewSelect?this.$set(i,"trans_type_name",this.formAdd.typeTransaction):this.$set(i,"trans_type_id",this.formAdd.trans_type_id),(0,a.default)({method:"POST",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"inextrans"),headers:e,data:i}).then(function(e){t.result=e.data,t.$message({message:"Success",type:"success"}),t.loading=!1,t.$router.push({path:"/transaction"})}).catch(function(e){t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},handleCurrency:function(t){t<0&&(this.formAdd.total=0)},handleMoreStaff:function(t){9999===t&&this.getMoreStaff()},getMoreStaff:function(){var t=this;this.loadingMore=!0,this.formAdd.staff=this.userStaff[this.userStaff.length-1].id;var e={Authorization:"Bearer "+this.token.access_token},i={page:parseInt(this.moreStaff.current_page)+1,per_page:50};(0,a.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"storeusers"),headers:e,params:i}).then(function(e){t.userStaff=t.userStaff.concat(e.data.data),t.moreStaff={link:e.data.links.next,current_page:e.data.meta.current_page},document.getElementById("input_notes").focus(),document.getElementById("select_staff").focus(),t.loadingMore=!1}).catch(function(e){console.log(e),t.loadingMore=!1})}},mounted:function(){this.getTypeTransaction(),this.getUserStaff(),this.getDefaultTime()}}},fUKC:function(t,e,i){i("ZY/g"),i("C5kU"),t.exports=i("sbOA")},sbOA:function(t,e,i){var n=i("d+lc"),r=i("I90/");t.exports=i("VSTI").getIterator=function(t){var e=r(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},x7bf:function(t,e,i){"use strict";i.d(e,"a",function(){return n}),i.d(e,"b",function(){return r});var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-wrapper"},[i("section",{staticClass:"content income-expense"},[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[i("h4",{staticClass:"box-title",staticStyle:{"flex-grow":"1"}},[t._v(t._s(t.lang.add)+" "+t._s(t.lang.expense))]),t._v(" "),i("div",[i("router-link",{attrs:{to:"/transaction"}},[i("el-button",{attrs:{type:"text"}},[t._v(t._s(t.lang.cancel))])],1),t._v(" "),t.formAdd.typeTransaction?i("el-button",{attrs:{type:"success"},on:{"~click":function(e){return t.save.apply(null,arguments)}}},[t._v("\n            "+t._s(t.lang.save)+"\n          ")]):i("el-button",{attrs:{type:"success",disabled:""}},[t._v("\n            "+t._s(t.lang.save)+"\n          ")])],1)]),t._v(" "),i("div",{staticClass:"card-body"},[i("el-form",{attrs:{"label-position":"left","label-width":"120px"}},[i("el-form-item",{attrs:{label:t.lang.transaction_date}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:t.$lang[t.langId].pick_a_day,format:"dd MMMM yyyy | HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.formAdd.dateOutcome,callback:function(e){t.$set(t.formAdd,"dateOutcome",e)},expression:"formAdd.dateOutcome"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.lang.transaction_type}},[i("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":t.getTypeTransaction,placeholder:t.lang.search},on:{select:t.handleSelected},model:{value:t.formAdd.typeTransaction,callback:function(e){t.$set(t.formAdd,"typeTransaction",e)},expression:"formAdd.typeTransaction"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.lang.staff}},[i("el-select",{staticClass:"inline-form",attrs:{id:"select_staff",loading:t.loadingMore,placeholder:t.lang.please_select,filterable:""},on:{change:function(e){return t.handleMoreStaff(t.formAdd.staff)}},model:{value:t.formAdd.staff,callback:function(e){t.$set(t.formAdd,"staff",e)},expression:"formAdd.staff"}},[t._l(t.userStaff,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),t._v(" "),t.moreStaff.link?i("el-option",{staticStyle:{background:"#767676",color:"#F5F5F5"},attrs:{value:9999}},[i("span",{staticStyle:{"font-size":"13px","margin-right":"10px",float:"left"}},[i("el-button",{staticStyle:{color:"#F5F5F5"},attrs:{type:"text",icon:"el-icon-more",size:"mini"}})],1),t._v(" "),i("span",[t._v(t._s(t.$lang[t.langId].load_more))])]):t._e()],2)],1),t._v(" "),i("el-form-item",{attrs:{label:t.lang.transaction_amount}},[i("input-money",{on:{currency:function(e){return t.handleCurrency(t.formAdd.total)}},model:{value:t.formAdd.total,callback:function(e){t.$set(t.formAdd,"total",e)},expression:"formAdd.total"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.lang.notes}},[i("el-input",{attrs:{id:"input_notes",type:"textarea"},model:{value:t.formAdd.notes,callback:function(e){t.$set(t.formAdd,"notes",e)},expression:"formAdd.notes"}})],1)],1)],1)])],1)])},r=[]}}]);