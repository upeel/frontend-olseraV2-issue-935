(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-15cb"],{"1Z1C":function(e,t,r){"use strict";r.d(t,"a",function(){return o}),r.d(t,"b",function(){return s});var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[r("section",[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[r("h3",{staticClass:"box-title",staticStyle:{"flex-grow":"1"}},[e._v("\n          "+e._s(e.lang.add)+" "+e._s(e.lang.return_orders)+"\n        ")]),e._v(" "),r("div",[r("router-link",{attrs:{to:"/sales/returnorder"}},[r("el-button",{attrs:{type:"text"}},[e._v(e._s(e.lang.cancel))])],1),e._v(" "),e.formAdd.orderNo?r("el-button",{attrs:{type:"success"},on:{"~click":function(t){return e.save.apply(null,arguments)}}},[e._v("\n            "+e._s(e.lang.save)+"\n          ")]):r("el-button",{attrs:{type:"info",disabled:""}},[e._v("\n            "+e._s(e.lang.save)+"\n          ")])],1)]),e._v(" "),r("div",{staticClass:"box-body sales-create-body"},[r("el-form",{attrs:{"label-position":"left","label-width":"220px"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("div",{staticClass:"mb-24"},[r("div",{staticClass:"color-primary font-bold mb-12"},[e._v("\n              "+e._s(e.lang.customer)+" *\n            ")]),e._v(" "),r("el-form-item",{attrs:{label:e.lang.name_or_email}},[r("el-autocomplete",{staticClass:"w-fit",attrs:{"fetch-suggestions":e.getCustomerSuggest,debounce:e.autoCompleteStartOn,placeholder:e.lang.search+" "+e.lang.customer},on:{select:e.handleSelectCustomer},model:{value:e.formAdd.customerValue,callback:function(t){e.$set(e.formAdd,"customerValue",t)},expression:"formAdd.customerValue"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.lang.order_no}},[r("el-autocomplete",{staticClass:"w-fit",attrs:{"fetch-suggestions":e.getOrderNoCust,debounce:e.autoCompleteStartOn,placeholder:e.lang.search+" "+e.lang.order_no},on:{select:e.handleSelectOrderNo},model:{value:e.formAdd.orderNo,callback:function(t){e.$set(e.formAdd,"orderNo",t)},expression:"formAdd.orderNo"}})],1)],1),e._v(" "),r("div",[r("div",{staticClass:"color-primary font-bold mb-12"},[e._v("\n              "+e._s(e.lang.returns)+" *\n            ")]),e._v(" "),r("el-form-item",{attrs:{label:e.lang.return_date}},[r("el-date-picker",{attrs:{type:"date",placeholder:this.$lang[e.langId].pick_a_day,format:"dd-MM-yyyy","value-format":"yyyy-MM-dd"},model:{value:e.formAdd.dateBuy,callback:function(t){e.$set(e.formAdd,"dateBuy",t)},expression:"formAdd.dateBuy"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.lang.base_currency}},[r("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:e.lang.please_select},model:{value:e.formAdd.currencyTypes.currency_id,callback:function(t){e.$set(e.formAdd.currencyTypes,"currency_id",t)},expression:"formAdd.currencyTypes.currency_id"}},e._l(e.currencyType,function(e){return r("el-option",{key:e.currency_id,attrs:{label:e.currency_name,value:e.currency_id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:e.lang.notes}},[r("el-input",{attrs:{type:"textarea",placeholder:this.$lang[e.langId].please_input+e.lang.notes},model:{value:e.formAdd.notes,callback:function(t){e.$set(e.formAdd,"notes",t)},expression:"formAdd.notes"}})],1)],1)])],1)])],1)])},s=[]},C8gy:function(e,t,r){"use strict";r.r(t);var o=r("1Z1C"),s=r("i+kd");for(var a in s)["default"].indexOf(a)<0&&function(e){r.d(t,e,function(){return s[e]})}(a);var n=r("KHd+"),d=Object(n.a)(s.default,o.a,o.b,!1,null,null,null);d.options.__file="ReturnOrderCreate.vue",t.default=d.exports},FyfS:function(e,t,r){e.exports={default:r("fUKC"),__esModule:!0}},Mse6:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(r("FyfS")),s=r("xCek"),a=n(r("vDqi"));function n(e){return e&&e.__esModule?e:{default:e}}t.default={name:"RturnOrderCreate",data:function(){return{loading:!0,createCustomer:!1,isDisableCustomer:!1,customerType:null,currencyType:[],autoCompleteStartOn:300,formAdd:{customerValue:null,customerId:null,dateBuy:"",currencyTypes:{currency_id:""},notes:"",orderNo:null,order_id:null,suggestCustomer:[],suggestOrderNo:[]}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getCurrency()}},methods:{getCurrency:function(){var e=this;this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,a.default)({method:"GET",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"currency"),headers:t}).then(function(t){e.currencyType=t.data.data,e.loading=!1}).catch(function(t){e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.loading=!1})},getCustomerSuggest:function(e,t){var r=this,n={Authorization:"Bearer "+this.token.access_token},d={search:e};(0,a.default)({method:"GET",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"customer"),headers:n,params:d}).then(function(e){var s=!0,a=!1,n=void 0;try{for(var d,l=(0,o.default)(e.data.data);!(s=(d=l.next()).done);s=!0){var u=d.value;u.value=u.customer_text}}catch(e){a=!0,n=e}finally{try{!s&&l.return&&l.return()}finally{if(a)throw n}}r.formAdd.suggestCustomer=e.data.data,t(r.formAdd.suggestCustomer)}).catch(function(){r.formAdd.suggestCustomer=[],t(r.formAdd.suggestCustomer)})},save:function(){var e=this,t={Authorization:"Bearer "+this.token.access_token};""===this.formAdd.orderNo&&(this.formAdd.orderNo=0);var r={return_date:this.formAdd.dateBuy,currency_id:this.formAdd.currencyTypes.currency_id,order_id:this.formAdd.order_id,order_no:this.formAdd.orderNo,notes:this.formAdd.notes,customer_id:this.formAdd.customerId};(0,a.default)({method:"POST",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"salesreturn"),headers:t,data:r}).then(function(t){e.$message({message:"Success",type:"success"}),e.$router.push({path:"/sales/returnorder/"+t.data.data.id})}).catch(function(t){e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},handleSelectCustomer:function(e){this.formAdd.customerId=e.id,this.formAdd.orderNo="",this.formAdd.suggestOrderNo=[]},handleSelectOrderNo:function(e){console.log("data",e),this.formAdd.orderNo=e.order_no,this.formAdd.order_id=e.id},getOrderNoCust:function(e,t){var r=this,n={Authorization:"Bearer "+this.token.access_token},d={};d=null!==this.formAdd.customerValue?""!==e?{customer_id:this.formAdd.customerId,search_text:e,search_column:"order_no"}:{customer_id:this.formAdd.customerId}:{search:e},(0,a.default)({method:"GET",url:(0,s.baseApi)(this.selectedStore.url_id,this.langId,"salesreturn/refundableorders"),headers:n,params:d}).then(function(e){var s=!0,a=!1,n=void 0;try{for(var d,l=(0,o.default)(e.data.data);!(s=(d=l.next()).done);s=!0){var u=d.value;u.value=u.order_no}}catch(e){a=!0,n=e}finally{try{!s&&l.return&&l.return()}finally{if(a)throw n}}r.formAdd.suggestOrderNo=e.data.data,t(r.formAdd.suggestOrderNo)}).catch(function(){r.formAdd.suggestOrderNo=[],t(r.formAdd.suggestOrderNo)})}},mounted:function(){this.getCurrency()}}},fUKC:function(e,t,r){r("ZY/g"),r("C5kU"),e.exports=r("sbOA")},"i+kd":function(e,t,r){"use strict";r.r(t);var o=r("Mse6"),s=r.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){r.d(t,e,function(){return o[e]})}(a);t.default=s.a},sbOA:function(e,t,r){var o=r("d+lc"),s=r("I90/");e.exports=r("VSTI").getIterator=function(e){var t=s(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return o(t.call(e))}}}]);