(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7f09"],{"0Tz5":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{md:8}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card"},[a("div",{attrs:{slot:"header"},slot:"header"},[a("h4",[t._v(t._s(t.$lang[t.langId].how_to))])]),t._v(" "),a("div",{staticClass:"card-body"},[a("div",[a("h5",[a("b",[a("span",{pre:!0},[t._v("\n                {{ order_no }}{{ customer_name }} {{ customer_email }}\n              ")])])]),t._v(" "),a("p",[t._v(t._s(t.lang.info_variable_tags))])]),t._v(" "),a("hr"),t._v(" "),a("div",[a("h5",[t._v(t._s(t.lang.load_template))]),t._v(" "),a("p",[t._v(t._s(t.$lang[t.langId].info_sample_content_email)+" :")]),t._v(" "),a("br"),t._v(" "),a("el-button",{staticClass:"pull-right",staticStyle:{"margin-bottom":"5px",color:"#0085CD"},attrs:{plain:""},on:{click:t.setExampleBody}},[t._v(t._s(t.lang.load_template)+" "+t._s(t.lang.email_body)+"\n            ")]),t._v(" "),a("el-input",{attrs:{type:"textarea",rows:10,readonly:""},model:{value:t.exampleEmail,callback:function(e){t.exampleEmail=e},expression:"exampleEmail"}})],1)])])],1),t._v(" "),a("el-col",{attrs:{md:16}},[a("el-card",[a("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"mr-8"},[1===t.data.email_notify_type_id||2===t.data.email_notify_type_id||3===t.data.email_notify_type_id||4===t.data.email_notify_type_id?a("el-tag",{attrs:{type:"success"}},[a("i",{staticClass:"el-icon-message"})]):t._e(),t._v(" "),7===t.data.email_notify_type_id||8===t.data.email_notify_type_id?a("el-tag",{attrs:{type:"warning"}},[a("i",{staticClass:"el-icon-message"})]):t._e(),t._v(" "),5===t.data.email_notify_type_id||6===t.data.email_notify_type_id?a("el-tag",{attrs:{type:"danger"}},[a("i",{staticClass:"el-icon-message"})]):t._e()],1),t._v(" "),a("div",{staticStyle:{"flex-grow":"1"}},[a("h4",[t._v(t._s(t.data.email_notify_type_name))]),t._v(" "),a("p",{staticClass:"input-desc size-12 oldgrey"},[t._v("\n              "+t._s(t.data.email_notify_type_description)+"\n            ")])]),t._v(" "),a("el-button",{staticClass:"mr-4",attrs:{size:"small",type:"info"},on:{click:t.cancel}},[t._v("\n            "+t._s(t.lang.cancel)+"\n          ")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"success",icon:"el-icon-check",disabled:t.disabledSave},on:{click:t.save}},[t._v("\n              "+t._s(t.lang.save)+"\n          ")])],1),t._v(" "),a("div",{staticClass:"card-body"},[a("h5",[t._v(t._s(t.lang.email_subject))]),t._v(" "),a("el-input",{model:{value:t.data.subject,callback:function(e){t.$set(t.data,"subject",e)},expression:"data.subject"}}),t._v(" "),a("br"),t._v(" "),a("h5",[t._v(t._s(t.lang.email_body))]),t._v(" "),a("wysiwyg",{model:{value:t.data.body,callback:function(e){t.$set(t.data,"body",e)},expression:"data.body"}})],1)])],1)],1)],1)},n=[]},Ce4J:function(t,e,a){"use strict";a.r(e);var i=a("X3Qx"),n=a("sGdG");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="Index.vue",e.default=r.exports},DChC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s(a("QbLZ")),n=s(a("Ljqw"));function s(t){return t&&t.__esModule?t:{default:t}}var o={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var t=this.$store.getters.token;return this.$store.getters.webviewMode&&(t=this.$store.getters.webviewToken),{Authorization:"Bearer "+t.access_token}},baseURL:function(){return n.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var t=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],e=[];return this.$store.getters.stores.map(function(a){e.includes(a.store_id)||a.is_store_active&&(t.push((0,i.default)({},a)),e.push(a.store_id))}),t},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};e.default=o},"G2/W":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(a("QbLZ"));e.default={props:{item:{type:Object,default:null}},computed:{lang:function(){return this.$store.state.userStores.lang}},methods:{edit:function(){var t=(0,i.default)({},this.item);this.$emit("edit",t)}}}},N6B6:function(t,e,a){"use strict";a.r(e);var i=a("G2/W"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},SKCP:function(t,e,a){"use strict";a.r(e);var i=a("0Tz5"),n=a("u1pL");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="Form.vue",e.default=r.exports},X3Qx:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.showForm?t._e():a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("h4",[t._v(t._s(t.lang.email_and_notification_templates))])]),t._v(" "),a("div",{staticClass:"card-body"},[t._l(t.data,function(e){return a("div",{key:e.id,staticClass:"dd-item",staticStyle:{"margin-bottom":"0"}},[a("list",{attrs:{item:e},on:{edit:t.edit}})],1)}),t._v(" "),t.moreLink?a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingItems,expression:"loadingItems"}],staticClass:"load-more"},[a("el-button",{staticClass:"btn-block",attrs:{disabled:t.disabledButton},on:{click:t.loadMore}},[t._v("\n          "+t._s(t.$lang[t.langId].load_more)+"\n        ")])],1):t._e()],2)]),t._v(" "),t.showForm?a("item-form",{attrs:{saved:t.saved,loading:t.loading,"form-data":t.tmp},on:{cancel:t.cancel,save:t.save}}):t._e()],1)},n=[]},ZmJp:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dd-handle mb-12",staticStyle:{"padding-left":"8px"}},[a("div",{staticClass:"flex-container flex-container--wrap"},[a("div",{staticClass:"mr-8"},[1===t.item.email_notify_type_id||2===t.item.email_notify_type_id||3===t.item.email_notify_type_id||4===t.item.email_notify_type_id?a("el-tag",{attrs:{type:"success"}},[a("i",{staticClass:"el-icon-message"})]):t._e(),t._v(" "),7===t.item.email_notify_type_id||8===t.item.email_notify_type_id?a("el-tag",{attrs:{type:"warning"}},[a("i",{staticClass:"el-icon-message"})]):t._e(),t._v(" "),5===t.item.email_notify_type_id||6===t.item.email_notify_type_id?a("el-tag",{attrs:{type:"danger"}},[a("i",{staticClass:"el-icon-message"})]):t._e()],1),t._v(" "),a("div",{staticStyle:{"flex-grow":"1"}},[t._v("\n      "+t._s(t.item.email_notify_type_name)+"\n      "),a("p",{staticClass:"input-desc size-12 oldgrey",staticStyle:{"margin-bottom":"0","margin-top":"0"}},[t._v("\n        "+t._s(t.item.email_notify_type_description)+"\n      ")])]),t._v(" "),a("button-action-authenticated",{attrs:{permission:["settings/smsnotify","edit"],size:"mini",type:"text",icon:"el-icon-edit-outline"},on:{click:t.edit}},[t._v("\n      "+t._s(t.lang.edit)+"\n    ")])],1)])},n=[]},bwT1:function(t,e,a){"use strict";a.r(e);var i=a("ZmJp"),n=a("N6B6");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var o=a("KHd+"),r=Object(o.a)(n.default,i.a,i.b,!1,null,null,null);r.options.__file="List.vue",e.default=r.exports},jBUM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("xCek"),n=r(a("vDqi")),s=r(a("bwT1")),o=r(a("SKCP"));function r(t){return t&&t.__esModule?t:{default:t}}e.default={components:{List:s.default,ItemForm:o.default},data:function(){return{loading:!0,loadingItems:!1,data:[],disabledButton:!1,moreLink:null,tmp:{},showForm:!1,saved:!1,params:{per_page:100}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},lang:function(){return this.$store.state.userStores.lang},langId:function(){return this.$store.state.userStores.langId}},watch:{"store.getters.selectedStore":function(){this.getData()}},methods:{getData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"GET",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"emailnotify/"),headers:e,params:this.params}).then(function(e){t.data=e.data.data,t.moreLink=e.data.links.next,t.loading=!1}).catch(function(e){t.loading=!1})},getSingleData:function(t){var e=this;this.loading=!0;var a={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"GET",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"emailnotify/detail/"+t),headers:a,params:this.params}).then(function(t){e.tmp=t.data.data,e.loading=!1,e.showForm=!0}).catch(function(t){e.loading=!1,e.showForm=!1,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},loadMore:function(){var t=this;this.disabledButton=!0,this.loadingItems=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"GET",url:this.moreLink,params:this.params,headers:e}).then(function(e){t.data=t.data.concat(e.data.data),t.moreLink=e.data.links.next,t.loadingItems=!1,t.disabledButton=!1}).catch(function(e){t.loadingItems=!1,t.disabledButton=!1,t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},edit:function(t){var e=t.id;this.getSingleData(e)},cancel:function(){this.showForm=!1,this.tmp={}},save:function(t){var e=this;this.loading=!0;var a=t.id,s={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"PUT",url:(0,i.baseApi)(this.selectedStore.url_id,this.langId,"emailnotify/update/"+a),headers:s,data:t}).then(function(t){e.tmp={},e.saved=!0,e.showForm=!1,e.loading=!1,e.getData(),e.$message({type:"success",message:"saved"})}).catch(function(t){e.saved=!1,e.loading=!1,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})}},mounted:function(){this.getData()}}},lYY5:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(a("P2sY")),n=o(a("QbLZ")),s=o(a("9p7T"));function o(t){return t&&t.__esModule?t:{default:t}}e.default={props:["saved","loading","formData"],components:{Wysiwyg:s.default},data:function(){return{disabledSave:!0,exampleEmail:null,data:{},editorOption:{modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"}],[{align:["center","right","justify"]}]]}}}},created:function(){this.exampleEmail=this.data.template},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},lang:function(){return this.$store.state.userStores.lang},langId:function(){return this.$store.state.userStores.langId}},watch:{data:{handler:function(t){t.subject&&""!==t.subject&&t.body&&""!==t.body?this.disabledSave=!1:this.disabledSave=!0},deep:!0},saved:{handler:function(t){!0===t&&(this.data={},this.disabledSave=!0)},deep:!0},formData:{handler:function(t){this.data=(0,n.default)({},t)},deep:!0,immediate:!0}},methods:{setExampleBody:function(){this.data.body=this.exampleEmail},cancel:function(){this.data={},this.$emit("cancel")},save:function(){this.disabledSave=!0;var t=(0,i.default)({},this.data);this.$emit("save",t)}}}},sGdG:function(t,e,a){"use strict";a.r(e);var i=a("jBUM"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},u1pL:function(t,e,a){"use strict";a.r(e);var i=a("lYY5"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a}}]);