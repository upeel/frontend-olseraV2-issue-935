(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0ce8"],{"0EJn":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="https://www.olsera.io/";n="https://d1fjozuxvl1n9t.cloudfront.net/",t.default=n},"1oEa":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a("QbLZ"));t.default={data:function(){return{localSelectedStore:""}},computed:{stores:function(){return this.$store.state.userStores.stores},selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},rootLang:function(){return this.$lang[this.langId]},langId:function(){return this.$store.state.userStores.langId}},watch:{selectedStore:{handler:function(e){this.localSelectedStore=(0,n.default)({},e)},deep:!0,immediate:!0}},methods:{handleChangeSelectStore:function(e){this.$emit("change",e.store_id)}}}},"3NO6":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("wd/R");t.default={props:{show:{type:Boolean,default:!1},data:{type:Object,default:null}},methods:{getDurationLabel:function(e){if(!e.time_going&&e.time_coming)return{class_name:"absent-success",icon:1,label:e.time_coming};if(!e.time_going&&!e.time_coming)return{class_name:"",icon:0,label:"Belum absen"};if(e.time_going&&e.time_coming){var t=new n(e.time_coming,"HH:mm"),a=new n(e.time_going,"HH:mm"),i=n.duration(a.diff(t));return{class_name:"absent-finished",icon:2,label:parseFloat(i.as("hours")).toFixed(2)+" jam"}}}}}},"4sBa":function(e,t,a){"use strict";a.r(t);var n=a("3NO6"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);t.default=i.a},BHoP:function(e,t,a){"use strict";a.r(t);var n=a("R2U7"),i=a("hJrB");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);var o=a("KHd+"),l=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);l.options.__file="SwitchStore.vue",t.default=l.exports},BqDy:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"el-fade-in-linear"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"FrameIn",staticClass:"attendance-frame",class:e.going?"attendance-frame--out":"attendance-frame--in"},[a("div",{staticClass:"flex-container"},[e.data?a("div",{staticClass:"human-attendance-info"},[a("div",{staticClass:"human-attendance-info--label"},[e.going?[e._v("\n            Pulang\n          ")]:[e._v("\n            Datang\n          ")]],2),e._v(" "),a("div",{staticClass:"font-bold human-attendance-info--content"},[e._v("\n          "+e._s(e.data.clock_in)+"\n        ")])]):e._e(),e._v(" "),a("div",{staticClass:"human-walking"},[a("img",{attrs:{src:"/static/img/attendance/human-walking.svg",alt:""}})]),e._v(" "),a("div",{staticClass:"pintu"},[a("div",{staticClass:"pintu--lubang"}),e._v(" "),a("div",{staticClass:"pintu--daun"})])])])])},i=[]},EI4M:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(a("P2sY")),i=b(a("14Xm")),s=b(a("D3Ub")),o=b(a("QbLZ")),l=a("xCek"),r=b(a("0EJn")),c=a("L9QE"),d=b(a("vDqi")),u=b(a("hA3k")),m=b(a("BHoP")),p=b(a("XFEm")),f=b(a("U7DK")),g=b(a("N7xX")),h=a("0dap"),v=a("u2/x");function b(e){return e&&e.__esModule?e:{default:e}}var _=a("f0Wu");t.default={name:"IndexAttendanceMobile",components:{SwitchStore:m.default,CloseEsc:p.default,FrameIn:f.default,EmployeeDetail:g.default,QrcodeStream:v.QrcodeStream},data:function(){return{userStores:null,accessToken:null,refreshToken:null,singleStore:null,loggedInUser:null,loadingElement:!1,loading:!1,ip:null,initStoreId:null,dateNow:_().format("ddd, D MMMM YYYY"),clock:_().format("HH:mm:ss"),dataGmt:["Asia/Jakarta","Asia/Makassar","Asia/Jayapura"],dataGmtLabels:["(WIB)","(WITA)","(WIT)"],visibleStoreList:!1,dataEmployee:[],absens:!1,tempEmployee:{data_absent_by_date:{time_going:null},data_absent_by_dates:[],is_in:!1},form:{password:""},dataKeyboard:[{id:0,name:"1",value:1},{id:3,name:"4",value:4},{id:6,name:"7",value:7},{id:9,name:"C",value:"C"},{id:1,name:"2",value:2},{id:4,name:"5",value:5},{id:7,name:"8",value:8},{id:10,name:"0",value:0},{id:2,name:"3",value:3},{id:5,name:"6",value:6},{id:8,name:"9",value:9},{id:11,name:"icon",value:"icon"}],tempPass:[],moment:_,selectedGMT:localStorage.getItem("olsbowebview_selectedgmt")?localStorage.getItem("olsbowebview_selectedgmt"):"Asia/Jakarta",queryByAlpha:"",inputPass:"",loadingConfirmPin:!1,employeeListByDate:[],visibleEmployeDetail:!1,dataQr:null,visibleEmployeProfile:!1,going:!1,colorEsc:"Primary",loadingHistory:!1,showChangeEmployee:!1,absenphone:!1,visibleProfilePhone:!1,dialogEmployeeDetail:!1,visibleScan:!1,sessionExpired:!1,loadingBarcode:!1,activePhone:!1,params:{search_column:"name",search_text:"",per_page:100},loadingEmployee:!1,locationLat:"",locationLon:"",locationIssue:!1,locationBlock:!1,disabledBtnPhone:!0,timeNow:_().format("HH:mm"),loadingEmployeeListByDate:!1,loadingQR:!1,source:"pos",visibleDialogAccessibilityQR:!1}},computed:{token:function(){return this.$store.state.sessionToken?this.$store.state.tokenAttendance:this.$store.getters.webviewToken},lang:function(){return this.$store.getters.lang},langId:function(){return this.$store.getters.langId},selectedStore:function(){return this.$store.getters.webviewSelectedStore?this.$store.getters.webviewSelectedStore:{}},columns:function(){for(var e=[],t=Math.ceil(this.dataEmployee.length/2),a=0;a<2;a++)e.push(this.dataEmployee.slice(a*t,a*t+t));return e},columnsKeyboard:function(){for(var e=[],t=Math.ceil(this.dataKeyboard.length/3),a=0;a<=2;a++)e.push(this.dataKeyboard.slice(a*t,a*t+t));return e},computedAlphabets:function(){var e=[];return this.dataEmployee.length&&this.dataEmployee.map(function(t){var a=t.name?t.name.split("")[0]:null;a&&!e.includes(a)&&e.push(a.toUpperCase())}),e},computedEmployeeList:function(){var e=this,t=[];return this.employeeListByDate.map(function(a){e.dataEmployee.map(function(t){a.id===t.id&&e.$set(a,"pin",t.pin)}),a.presence.length?(e.$set(a,"data_absent_by_date",{}),a.presence_id=a.presence[0].presence_id,a.data_absent_by_date=(0,o.default)({},a.presence[0])):e.$set(a,"data_absent_by_date",{already_absent:0,time_coming:null,time_going:null,shifttime:null,selected_date:_().format("YYYY-MM-DD")}),t.push((0,o.default)({},a))}),t},computedEmployee:function(){var e=this;return this.queryByAlpha?this.computedEmployeeList.filter(function(t){var a=t.name?t.name.split("")[0]:null;if(a&&a.toUpperCase()===e.queryByAlpha)return t}):this.computedEmployeeList},computedStyleImageAbsen:function(){return{backgroundImage:"url("+this.tempEmployee.photo+")",width:"319px",height:"319px",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"}},computedDayOrNight:function(){var e=_(this.computedGMT.time,"HH:mm"),t=_("18:00","HH:mm"),a=_("06:00","HH:mm");return e.isAfter(a)&&e.isBefore(t)?"Day":"Night"},computedClass:function(){var e="attendance-mobile-wrapper--block attendance-mobile-wrapper--block--welcome pa-8 bg-blackview",t="attendance-mobile-wrapper--block p-24 inputabsen-bg-blackview align-center employee-profile",a="attendance-mobile-wrapper--block attendance-mobile-wrapper--block--welcome pa-8 bg-primary",n="attendance-mobile-wrapper--block p-24 inputabsen-bg-primary align-center employee-profile";return"Night"===this.computedDayOrNight?{class_background:e,class_profile:t}:{class_background:a,class_profile:n}},computedBtnAbsenPhone:function(){return 2===this.tempEmployee.presence.length&&1===this.tempEmployee.data_absent_by_date.already_absent&&null!==this.tempEmployee.data_absent_by_date.time_going},computedGMT:function(){if(this.selectedGMT){var e=_.utc(this.timeNow);return{time:e.clone().tz(this.selectedGMT).format("HH:mm:ss"),date:e.clone().tz(this.selectedGMT).format("ddd, D MMMM YYYY")}}return{}},computedGMTId:function(){var e=this;return this.dataGmt.findIndex(function(t){return t===e.selectedGMT})+7},computedRunningClock:function(){var e=_(this.clock,"HH:mm:ss");return{time:e.format("HH:mm"),second:e.format(":ss")}}},watch:{absens:function(){this.inputPass=""},selectedGMT:function(e){e&&window.localStorage.setItem("olsbowebview_selectedgmt",e)}},mounted:function(){var e=this;return(0,s.default)(i.default.mark(function t(){var a,n,s,o,l,r,c,d,u,m;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$store.commit("SET_WEBVIEW_MODE",!0),a=e.$route.query,n=a.token,s=a.uid,o=a.sid,l=a.lang,r=JSON.parse(localStorage.getItem("olsbowebview_token")),c=JSON.parse(localStorage.getItem("olsbowebview_selectedstore")),d=JSON.parse(localStorage.getItem("olsbo_tokenAttendance")),u=JSON.parse(localStorage.getItem("olsbo_sessionToken")),m=a.dev_id?a.dev_id:null,e.getLocalization(l),!(n&&s&&o)){t.next=22;break}return e.$store.commit("REMOVE_WEBVIEW_TOKEN"),e.$store.commit("REMOVE_WEBVIEW_SELECTED_STORE"),t.next=17,o;case 17:return e.initStoreId=t.sent,t.next=20,e.authWebview({username:s,password:n,store_id:o,dev_id:m});case 20:t.next=37;break;case 22:if(!r||!c||n||s||o){t.next=26;break}e.$route.query.session_token?e.getAuthAttendance(e.$route.query.session_token,m):e.getLoggedInUser(),t.next=37;break;case 26:if(!e.$route.query.session_token){t.next=30;break}e.getAuthAttendance(e.$route.query.session_token,m),t.next=37;break;case 30:if(!d||!u){t.next=34;break}e.getAuthAttendance(u,m),t.next=37;break;case 34:return e.$message({type:"error",message:"Auth failed"}),e.$router.push("/webview-unauthorized"),t.abrupt("return");case 37:e.colorEsc="Night"===e.computedDayOrNight?"Blackview":"Primary",e.getRealTime();case 39:case"end":return t.stop()}},t,e)}))()},methods:{refreshData:function(){if(JSON.parse(localStorage.getItem("olsbo_idEmployeePresence"))){var e=JSON.parse(localStorage.getItem("olsbo_idEmployeePresence"));this.setEmployee(e)}else this.getClientPresenceList(),this.getEmployee(),this.getBarcode()},authWebview:function(e){var t=this;this.source="pos",this.loading=!0;var a={uid:e.username,token:e.password,sid:e.store_id,dev_id:e.dev_id};this.$store.dispatch("webviewAttendanceLogin",a).then(function(){t.$store.dispatch("webviewFetchUserLoggedin").then(function(){t.$store.dispatch("webviewSetSelectedStore",e.store_id).then(function(){t.refreshData(),t.loading=!1})})}).catch(function(e){t.$message({type:"error",message:t.parseErrorMessage(e)}),t.loading=!1,t.$router.push("/webview-unauthorized")})},getLoggedInUser:function(){var e=this;this.loading=!0,this.$store.dispatch("webviewFetchUserLoggedin").then(function(){e.refreshData(),e.loading=!1}).catch(function(t){e.loading=!1})},getLocalization:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return(0,s.default)(i.default.mark(function a(){var n;return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return(n=t)||(n="id"),a.next=4,l.HTTP.get("localization").then(function(t){e.$store.dispatch("setLangLocally",{id:n,lang:t.data[n].admin.all})});case 4:case"end":return a.stop()}},a,e)}))()},getSingleStore:function(e){var t=this;return(0,s.default)(i.default.mark(function a(){var o;return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.loading=!0,o={headers:{Authorization:"Bearer "+t.token.access_token}},a.next=4,l.HTTP.get("api/store/"+e,o).then(function(){var e=(0,s.default)(i.default.mark(function e(a){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,n.default)({},a.data.data);case 2:return t.singleStore=e.sent,window.isViewingStoreId=t.singleStore,u.default.$emit("store-switched",t.singleStore),e.next=7,t.$store.commit("SET_SELECTED_STORE",t.singleStore);case 7:return e.next=9,t.$store.commit("SET_STORE_PLAN",t.singleStore.pos_freemium);case 9:t.$store.commit("SET_WEBVIEW_SELECTED_STORE",t.singleStore),t.getStoreData(),t.refreshData(),t.loading=!1;case 13:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.loading=!1,t.$message({type:"error",message:t.parseErrorMessage(e)})});case 4:case"end":return a.stop()}},a,t)}))()},getStoreData:function(){var e=this;return(0,s.default)(i.default.mark(function t(){var a;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a={Authorization:"Bearer "+e.token.access_token},(0,d.default)({method:"GET",url:(0,l.baseApi)(e.selectedStore.url_id,e.langId,"generalsetting/"),headers:a}).then(function(t){e.loading=!1}).catch(function(t){e.loading=!1,e.$message({type:"error",message:e.parseErrorMessage(t)})});case 2:case"end":return t.stop()}},t,e)}))()},getEmployee:function(e){var t=this;this.loadingEmployee=!0;var a={per_page:100};e&&(a=this.params);var n={Authorization:"Bearer "+this.token.access_token};(0,d.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"attendance/employee"),headers:n,params:a}).then(function(e){t.dataEmployee=e.data.data,t.loadingEmployee=!1}).catch(function(e){t.$message({type:"error",message:t.parseErrorMessage(e)}),t.dataEmployee=[],t.loadingEmployee=!1})},getClientPresenceList:function(e){var t=this;this.loadingEmployeeListByDate=!0;var a={start_date:_().format("YYYY-MM-DD"),end_date:_().format("YYYY-MM-DD"),per_page:100};e&&(a=e),(0,c.clientPresenceListByDateNew)(a).then(function(e){t.employeeListByDate=e.data.data,t.loadingEmployeeListByDate=!1}).catch(function(e){t.employeeListByDate=[],t.loadingEmployeeListByDate=!1,t.$message({type:"error",message:t.parseErrorMessage(e)})})},getBarcode:function(){var e=this;return(0,s.default)(i.default.mark(function t(){var a;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.loadingQR=!0,a={is_preview:1,custom_text:r.default+"attendance-mobile",custom_size:145},(0,c.getBarcode)(a).then(function(t){e.dataQr=t.data.data.base64,e.loadingQR=!1}).catch(function(t){e.loadingQR=!1,e.dataQr=null,e.$message({type:"error",message:e.parseErrorMessage(t)})});case 3:case"end":return t.stop()}},t,e)}))()},getAuthAttendance:function(e,t){var a=this;this.source="phone",this.activePhone=!0;var n={session_token:e,dev_id:t};(0,c.getAuthAttendance)(n).then(function(t){a.accessToken=t.data.data.access_token,a.refreshToken=t.data.data.refresh_token;var n={access_token:a.accessToken,refresh_token:a.refreshToken};a.$store.commit("SET_TOKEN_ATTENDANCE",n),a.$store.commit("SET_SESSION_TOKEN",e),a.$store.commit("SET_WEBVIEW_TOKEN",n),a.checkPermissionGeoLocation(),a.getSingleStore(t.data.data.store_id)}).catch(function(e){a.$message({type:"error",message:a.parseErrorMessage(e)}),"phone"===a.source&&401===e.statusCode?(a.$router.push("/scan"),a.sessionExpired=!0):a.$router.push("/webview-unauthorized")})},setEmployee:function(e){var t=this;return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,!0;case 2:return t.absens=a.sent,a.next=5,(0,o.default)({},e);case 5:t.tempEmployee=a.sent,t.tempEmployee.data_absent_by_dates||(t.tempEmployee.data_absent_by_dates=[]),t.visibleEmployeProfile=!0,t.visibleProfilePhone=!0,t.showChangeEmployee=!1,t.activePhone&&t.$store.commit("SET_ID_EMPLOYEE_PRESENCE",t.tempEmployee),t.getClientEmployeeDetail();case 12:case"end":return a.stop()}},a,t)}))()},setPassword:function(e){if(9!==e.id&&11!==e.id&&this.inputPass.length<6)this.inputPass=this.inputPass+e.name;else if(9===e.id)this.inputPass="";else if(11===e.id&&this.inputPass.length){var t=this.inputPass.split("");t.pop(),this.inputPass=t.join("")}},handleClickAlphabet:function(e){this.queryByAlpha===e?this.queryByAlpha="":this.queryByAlpha=e},handleChangeInputPass:function(e){if(isNaN(e)){var t=this.inputPass.split("");t.pop(),this.inputPass=t.join("")}},confirmPin:function(){"phone"===this.source&&this.checkPermissionGeoLocation(),6===this.inputPass.length&&(this.tempEmployee.pin===this.inputPass?this.going?this.absentgoing():this.absentcoming():(this.$message({type:"error",message:"You've entered the wrong pin number"}),this.inputPass=""))},absentcoming:function(){var e=this;this.loadingConfirmPin=!0,(0,c.absentcoming)({id:this.tempEmployee.id,pin:this.inputPass,lat:this.locationLat,lon:this.locationLon,gmt:this.computedGMTId,source:this.source}).then(function(t){e.loadingConfirmPin=!1,e.going=!1,e.$set(e.tempEmployee,"clock_in",_(e.clock,"HH:mm:ss").format("HH:mm")),e.$set(e.tempEmployee,"is_in",!0),setTimeout(function(){e.refreshData()},2e3)}).catch(function(t){e.loadingConfirmPin=!1,e.loadingConfirmPin=!1,403===t.statusCode?e.locationIssue=!0:e.$message({type:"error",message:e.parseErrorMessage(t)})})},absentgoing:function(){var e=this;this.loadingConfirmPin=!0,(0,c.absentgoing)({id:this.tempEmployee.id,presence_id:this.tempEmployee.presence_id,pin:this.inputPass,lat:this.locationLat,lon:this.locationLon,gmt:this.computedGMTId,source:this.source}).then(function(t){e.loadingConfirmPin=!1,e.going=!0,e.$set(e.tempEmployee,"clock_in",_(e.clock,"HH:mm:ss").format("HH:mm")),e.$set(e.tempEmployee,"is_in",!0),setTimeout(function(){e.refreshData()},2e3)}).catch(function(t){e.loadingConfirmPin=!1,403===t.statusCode?e.locationIssue=!0:e.$message({type:"error",message:e.parseErrorMessage(t)})})},getClientEmployeeDetail:function(){var e=this;(0,c.clientEmployeeDetail)({start_date:_().format("YYYY-MM-DD"),end_date:_().format("YYYY-MM-DD"),id:this.tempEmployee.id}).then(function(t){if(t.data.data.presence.length){var a=t.data.data.presence.length-1;e.tempEmployee.presence_id=t.data.data.presence[a].presence_id,e.tempEmployee.data_absent_by_date=(0,o.default)({},t.data.data.presence[a]),0===t.data.data.presence[a].already_absent?e.going=!1:1===t.data.data.presence[a].already_absent&&null!==t.data.data.presence[a].time_going?e.going=!1:e.going=!0}})},showEmployeeDetail:function(e,t){var a=this;return(0,s.default)(i.default.mark(function n(){return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a.loadingHistory=!0,n.next=3,(0,o.default)({},e);case 3:return a.tempEmployee=n.sent,n.next=6,a.$set(a.tempEmployee,"data_absent_by_dates",[]);case 6:return n.next=8,(0,c.clientPresenceListByDateNew)({start_date:_().subtract(7,"d").format("YYYY-MM-DD"),end_date:_().format("YYYY-MM-DD"),employee_id:a.tempEmployee.id}).then(function(e){a.tempEmployee.data_absent_by_dates=e.data.data,t&&(a.dialogEmployeeDetail=!0),a.activePhone&&a.$store.commit("SET_ID_EMPLOYEE_PRESENCE",a.tempEmployee),a.loadingHistory=!1}).catch(function(e){a.loadingHistory=!1,a.$message({type:"error",message:a.parseErrorMessage(e)})});case 8:a.visibleEmployeProfile=!0,a.visibleEmployeDetail=!0,a.visibleProfilePhone=!0,a.showChangeEmployee=!1;case 12:case"end":return n.stop()}},n,a)}))()},handleBack:function(e){e&&(this.showChangeEmployee=!this.showChangeEmployee),this.visibleEmployeDetail&&!this.absens?(this.visibleEmployeDetail=!1,this.visibleEmployeProfile=!1,this.colorEsc="Night"===this.computedDayOrNight?"Blackview":"Primary"):this.visibleEmployeDetail&&this.absens?this.visibleEmployeDetail=!1:(this.visibleEmployeDetail=!1,this.visibleEmployeProfile=!1,this.absens=!1,this.$store.commit("REMOVE_ID_EMPLOYEE_PRESENCE"),this.colorEsc="Night"===this.computedDayOrNight?"Blackview":"Primary")},getDurationLabel:function(e){if(e.data_absent_by_date.time_going){var t=new _(e.data_absent_by_date.time_coming,"HH:mm"),a=new _(e.data_absent_by_date.time_going,"HH:mm"),n=_.duration(a.diff(t));return{class_name:"absent-finished",label:"Durasi "+parseFloat(n.as("hours")).toFixed(2)+" jam"}}return{class_name:"absent-success",label:"Datang "+e.data_absent_by_date.time_coming}},getDurationLabelPhone:function(e){if(!e.time_going&&e.time_coming)return{class_name:"absent-success",icon:1,label:e.time_coming};if(!e.time_going&&!e.time_coming)return{class_name:"",icon:0,label:"Belum absen"};if(e.time_going&&e.time_coming){var t=new _(e.time_coming,"HH:mm"),a=new _(e.time_going,"HH:mm"),n=_.duration(a.diff(t));return{class_name:"absent-finished",icon:2,label:parseFloat(n.as("hours")).toFixed(2)+" jam"}}},handleShowProfile:function(e){this.colorEsc="",this.going=!1,this.setEmployee(e)},handleBackPhone:function(e){this.absenphone=!1,this.absens=!1,this.visibleEmployeProfile=!1,this.visibleEmployeDetail=!1,e?(this.visibleProfilePhone=!1,this.$store.commit("REMOVE_ID_EMPLOYEE_PRESENCE")):(this.setEmployee(this.tempEmployee),this.visibleProfilePhone=!0)},handleClose:function(){this.tempEmployee.is_in=!1,this.absenphone?this.handleBackPhone(!1):this.handleBack()},showScanner:function(e){var t=this;e&&(setTimeout(function(){t.loadingBarcode=!0},500),setTimeout(function(){t.loadingBarcode=!1,t.visibleScan=!1,t.absens=!1,window.open(e,"_top")},1200))},handleShowAbsenPhone:function(){var e=this;if("phone"===this.source)if(this.loadingConfirmPin=!0,JSON.parse(localStorage.getItem("olsbo_sessionToken"))){var t={session_token:JSON.parse(localStorage.getItem("olsbo_sessionToken"))};(0,c.getAuthAttendance)(t).then(function(t){t.data.data.access_token&&(e.absenphone=!0,e.absens=!1,e.loadingConfirmPin=!1)}).catch(function(t){e.loadingConfirmPin=!1,e.$message({type:"error",message:e.parseErrorMessage(t)}),401===t.statusCode&&(e.sessionExpired=!0)})}else this.loadingConfirmPin=!1,this.sessionExpired=!0;else this.absenphone=!0,this.absens=!1},checkPermissionGeoLocation:function(){var e=this;"pos"!==this.source&&navigator.permissions&&navigator.permissions.query?navigator.permissions.query({name:"geolocation"}).then(function(t){"granted"===t.state?e.getGeolocation():"prompt"===t.state?e.getGeolocation():"denied"===t.state&&(e.locationBlock=!0)}).catch(function(e){alert(e)}):this.getGeolocation()},getGeolocation:function(){var e=this,t={enableHighAccuracy:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],timeout:5e3};navigator.geolocation.getCurrentPosition(function(t){var a={lat:t.coords.latitude,lng:t.coords.longitude};e.locationLat=a.lat,e.locationLon=a.lng},function(t){e.$message({type:"error",message:"ERROR fetching location coordinate: "+t.message})},t)},handleSearchEmployee:function(e){var t={start_date:_().format("YYYY-MM-DD"),end_date:_().format("YYYY-MM-DD"),search_column:"name",search_text:e,per_page:100};t.search_text.length>0?this.getClientPresenceList(t):(this.$delete(t,"search_column"),this.$delete(t,"search_text"),this.getClientPresenceList(t))},reloadPage:function(){window.location.reload()},getRealTime:function(){var e=this;(0,c.timeserver)().then(function(t){e.timeNow=t.data.data.date,e.dateNow=t.data.data.date,e.setRunningClock()})},setQueryString:function(e){var t=this;e?(0,h.debounce)(function(e){return t.handleSearchEmployee(e)},"400ms")(e):this.handleSearchEmployee("")},setRunningClock:function(){var e=this,t=_.utc(this.timeNow);!function a(){var n=t.tz(e.selectedGMT).add(1,"seconds"),i=n.format("HH"),s=n.format("mm"),o=n.format("ss");e.clock=i+":"+s+":"+o,setTimeout(a,1e3)}()},parseErrorMessage:function(e){return"Error code: "+e.statusCode+" "+e.message}}}},FWqU:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{show:{type:Boolean,default:null},data:{type:Object,default:null},going:{type:Boolean,default:null}},watch:{show:function(e){var t=this;e&&(setTimeout(function(){t.$refs.FrameIn.classList.add("animate-done")},500),setTimeout(function(){t.$emit("close")},1200))}}}},M1VY:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticClass:"attendance-history attendance-mobile-wrapper--block color-body p-40"},[a("div",{staticClass:"color-body font-40 mb-24 font-bold"},[e._v("\n    Riwayat Absen Terakhir\n  ")]),e._v(" "),e.data&&e.data.data_absent_by_dates.length?a("div",{staticClass:"like-table-wrapper"},e._l(e.data.data_absent_by_dates,function(t,n){return a("div",{key:n,staticClass:"like-table-wrapper--item flex-container"},[a("div",{staticClass:"font-18 font-bold",staticStyle:{width:"80%"}},[a("div",{staticClass:"font-bold"},[e._v(e._s(t.day_name))]),e._v("\n        "+e._s(t.selected_date)+"\n      ")]),e._v(" "),t.presence.length?a("div",{staticClass:"full-width text-right"},e._l(t.presence,function(t,n){return a("el-button",{key:n,staticClass:"radius-5",class:e.getDurationLabel(t).class_name,attrs:{size:"mini"}},[a("div",{staticClass:"flex-container"},[a("div",[0!==e.getDurationLabel(t).icon?a("svg-icon",{staticClass:"font-20",staticStyle:{"margin-right":"5px"},attrs:{"icon-class":1===e.getDurationLabel(t).icon?"attendance-come-ico":"attendance-success-ico"}}):e._e()],1),e._v(" "),a("div",[e._v("\n              "+e._s(e.getDurationLabel(t).label)+"\n            ")])])])}),1):a("div",{staticClass:"text-right full-width"},[a("el-button",{staticClass:"radius-5 btn-info",attrs:{size:"mini"}},[e._v("\n          Belum Absen\n        ")])],1)])}),0):e._e()]):e._e()},i=[]},N7xX:function(e,t,a){"use strict";a.r(t);var n=a("M1VY"),i=a("4sBa");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);var o=a("KHd+"),l=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);l.options.__file="employeeDetail.vue",t.default=l.exports},R2U7:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{"value-key":"store_id",filterable:""},on:{change:e.handleChangeSelectStore},model:{value:e.localSelectedStore,callback:function(t){e.localSelectedStore=t},expression:"localSelectedStore"}},e._l(e.stores,function(t,n){return a("el-option",{key:n,staticClass:"box-in-loop pointer flex-container m-null",attrs:{label:t.name,value:t,disabled:t.disable}},[a("div",{staticStyle:{"flex-grow":"1","line-height":"1"}},[a("div",{staticClass:"font-bold font-14"},[e._v(e._s(t.name))]),e._v(" "),a("span",{staticClass:"font-13"},[e._v(e._s(t.url_id+".myolsera.com"))])]),e._v(" "),t.disable?a("span",[a("el-button",{staticClass:"btn-block",attrs:{round:"",size:"small",type:"danger"}},[e._v("\n          "+e._s(e.rootLang.expired)+"\n        ")])],1):e._e()])}),1)],1)},i=[]},U7DK:function(e,t,a){"use strict";a.r(t);var n=a("BqDy"),i=a("hjqg");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);var o=a("KHd+"),l=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);l.options.__file="in.vue",t.default=l.exports},dhCC:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.token&&e.token.access_token?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"attendance-mobile-wrapper",class:[e.absens?"p-null attendance-mobile-wrapper--keyboard-view":"",e.$route.query.mode]},[a("frame-in",{attrs:{show:e.tempEmployee.is_in,data:e.tempEmployee,going:e.going},on:{close:e.handleClose}}),e._v(" "),e.absens||e.visibleEmployeDetail||e.absenphone?a("close-esc",{staticStyle:{top:"30px",right:"30px"},attrs:{id:"closeesc",circle:!0,color:e.colorEsc},on:{close:e.handleBack}}):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.absens&&!e.visibleEmployeDetail&&!e.absenphone,expression:"!absens && !visibleEmployeDetail && !absenphone"}],staticClass:"attendance-mobile-wrapper--block attendance-mobile-wrapper--block p-16",staticStyle:{"flex-grow":"1"}},[a("div",{staticClass:"flex-container mb-16 pb-4 container-shortcut-alphabets employee-profile"},e._l(e.computedAlphabets,function(t,n){return a("el-button",{key:n,staticClass:"mr-16 font-24",class:t===e.queryByAlpha?"active":"",attrs:{circle:"",type:"info"},on:{click:function(a){return e.handleClickAlphabet(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])}),1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingEmployeeListByDate,expression:"loadingEmployeeListByDate"}],staticClass:"flex-container flex-container--wrap attendace-staff-list"},e._l(e.computedEmployee,function(t){return a("div",{key:t.id,staticClass:"pointer flex-container mr-16 mb-16 radius-5 px-8 py-8 box-shadow border border--grey attendace-staff-list-item",staticStyle:{width:"224px"},on:{click:function(a){return e.handleShowProfile(t)}}},[a("div",{staticClass:"mr-16"},[a("el-avatar",{attrs:{src:t.photo,size:56}},[e.tempEmployee.name?[e._v("\n              "+e._s(e.tempEmployee.name.split("")[0])+"\n            ")]:e._e()],2)],1),e._v(" "),a("div",{staticClass:"overflow-ellipsis font-bold font-24"},[e._v("\n          "+e._s(t.name)+"\n        ")])])}),0)]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.absens&&!e.visibleEmployeDetail,expression:"!absens && !visibleEmployeDetail"}],class:e.computedClass.class_background},[a("div",{class:"Night"===e.computedDayOrNight?"bg-blackview radius-32 mb-24":"bg-primary radius-32 mb-24",staticStyle:{padding:"48px 24px"}},[a("div",{staticClass:"text-center font-32 mb-16"},[e._v(e._s(e.selectedStore.url_id))]),e._v(" "),a("div",{staticClass:"text-center"},[a("svg-icon",{staticStyle:{"font-size":"100px"},attrs:{"icon-class":"Night"===e.computedDayOrNight?"night":"morning"}}),e._v(" "),a("div",{staticClass:"font-bold",staticStyle:{"font-size":"60px"}},[e._v("\n          "+e._s(e.computedRunningClock.time)),a("span",{staticStyle:{color:"rgba(255, 255, 255, 0.5)"}},[e._v(e._s(e.computedRunningClock.second))])]),e._v(" "),a("div",{staticClass:"font-18 mb-24"},[e._v(e._s(e.computedGMT.date))]),e._v(" "),a("div",{staticClass:"select-gmt"},[a("el-select",{model:{value:e.selectedGMT,callback:function(t){e.selectedGMT=t},expression:"selectedGMT"}},e._l(e.dataGmt,function(t,n){return a("el-option",{key:n,attrs:{value:t,label:t+e.dataGmtLabels[n]}},[e._v("\n              "+e._s(t)+" "+e._s(e.dataGmtLabels[n])+"\n            ")])}),1)],1)],1)]),e._v(" "),e.dataQr&&"pos"===e.source?a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingQR,expression:"loadingQR"}],staticClass:"bg-white color-black text-center radius-10 pointer qr-attendance",on:{click:function(t){e.visibleDialogAccessibilityQR=!0}}},[a("div",{staticClass:"p-8 qr-title"},[a("svg-icon",{staticClass:"font-20 color-black",attrs:{"icon-class":"Icon-smartphone"}}),e._v(" "),a("span",[e._v("Scan Absen")])],1),e._v(" "),a("div",[a("el-image",{attrs:{src:e.dataQr}})],1)]):e._e()]),e._v(" "),e.visibleEmployeProfile?a("div",{class:e.computedClass.class_profile},[a("div",{staticClass:"flex-container flex-container--content-center mb-24"},[a("div",{staticClass:"mr-16"},[a("svg-icon",{staticStyle:{"font-size":"105px"},attrs:{"icon-class":"Night"===e.computedDayOrNight?"night":"morning"}})],1),e._v(" "),a("div",[a("span",{staticClass:"font-bold font-40",staticStyle:{color:"#FFFFFF"}},[e._v("\n          "+e._s(e.computedRunningClock.time)),a("span",{staticStyle:{color:"rgba(255, 255, 255, 0.5)"}},[e._v(e._s(e.computedRunningClock.second))])]),e._v(" "),a("div",{staticClass:"font-18",staticStyle:{color:"#FFFFFF"}},[e._v(e._s(e.computedGMT.date))])])]),e._v(" "),a("div",{staticClass:"radius-32 mb-24 employee-profile",style:e.computedStyleImageAbsen}),e._v(" "),a("div",{staticClass:"flex-container full-width mb-16 p-8 employee-profile"},[a("div",{staticClass:"color-white full-width"},[null!==e.tempEmployee.data_absent_by_date.shifttime?a("div",{staticClass:"font-24 font-semi-bold"},[e._v(e._s(e.tempEmployee.data_absent_by_date.shifttime.name))]):e._e(),e._v(" "),a("span",{staticClass:"font-16"},[e._v(e._s(e.tempEmployee.data_absent_by_date.fdate_coming))])]),e._v(" "),a("div",["going"===e.$route.query.mode&&!e.tempEmployee.data_absent_by_date.time_going||"going"!==e.$route.query.mode&&!e.tempEmployee.data_absent_by_date.time_coming?a("el-button",{staticClass:"radius-5 absent-active"},[e._v("\n          Belum Absen\n        ")]):a("el-button",{staticClass:"radius-5",class:e.getDurationLabel(e.tempEmployee).class_name},[e._v("\n          "+e._s(e.getDurationLabel(e.tempEmployee).label)+"\n        ")])],1)]),e._v(" "),a("div",{staticClass:"full-width mb-24 employee-profile"},[a("el-button",{staticClass:"btn-block color-white font-24 border-null radius-10",style:"Night"===e.computedDayOrNight?"background: #313131":"background: #26ABF3",attrs:{loading:e.loadingHistory},on:{click:function(t){return e.showEmployeeDetail(e.tempEmployee)}}},[e._v("\n        Riwayat Absensi\n      ")])],1),e._v(" "),a("div",{staticClass:"p-8 d-block pointer radius-10 full-width employee-profile",style:"Night"===e.computedDayOrNight?"background: #313131; color: #FFFFFF":"border: 2px solid #FFFFFF; color: #FFFFFF",on:{click:e.handleBack}},[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"}),e._v(" "),a("div",{staticStyle:{"flex-grow":"1"}},[a("div",{staticClass:"font-40 font-semi-bold text-center"},[e._v(e._s(e.tempEmployee.name))])]),e._v(" "),a("i",{staticClass:"el-icon-arrow-down icon-down-dropdown",staticStyle:{"font-size":"30px"}})])])]):e._e(),e._v(" "),e.visibleProfilePhone?a("div",{staticClass:"employee-profile-mobile attendance-mobile-wrapper--block-mobile inputabsen-bg-primary",staticStyle:{padding:"unset !important"}},[a("div",{class:"Night"===e.computedDayOrNight?"p-24 color-white bg-blackview":"p-24 color-white"},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"flex-container mb-24"},[a("div",{staticClass:"full-width text-left"},[a("svg-icon",{staticClass:"color-primary",staticStyle:{"font-size":"16px !important"},attrs:{"icon-class":"attendance-white-ico"}}),e._v(" "),a("span",{staticClass:"font-16"},[e._v(e._s(e.selectedStore.url_id))])],1),e._v(" "),a("div",[a("svg-icon",{attrs:{"icon-class":"Night"===e.computedDayOrNight?"night":"morning"}})],1)]),e._v(" "),a("div",{staticClass:"font-bold font-40"},[e._v("\n          "+e._s(e.computedRunningClock.time)),a("span",{staticStyle:{color:"rgba(255, 255, 255, 0.5)"}},[e._v(e._s(e.computedRunningClock.second))])]),e._v(" "),a("div",{staticClass:"font-18 mb-24"},[e._v(e._s(e.computedGMT.date))]),e._v(" "),a("div",{staticClass:"select-gmt"},[a("el-select",{model:{value:e.selectedGMT,callback:function(t){e.selectedGMT=t},expression:"selectedGMT"}},e._l(e.dataGmt,function(t,n){return a("el-option",{key:n,attrs:{value:t,label:t+e.dataGmtLabels[n]}},[e._v("\n              "+e._s(t)+" "+e._s(e.dataGmtLabels[n])+"\n            ")])}),1)],1)])]),e._v(" "),a("div",{staticClass:"full-width p-24",staticStyle:{background:"#FFFFFF"}},[a("div",{staticClass:"flex-container mr-16 mb-16 radius-5 px-8 py-8 box-shadow border border--grey attendace-staff-list-item pointer full-width",on:{click:function(t){e.showChangeEmployee=!e.showChangeEmployee}}},[a("div",{staticClass:"text-center mr-16"},[a("el-avatar",{attrs:{src:e.tempEmployee.photo,alt:e.tempEmployee.name,size:56}})],1),e._v(" "),a("div",{staticClass:"overflow-ellipsis font-bold font-24 text-left full-width"},[a("div",{staticClass:"pointer"},[e._v("\n            "+e._s(e.tempEmployee.name)+"\n          ")])]),e._v(" "),a("div",[a("i",{class:e.showChangeEmployee?"el-icon-arrow-up":"el-icon-arrow-down"})])]),e._v(" "),a("transition",{attrs:{name:"el-zoom-in-top"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showChangeEmployee,expression:"showChangeEmployee"}],staticClass:"dropdown-change-employee box-shadow radius-8 font-bold font-24 pointer full-width",on:{click:function(t){return e.handleBackPhone(!0)}}},[e._v("\n          Ganti Karyawan\n        ")])]),e._v(" "),a("div",{staticClass:"flex-container full-width mb-16 p-8 border border--grey"},[a("div",{staticClass:"text-left full-width"},[null!==e.tempEmployee.data_absent_by_date.shifttime?a("div",{staticClass:"font-14 font-semi-bold"},[e._v(e._s(e.tempEmployee.data_absent_by_date.shifttime.name))]):e._e(),e._v(" "),a("span",{staticClass:"font-12"},[e._v(e._s(e.tempEmployee.data_absent_by_date.fdate_coming))])]),e._v(" "),a("div",["going"===e.$route.query.mode&&!e.tempEmployee.data_absent_by_date.time_going||"going"!==e.$route.query.mode&&!e.tempEmployee.data_absent_by_date.time_coming?a("el-button",{staticClass:"radius-5 absent-active",attrs:{size:"mini"}},[e._v("\n            Belum Absen\n          ")]):a("el-button",{staticClass:"radius-5",class:e.getDurationLabel(e.tempEmployee).class_name,attrs:{size:"mini"}},[e._v("\n            "+e._s(e.getDurationLabel(e.tempEmployee).label)+"\n          ")])],1)]),e._v(" "),a("div",{staticClass:"mb-24"},[a("el-button",{staticClass:"btn-block color-grey--bg font-16",staticStyle:{height:"56px"},attrs:{loading:e.loadingHistory},on:{click:function(t){return e.showEmployeeDetail(e.tempEmployee,!0)}}},[e._v("\n            Riwayat Absensi\n          ")])],1),e._v(" "),a("div",{class:e.going?"going":""},[a("el-button",{staticClass:"btn-block btn-confirm-pin",staticStyle:{height:"56px"},attrs:{loading:e.loadingConfirmPin,disabled:e.computedBtnAbsenPhone},on:{click:e.handleShowAbsenPhone}},[a("div",{staticClass:"flex-container justify-center"},[e.going?e._e():a("svg-icon",{staticStyle:{width:"40px",height:"40px"},attrs:{"icon-class":"come-ico"}}),e._v(" "),a("span",{staticStyle:{color:"#FFFFFF"}},[e.going?[a("div",{staticClass:"font-24"},[e._v("Pulang")])]:[a("div",{staticClass:"font-24"},[e._v("Datang")])]],2),e._v(" "),e.going?a("svg-icon",{staticStyle:{width:"40px",height:"40px"},attrs:{"icon-class":"going-ico"}}):e._e()],1)])],1)],1)]):e._e(),e._v(" "),e.absenphone&&!e.visibleEmployeDetail?a("div",{staticClass:"employee-profile--mobile attendance-mobile-wrapper--block inputabsen-bg-primary",staticStyle:{padding:"unset !important",background:"#FFFFFF !important"}},[a("div",{staticClass:"flex-container color-white--bg color-black",staticStyle:{height:"56px"}},[a("div",{staticClass:"text-left pl-16 pointer",on:{click:function(t){e.absenphone=!1,e.absens=!0}}},[a("i",{staticClass:"el-icon-back font-24"})]),e._v(" "),e._m(0)]),e._v(" "),a("div",{staticClass:"full-width p-24 color-primary--bg",class:"Night"===e.computedDayOrNight?"bg-blackview":""},[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-16"},[a("el-avatar",{attrs:{src:e.tempEmployee.photo,alt:e.tempEmployee.name,size:56}},[e.tempEmployee.name?a("span",[e._v("\n              "+e._s(e.tempEmployee.name.split("")[0])+"\n            ")]):e._e()])],1),e._v(" "),a("div",{staticClass:"overflow-ellipsis font-bold font-24 text-left full-width"},[a("div",{staticClass:"color-white"},[e._v("\n            "+e._s(e.tempEmployee.name)+"\n          ")]),e._v(" "),a("div",["going"===e.$route.query.mode&&!e.tempEmployee.data_absent_by_date.time_going||"going"!==e.$route.query.mode&&!e.tempEmployee.data_absent_by_date.time_coming?a("el-button",{staticClass:"radius-5 absent-active",attrs:{size:"mini"},on:{click:function(t){return e.setEmployee(e.item)}}},[e._v("\n              Belum Absen\n            ")]):a("el-button",{staticClass:"radius-5",class:e.getDurationLabel(e.tempEmployee).class_name,attrs:{size:"mini"}},[e._v("\n              "+e._s(e.getDurationLabel(e.tempEmployee).label)+"\n            ")])],1)]),e._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 color-white",staticStyle:{"margin-top":"-30px"}},[e._v("\n            "+e._s(e.computedRunningClock.time)),a("span",{staticStyle:{color:"rgba(255, 255, 255, 0.5)"}},[e._v(e._s(e.computedRunningClock.second))])])])])]),e._v(" "),a("div",{staticClass:"full-width px-24 py-16 container-absen-keyboard-phone",staticStyle:{background:"#FFFFFF"}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"font-24"},[e._v("\n          Masukkan PIN\n        ")]),e._v(" "),a("div",{staticClass:"mb-24"},[a("el-input",{ref:"inputPass",staticStyle:{display:"block",width:"100%"},attrs:{maxlength:6,placeholder:"......",type:"password"},on:{input:e.handleChangeInputPass},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmPin.apply(null,arguments)}},model:{value:e.inputPass,callback:function(t){e.inputPass=t},expression:"inputPass"}})],1),e._v(" "),a("div",{staticClass:"flex-container absen-keyboard"},e._l(e.columnsKeyboard,function(t,n){return a("div",{key:n,staticClass:"absen-keyboard--grid px-8"},e._l(t,function(t){return a("div",{key:t.id,staticClass:"absen-keyboard--button-wrapper mb-8"},[a("el-button",{staticClass:"radius-5 font-56",on:{click:function(a){return e.setPassword(t)}}},[11===t.id?a("svg-icon",{attrs:{"icon-class":"backspace"}}):a("span",[e._v(e._s(t.name))])],1)],1)}),0)}),0)])]),e._v(" "),a("div",{staticClass:"p-24 floating_div",class:e.going?"going":""},[a("el-button",{staticClass:"btn-block btn-confirm-pin",staticStyle:{height:"56px",width:"90vw"},attrs:{loading:e.loadingConfirmPin,disabled:e.inputPass.length<6},on:{click:e.confirmPin}},[a("div",{staticClass:"flex-container justify-center"},[e.going?e._e():a("svg-icon",{staticStyle:{width:"40px",height:"40px"},attrs:{"icon-class":"come-ico"}}),e._v(" "),a("span",{staticStyle:{color:"#FFFFFF"}},[e.going?[a("div",{staticClass:"font-24"},[e._v("Pulang")])]:[a("div",{staticClass:"font-24"},[e._v("Datang")])]],2),e._v(" "),e.going?a("svg-icon",{staticStyle:{width:"40px",height:"40px"},attrs:{"icon-class":"going-ico"}}):e._e()],1)])],1)]):e._e(),e._v(" "),e.absens&&!e.visibleEmployeDetail?a("div",{staticClass:"attendance-mobile-wrapper--block p-24 employee-profile"},[a("div",{staticClass:"text-center container-absen-keyboard"},[a("div",{staticClass:"mb-24"},[a("el-input",{ref:"inputPass",attrs:{maxlength:6,placeholder:"......",type:"password"},on:{input:e.handleChangeInputPass},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.confirmPin.apply(null,arguments)}},model:{value:e.inputPass,callback:function(t){e.inputPass=t},expression:"inputPass"}})],1),e._v(" "),a("div",{staticClass:"flex-container absen-keyboard"},e._l(e.columnsKeyboard,function(t,n){return a("div",{key:n,staticClass:"absen-keyboard--grid px-8"},e._l(t,function(t){return a("div",{key:t.id,staticClass:"absen-keyboard--button-wrapper mb-24"},[a("el-button",{staticClass:"radius-5 font-56",on:{click:function(a){return e.setPassword(t)}}},[11===t.id?a("svg-icon",{attrs:{"icon-class":"backspace"}}):a("span",[e._v(e._s(t.name))])],1)],1)}),0)}),0),e._v(" "),a("div",{class:e.going?"going":""},[a("el-button",{staticClass:"btn-block btn-confirm-pin",staticStyle:{height:"76px"},attrs:{loading:e.loadingConfirmPin,disabled:e.inputPass.length<6},on:{click:e.confirmPin}},[a("div",{staticClass:"flex-container justify-center"},[e.going?e._e():a("svg-icon",{staticStyle:{width:"79px",height:"56px"},attrs:{"icon-class":"come-ico"}}),e._v(" "),a("span",{staticStyle:{color:"#FFFFFF"}},[e.going?[e._v("\n                Pulang\n              ")]:[e._v("\n                Datang\n              ")]],2),e._v(" "),e.going?a("svg-icon",{staticStyle:{width:"79px",height:"56px"},attrs:{"icon-class":"going-ico"}}):e._e()],1)])],1)])]):e._e(),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogEmployeeDetail,"append-to-body":""},on:{"update:visible":function(t){e.dialogEmployeeDetail=t}}},[a("employee-detail",{attrs:{show:e.dialogEmployeeDetail,data:e.tempEmployee}})],1),e._v(" "),a("el-dialog",{attrs:{visible:e.sessionExpired,"append-to-body":""},on:{"update:visible":function(t){e.sessionExpired=t}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"font-24 font-bold"},[e._v("Sesi tidak valid")]),e._v(" "),a("div",{staticClass:"font-16",staticStyle:{"word-break":"keep-all"}},[e._v("Coba scan kembali atau muat ulang")]),e._v(" "),a("el-button",{staticClass:"btn-block",on:{click:e.reloadPage}},[a("svg-icon",{attrs:{"icon-class":"refresh-ico"}}),e._v(" \n        Muat Ulang\n      ")],1),e._v(" "),a("el-button",{staticClass:"btn-block absent-finished",on:{click:function(t){e.visibleScan=!0,e.sessionExpired=!1}}},[a("svg-icon",{attrs:{"icon-class":"scan-barcode-ico"}}),e._v(" \n        Scan\n      ")],1)],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.locationIssue,"append-to-body":""},on:{"update:visible":function(t){e.locationIssue=t}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"flex-container justify-center"},[a("img",{attrs:{src:"/static/img/attendance/location-issue.png",width:"139px",height:"147px",alt:""}})]),e._v(" "),a("div",{staticClass:"font-24 font-bold mt-16",staticStyle:{"word-break":"keep-all"}},[e._v("Jarakmu jauh dari Toko")]),e._v(" "),a("div",{staticClass:"font-16",staticStyle:{"word-break":"keep-all"}},[e._v("Scan barcode di perangkat POS tokomu untuk absen")]),e._v(" "),a("el-button",{staticClass:"btn-block btn-info mt-24",on:{click:function(t){e.locationIssue=!1}}},[e._v("\n        OK\n      ")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.locationBlock,"append-to-body":""},on:{"update:visible":function(t){e.locationBlock=t}}},[a("div",{staticClass:"text-center"},[a("div",{staticClass:"flex-container justify-center"},[a("img",{attrs:{src:"/static/img/attendance/location-block.svg",width:"139px",height:"147px",alt:""}})]),e._v(" "),a("div",{staticClass:"font-24 font-bold mt-16",staticStyle:{"word-break":"keep-all"}},[e._v("Izinkan akses lokasi")]),e._v(" "),a("div",{staticClass:"font-16",staticStyle:{"word-break":"keep-all"}},[e._v("Beri izin akses lokasi untuk melanjutkan absen")]),e._v(" "),a("el-button",{staticClass:"btn-block btn-info mt-24",on:{click:function(t){e.locationBlock=!1}}},[e._v("\n        OK\n      ")])],1)]),e._v(" "),a("el-dialog",{attrs:{visible:e.visibleScan,fullscreen:"","append-to-body":""},on:{"update:visible":function(t){e.visibleScan=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingBarcode,expression:"loadingBarcode"}]},[a("qrcode-stream",{on:{decode:e.showScanner}})],1)]),e._v(" "),a("employee-detail",{staticClass:"employee-profile",attrs:{show:e.visibleEmployeDetail,data:e.tempEmployee}}),e._v(" "),a("el-dialog",{attrs:{visible:e.visibleDialogAccessibilityQR,title:"Scan Absen","append-to-body":"",width:"320px"},on:{"update:visible":function(t){e.visibleDialogAccessibilityQR=t}}},[a("div",{staticClass:"text-center"},[a("el-image",{attrs:{src:e.dataQr}})],1)])],1):e._e()},i=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"full-width text-center font-24 font-bold"},[t("span",[this._v("Absensi")])])}]},hA3k:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a("Kw5r"));t.default=new n.default},hJrB:function(e,t,a){"use strict";a.r(t);var n=a("1oEa"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);t.default=i.a},hjqg:function(e,t,a){"use strict";a.r(t);var n=a("FWqU"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);t.default=i.a},ulJ5:function(e,t,a){"use strict";a.r(t);var n=a("dhCC"),i=a("yyqb");for(var s in i)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return i[e]})}(s);var o=a("KHd+"),l=Object(o.a)(i.default,n.a,n.b,!1,null,null,null);l.options.__file="indexMobile.vue",t.default=l.exports},yyqb:function(e,t,a){"use strict";a.r(t);var n=a("EI4M"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){a.d(t,e,function(){return n[e]})}(s);t.default=i.a}}]);