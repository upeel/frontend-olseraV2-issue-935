(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-43aa"],{DChC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o(a("QbLZ")),n=o(a("Ljqw"));function o(e){return e&&e.__esModule?e:{default:e}}var r={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var e=this.$store.getters.selectedStore;return{role_id:e.role_id,role_name:e.role_name,is_pos_only:e.is_pos_only,is_mobile:e.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var e=this.$store.getters.token;return this.$store.getters.webviewMode&&(e=this.$store.getters.webviewToken),{Authorization:"Bearer "+e.access_token}},baseURL:function(){return n.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var e=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],t=[];return this.$store.getters.stores.map(function(a){t.includes(a.store_id)||a.is_store_active&&(e.push((0,s.default)({},a)),t.push(a.store_id))}),e},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};t.default=r},Eckj:function(e){e.exports=JSON.parse('[{"id":1,"trans_no":"PROD0001","fdate":"6/3/2021","status":"D","status_desc":"Done","note":"-","received_by":"john@doe.com"},{"id":2,"trans_no":"PROD0002","fdate":"10/31/2021","status":"P","status_desc":"Pending","note":"-","received_by":"john@doe.com"},{"id":3,"trans_no":"PROD0003","fdate":"12/5/2020","status":"D","status_desc":"Done","note":"-","received_by":"john@doe.com"},{"id":4,"trans_no":"PROD0004","fdate":"1/9/2021","status":"P","status_desc":"Pending","note":"-","received_by":"john@doe.com"},{"id":5,"trans_no":"PROD0005","fdate":"1/18/2021","status":"D","status_desc":"Done","note":"-","received_by":"john@doe.com"},{"id":6,"trans_no":"PROD0006","fdate":"11/6/2021","status":"X","status_desc":"Cancel","note":"-","received_by":"john@doe.com"},{"id":7,"trans_no":"PROD0007","fdate":"2/22/2021","status":"D","status_desc":"Done","note":"-","received_by":"john@doe.com"},{"id":8,"trans_no":"PROD0008","fdate":"8/22/2021","status":"X","status_desc":"Cancel","note":"-","received_by":"john@doe.com"},{"id":9,"trans_no":"PROD0009","fdate":"11/27/2021","status":"D","status_desc":"Done","note":"-","received_by":"john@doe.com"},{"id":10,"trans_no":"PROD00010","fdate":"10/1/2021","status":"X","status_desc":"Cancel","note":"-","received_by":"john@doe.com"}]')},Me9o:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=l(a("m1cH")),n=a("xCek"),o=l(a("vDqi")),r=l(a("ksP6"));a("Hj/Q");var i=l(a("DChC"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{vueDropzone:r.default,tokenc:""},mixins:[i.default],data:function(){return{loading:!1,tableData:[],statusValue:null,searchValue:null,importDialog:!1,dropdownForm:!0,pages:[5,10,20],statusSelect:[{value:"",label:this.$store.state.userStores.lang.all},{value:"Pending",label:this.$lang[this.$store.state.userStores.langId].pending},{value:"Shipping",label:this.$lang[this.$store.state.userStores.langId].has_confirm},{value:"Shipped",label:this.$store.state.userStores.lang.delivered}],params:{search:null,total:null,currentPage:1,sort_column:"date",sort_type:"desc",per_page:10,page:1}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){this.getData()}},mounted:function(){this.getData()},methods:{getData:function(){var e=this;if([].concat((0,s.default)(document.getElementById("app").classList)).includes("dummy-page"))this.getMockupData();else{this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,o.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"productionsmode"),params:this.params,headers:t}).then(function(t){e.tableData=t.data.data,e.params.total=t.data.meta.total,e.loading=!1}).catch(function(t){e.loading=!1,e.params.total=0,404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})}},getMockupData:function(){this.params.total=10,this.tableData=a("Eckj")},changePageTable:function(e){this.params.per_page=e,this.getData()},handleSearch:function(e){this.params.page=1,this.params.currentPage=1,this.params.search_text="",this.params.search_column=null,this.params.search=this.searchValue,this.getData()},changeSortTable:function(e){"ascending"===e.order&&(e.order="asc"),"descending"===e.order&&(e.order="desc"),null===e.order&&(e.order=this.params.sort_type),console.log(e),this.params.sort_type=e.order,this.params.sort_column=e.prop,this.getData()},changeCurrentPage:function(e){this.params.currentPage=e,this.params.page=e,this.getData()},addData:function(){this.$router.push({path:"/inventory/stocksproduction/create"})},afterComplete:function(e,t){console.log(t),0===t.error&&(this.$notify({title:"Sukses",message:t.data+" Produk."}),this.importDialog=!1,this.$router.push({path:"/inventory/stocksproduction/"+t.id}))},failed:function(e,t,s){console.log("file",e),console.log("message",t),console.log("xhr",s),a("EVdn")(".dz-error-message span").text(t.error.error)},removeAllFiles:function(){this.$refs.dropzone.removeAllFiles()}}}},"Po+H":function(e,t,a){"use strict";a.d(t,"a",function(){return s}),a.d(t,"b",function(){return n});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content"},[a("div",{staticClass:"table-handler-flex"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("h4",{staticClass:"main-content__title"},[e._v(e._s(e.$lang[e.langId].stock_production))]),e._v(" "),a("p",{staticClass:"main-content__subtitle"},[e._v(e._s(e.params.total)+" "+e._s(e.lang.items))])]),e._v(" "),a("div",[a("button-action-authenticated",{attrs:{permission:["inventory/productionsmode","store"],icon:"el-icon-upload"},on:{click:function(t){e.importDialog=!0}}},[e._v("\n          "+e._s(e.lang.import)+"\n        ")]),e._v(" "),a("button-action-authenticated",{attrs:{permission:["inventory/productionsmode","store"],type:"primary",icon:"el-icon-plus"},on:{click:e.addData}},[e._v("\n          "+e._s(e.lang.add)+"\n        ")])],1)]),e._v(" "),a("div",{staticClass:"table-handler-flex mb-16"},[a("div",{staticClass:"mb-4",staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:e.lang.please_select,size:"small"},on:{change:e.changePageTable},model:{value:e.params.per_page,callback:function(t){e.$set(e.params,"per_page",t)},expression:"params.per_page"}},e._l(e.pages,function(t){return a("el-option",{key:t,attrs:{value:t,label:t+" "+e.lang.rows}})}),1)],1),e._v(" "),a("div",{staticClass:"mb-4"},[a("el-input",{staticClass:"inline-form input-search",attrs:{clearable:"",placeholder:e.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:e.handleSearch},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableData,border:"",stripe:""},on:{"sort-change":e.changeSortTable}},[a("el-table-column",{attrs:{label:e.$lang[e.langId].number,sortable:"",prop:"trans_no",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{path:"/inventory/stocksproduction/"+t.row.id}}},[e._v("\n            "+e._s(t.row.trans_no)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.date,sortable:"",prop:"date",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s(t.row.fdate)+"\n        ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.notes,sortable:"",prop:"note",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.status,sortable:"",prop:"status",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return["D"===t.row.status?a("el-tag",{attrs:{size:"mini",type:"warning"}},[e._v("\n            "+e._s(t.row.status_desc)+"\n          ")]):"P"===t.row.status?a("el-tag",{attrs:{size:"mini",type:"success"}},[e._v("\n            "+e._s(t.row.status_desc)+"\n          ")]):"X"===t.row.status?a("el-tag",{attrs:{size:"mini",type:"danger"}},[e._v(e._s(t.row.status_desc)+"\n          ")]):a("el-tag",{attrs:{size:"mini"}},[e._v("\n            "+e._s(t.row.status_desc)+"\n          ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.received_by,sortable:"",prop:"modified_by"}})],1),e._v(" "),a("el-pagination",{attrs:{"current-page":e.params.currentPage,"page-size":e.params.per_page,layout:"prev, pager, next, jumper",total:e.params.total},on:{"size-change":e.changePageTable,"current-change":e.changeCurrentPage,"update:currentPage":function(t){return e.$set(e.params,"currentPage",t)},"update:current-page":function(t){return e.$set(e.params,"currentPage",t)}}})],1),e._v(" "),a("el-dialog",{attrs:{title:e.lang.update+e.lang.status,visible:e.importDialog,"max-width":"760px"},on:{"update:visible":function(t){e.importDialog=t}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{md:8}},[a("a",{staticClass:"btn btn-default",attrs:{href:e.baseURL+"olsera_production_import_template.csv"}},[e._v("\n          "+e._s(e.lang.download_template)+"\n        ")])]),e._v(" "),a("el-col",{attrs:{md:16}},[e.dropdownForm?a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v(e._s(e.lang.import_from_csv_info))])]),e._v(" "),a("vue-dropzone",{ref:"dropzone",attrs:{id:"drop1",options:{url:e.baseURL+"api/"+this.selectedStore.url_id+"/admin/v1/"+this.langId+"/productionsmode/importfromcsv",headers:{Authorization:"Bearer "+this.token.access_token,"Cache-Control":null},method:"post",acceptedFiles:".csv"}},on:{"vdropzone-success":e.afterComplete,"vdropzone-error":e.failed}}),e._v(" "),a("el-button",{staticStyle:{"margin-top":"8px"},on:{click:e.removeAllFiles}},[e._v("\n            "+e._s(e.$lang[e.langId].remove_all_file)+"\n          ")])],1):e._e()],1)],1)],1)],1)},n=[]},k7fO:function(e,t,a){"use strict";a.r(t);var s=a("Me9o"),n=a.n(s);for(var o in s)["default"].indexOf(o)<0&&function(e){a.d(t,e,function(){return s[e]})}(o);t.default=n.a},m7y4:function(e,t,a){"use strict";a.r(t);var s=a("Po+H"),n=a("k7fO");for(var o in n)["default"].indexOf(o)<0&&function(e){a.d(t,e,function(){return n[e]})}(o);var r=a("KHd+"),i=Object(r.a)(n.default,s.a,s.b,!1,null,null,null);i.options.__file="Index.vue",t.default=i.exports}}]);