(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7dd2"],{"+cbY":function(e,t,a){"use strict";a.r(t);var o=a("DuGg"),r=a("t6gR");for(var l in r)["default"].indexOf(l)<0&&function(e){a.d(t,e,function(){return r[e]})}(l);var s=a("KHd+"),n=Object(s.a)(r.default,o.a,o.b,!1,null,null,null);n.options.__file="Create.vue",t.default=n.exports},DuGg:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return r});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadings,expression:"loadings"}],staticClass:"box"},[a("div",{staticClass:"box-header with-border create-product-header"},[a("h4",{staticClass:"box-title"},[e._v(e._s(e.lang.add)+" "+e._s(e.$lang[e.langId].promotion_pos))]),e._v(" "),a("div",{staticClass:"pull-right"},[a("el-button",{attrs:{size:"small",type:"text"},on:{click:e.cancel}},[e._v(e._s(e.lang.cancel))]),e._v(" "),[a("div",{staticClass:"row flex-container"},[a("div",[e._v(e._s(e.$lang[e.langId].save_at)+":")]),e._v(" "),a("el-select",{attrs:{multiple:"","collapse-tags":""},on:{change:e.handleSelectAll},model:{value:e.storeToBeSaved,callback:function(t){e.storeToBeSaved=t},expression:"storeToBeSaved"}},e._l(e.outlets,function(e){return a("el-option",{key:e.store_id,attrs:{label:e.name,value:e.store_id}})}),1)],1)],e._v(" "),a("el-button",{staticClass:"radius-null",attrs:{disabled:e.disabledSave,size:"small",icon:"el-icon-check",type:"success"},on:{click:e.save}},[e._v("\n        "+e._s(e.lang.save)+"\n      ")])],2)]),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadings,expression:"loadings"}],staticClass:"card-body",staticStyle:{"margin-top":"20px"}},[a("el-form",{ref:"packageForm",staticClass:"form-sidebyside p-24",attrs:{model:e.data,rules:e.dataRules},nativeOn:{submit:function(e){e.preventDefault()}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"open-create-body"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.title,required:!0}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",{attrs:{prop:"title"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{required:"",placeholder:e.$lang[e.langId].please_input+e.lang.title,type:"text"},model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].type_promotion}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",{attrs:{prop:"title"}},[a("el-select",{staticStyle:{width:"100%"},model:{value:e.data.promo_type_id,callback:function(t){e.$set(e.data,"promo_type_id",t)},expression:"data.promo_type_id"}},[a("el-option",{attrs:{label:e.$lang[e.langId].type_promotion_bx,value:"BX"}}),e._v(" "),a("el-option",{attrs:{label:e.$lang[e.langId].type_promotion_dq,value:"DQ"}}),e._v(" "),a("el-option",{attrs:{label:e.$lang[e.langId].type_promotion_da,value:"DA"}}),e._v(" "),a("el-option",{attrs:{label:e.$lang[e.langId].type_promotion_fi,value:"FI"}})],1)],1)],1)],1),e._v(" "),a("hr"),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{staticClass:"form-subtitle",attrs:{label:e.$lang[e.langId].promotion_rule}})],1)],1),e._v(" "),"DA"!==e.data.promo_type_id&&"FI"!==e.data.promo_type_id?a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].combine_qty_below}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",[a("div",{staticClass:"mb-4"},[a("el-switch",{model:{value:e.combineQty,callback:function(t){e.combineQty=t},expression:"combineQty"}})],1),e._v(" "),e.combineQty?a("el-input",{attrs:{disabled:!1,placeholder:e.$lang[e.langId].min_qty,type:"number",min:1},model:{value:e.data.promo_buy_qty,callback:function(t){e.$set(e.data,"promo_buy_qty",t)},expression:"data.promo_buy_qty"}}):a("el-input",{attrs:{disabled:!0,placeholder:e.$lang[e.langId].min_qty,type:"number",min:1},model:{value:e.data.promo_buy_qty,callback:function(t){e.$set(e.data,"promo_buy_qty",t)},expression:"data.promo_buy_qty"}})],1)],1)],1):e._e(),e._v(" "),a("div",{staticClass:"bx-rule"},["DA"!==e.data.promo_type_id&&"FI"!==e.data.promo_type_id?[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.info_discount_valid_for_products}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[e._l(e.groupPromo_buy_product,function(t,o){return a("div",{key:o,staticClass:"repeatable-form"},[a("el-form-item",[a("p",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:e.lang.info_auto_complete_product,"remote-method":e.searchProducts,loading:e.searchingProducts},model:{value:t.promo_buy_product_id,callback:function(a){e.$set(t,"promo_buy_product_id",a)},expression:"form.promo_buy_product_id"}},e._l(e.searchResultProducts,function(e){return a("el-option",{key:e.product_id,attrs:{label:e.name,value:e.product_id}})}),1)],1),e._v(" "),a("p",[a("el-input",{attrs:{disabled:e.combineQty,type:"number",placeholder:e.lang.qty,min:1},model:{value:t.promo_buy_product_id_qty,callback:function(a){e.$set(t,"promo_buy_product_id_qty",a)},expression:"form.promo_buy_product_id_qty"}})],1),e._v(" "),e.groupPromo_buy_product.length>1?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.del_groupPromo_buy_product(o)}}},[e._v("\n                          "+e._s(e.$lang[e.langId].delete)+"\n                        ")]):e._e()],1)],1)}),e._v(" "),a("el-form-item",{staticClass:"text-right"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.add_groupPromo_buy_product}},[e._v("\n                        "+e._s(e.lang.add)+"\n                      ")])],1)],2)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.info_discount_valid_for_product_groups}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[e._l(e.groupPromo_buy_product_group_id,function(t,o){return a("div",{key:o,staticClass:"repeatable-form"},[a("el-form-item",[a("p",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:e.lang.info_auto_complete_product_group,"remote-method":e.searchProductGroups,loading:e.searchingProductGroups},model:{value:t.promo_buy_product_group_id,callback:function(a){e.$set(t,"promo_buy_product_group_id",a)},expression:"form.promo_buy_product_group_id"}},e._l(e.searchResultProductGroups,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("p",[a("el-input",{attrs:{disabled:e.combineQty,type:"number",min:1,placeholder:e.lang.qty},model:{value:t.promo_buy_product_group_id_qty,callback:function(a){e.$set(t,"promo_buy_product_group_id_qty",a)},expression:"form.promo_buy_product_group_id_qty"}})],1),e._v(" "),e.groupPromo_buy_product_group_id.length>1?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.del_groupPromo_buy_product_group_id(o)}}},[e._v("\n                          "+e._s(e.$lang[e.langId].delete)+"\n                        ")]):e._e()],1)],1)}),e._v(" "),a("el-form-item",{staticClass:"text-right"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.add_groupPromo_buy_product_group_id}},[e._v("\n                        "+e._s(e.lang.add)+"\n                      ")])],1)],2)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.info_discount_valid_for_product_combos}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[e._l(e.groupPromo_buy_product_combo_id,function(t,o){return a("div",{key:o,staticClass:"repeatable-form"},[a("el-form-item",[a("p",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].info_auto_complete_product_combos,"remote-method":e.searchProductCombos,loading:e.searchingProductCombos},model:{value:t.promo_buy_product_combo_id,callback:function(a){e.$set(t,"promo_buy_product_combo_id",a)},expression:"form.promo_buy_product_combo_id"}},e._l(e.searchResultProductCombos,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("p",[a("el-input",{attrs:{disabled:e.combineQty,type:"number",min:1,placeholder:e.lang.qty},model:{value:t.promo_buy_product_combo_id_qty,callback:function(a){e.$set(t,"promo_buy_product_combo_id_qty",a)},expression:"form.promo_buy_product_combo_id_qty"}})],1),e._v(" "),e.groupPromo_buy_product_combo_id.length>1?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.del_groupPromo_buy_product_combo_id(o)}}},[e._v("\n                          "+e._s(e.$lang[e.langId].delete)+"\n                        ")]):e._e()],1)],1)}),e._v(" "),a("el-form-item",{staticClass:"text-right"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.add_groupPromo_buy_product_combo_id}},[e._v("\n                        "+e._s(e.lang.add)+"\n                      ")])],1)],2)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.info_discount_valid_for_brands}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[e._l(e.groupPromo_buy_brand_id,function(t,o){return a("div",{key:o,staticClass:"repeatable-form"},[a("el-form-item",[a("p",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].info_auto_complete_brand,"remote-method":e.searchBrands,loading:e.searchingBrand},model:{value:t.promo_buy_brand_id,callback:function(a){e.$set(t,"promo_buy_brand_id",a)},expression:"form.promo_buy_brand_id"}},e._l(e.searchResultBrand,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("p",[a("el-input",{attrs:{disabled:e.combineQty,type:"number",min:1,placeholder:e.lang.qty},model:{value:t.promo_buy_brand_id_qty,callback:function(a){e.$set(t,"promo_buy_brand_id_qty",a)},expression:"form.promo_buy_brand_id_qty"}})],1),e._v(" "),e.groupPromo_buy_brand_id.length>1?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.del_groupPromo_buy_brand_id(o)}}},[e._v("\n                          "+e._s(e.$lang[e.langId].delete)+"\n                        ")]):e._e()],1)],1)}),e._v(" "),a("el-form-item",{staticClass:"text-right"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.add_groupPromo_buy_brand_id}},[e._v("\n                        "+e._s(e.lang.add)+"\n                      ")])],1)],2)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].promo_valid}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("p",[a("el-radio",{attrs:{value:"0",label:"0"},model:{value:e.data.promo_is_buy_combination,callback:function(t){e.$set(e.data,"promo_is_buy_combination",t)},expression:"data.promo_is_buy_combination"}},[e._v(e._s(e.$lang[e.langId].once_of_product))])],1),e._v(" "),a("p",[a("el-radio",{attrs:{value:"1",label:"1"},model:{value:e.data.promo_is_buy_combination,callback:function(t){e.$set(e.data,"promo_is_buy_combination",t)},expression:"data.promo_is_buy_combination"}},[e._v(e._s(e.$lang[e.langId].all_product_above))])],1)])],1)]:e._e(),e._v(" "),"BX"===e.data.promo_type_id||"FI"===e.data.promo_type_id?a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].product_from_free}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[e._l(e.groupPromo_free_product_id,function(t,o){return a("div",{key:o,staticClass:"repeatable-form"},[a("el-form-item",[a("p",[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:e.lang.info_auto_complete_product,"remote-method":e.searchProducts,loading:e.searchingProducts},model:{value:t.promo_free_product_id,callback:function(a){e.$set(t,"promo_free_product_id",a)},expression:"form.promo_free_product_id"}},e._l(e.searchResultProducts,function(e){return a("el-option",{key:e.product_id,attrs:{label:e.name,value:e.product_id}})}),1)],1),e._v(" "),a("p",[a("el-input",{attrs:{type:"number",min:1,placeholder:e.lang.qty},model:{value:t.promo_free_product_id_qty,callback:function(a){e.$set(t,"promo_free_product_id_qty",a)},expression:"form.promo_free_product_id_qty"}})],1),e._v(" "),e.groupPromo_free_product_id.length>1?a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.del_groupPromo_free_product_id(o)}}},[e._v("\n                        "+e._s(e.lang.remove)+"\n                      ")]):e._e()],1)],1)}),e._v(" "),a("el-form-item",{staticClass:"text-right"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.add_groupPromo_free_product_id}},[e._v("\n                      "+e._s(e.lang.add)+"\n                    ")])],1)],2)],1):e._e(),e._v(" "),"DA"===e.data.promo_type_id||"FI"===e.data.promo_type_id?a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.min_order_amount}},[a("p",[e._v(e._s(e.lang.min_order_amount))])])],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",[a("div",{staticClass:"el-input"},[a("input-money",{model:{value:e.data.min_order_amount,callback:function(t){e.$set(e.data,"min_order_amount",t)},expression:"data.min_order_amount"}})],1)])],1)],1):e._e(),e._v(" "),"DQ"===e.data.promo_type_id||"DA"===e.data.promo_type_id?[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.discount_amount}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-radio-group",{attrs:{size:"mini"},model:{value:e.data.amount_type,callback:function(t){e.$set(e.data,"amount_type",t)},expression:"data.amount_type"}},[a("el-radio-button",{attrs:{value:"percent",label:"percent"}},[e._v("\n                        % "+e._s(e.$lang[e.langId].percent)+"\n                      ")]),e._v(" "),a("el-radio-button",{attrs:{value:"amount",label:"amount"}},[e._v("\n                        $ "+e._s(e.$lang[e.langId].nominal)+"\n                      ")])],1),e._v(" "),"percent"===e.data.amount_type?a("el-form-item",[a("el-input",{attrs:{type:"number",placeholder:e.$lang[e.langId].input_number,min:0},model:{value:e.data.discount_percent,callback:function(t){e.$set(e.data,"discount_percent",t)},expression:"data.discount_percent"}})],1):a("el-form-item",[a("div",{staticClass:"el-input"},[a("input-money",{model:{value:e.data.discount_amount,callback:function(t){e.$set(e.data,"discount_amount",t)},expression:"data.discount_amount"}})],1)])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].max_discount}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",[a("div",{staticClass:"el-input"},[a("input-money",{model:{value:e.data.max_discount_amount,callback:function(t){e.$set(e.data,"max_discount_amount",t)},expression:"data.max_discount_amount"}})],1)])],1)],1)]:e._e()],2),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].apply_for_multiple}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.promo_multipliable,callback:function(t){e.$set(e.data,"promo_multipliable",t)},expression:"data.promo_multipliable"}}),e._v(" "),0===e.data.promo_multipliable?a("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.promo_multipliable?a("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),"DQ"===e.data.promo_type_id?a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].apply_discount_to_item}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.promo_apply_line_item,callback:function(t){e.$set(e.data,"promo_apply_line_item",t)},expression:"data.promo_apply_line_item"}}),e._v(" "),0===e.data.promo_apply_line_item?a("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.promo_apply_line_item?a("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1):e._e(),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{staticClass:"form-subtitle",attrs:{label:e.$lang[e.langId].promo_validity}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.active_date,required:!0}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",{attrs:{prop:"active_date"}},[a("el-date-picker",{attrs:{required:!0,type:"date",placeholder:e.$lang[e.langId].pick_a_day},on:{change:e.changeTimeDisabled},model:{value:e.data.active_date,callback:function(t){e.$set(e.data,"active_date",t)},expression:"data.active_date"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.never_expires}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",[a("div",{staticClass:"mb-4"},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.no_expiry,callback:function(t){e.$set(e.data,"no_expiry",t)},expression:"data.no_expiry"}})],1),e._v(" "),e.data.no_expiry?a("el-date-picker",{attrs:{disabled:!0,required:!0,type:"date",placeholder:e.$lang[e.langId].pick_a_day},model:{value:e.data.expiry_date,callback:function(t){e.$set(e.data,"expiry_date",t)},expression:"data.expiry_date"}}):a("el-date-picker",{attrs:{disabled:!1,required:!0,type:"date","picker-options":e.pickerOptions,placeholder:e.$lang[e.langId].pick_a_day},model:{value:e.data.expiry_date,callback:function(t){e.$set(e.data,"expiry_date",t)},expression:"data.expiry_date"}})],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].apply_24_hours}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",[a("div",{staticClass:"mb-4"},[a("el-switch",{model:{value:e.active24h,callback:function(t){e.active24h=t},expression:"active24h"}})],1),e._v(" "),a("div",[a("el-time-picker",{attrs:{disabled:e.active24h,placeholder:e.lang.start},model:{value:e.data.promo_start_time,callback:function(t){e.$set(e.data,"promo_start_time",t)},expression:"data.promo_start_time"}})],1),e._v(" "),a("div",[e._v(e._s(e.$lang[e.langId].to_date))]),e._v(" "),a("div",[a("el-time-picker",{attrs:{disabled:e.active24h,placeholder:e.lang.end},model:{value:e.data.promo_end_time,callback:function(t){e.$set(e.data,"promo_end_time",t)},expression:"data.promo_end_time"}})],1)])],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].valid_on_days}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",[a("el-checkbox",{attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllDaysChange},model:{value:e.checkAllDays,callback:function(t){e.checkAllDays=t},expression:"checkAllDays"}},[e._v("\n                    "+e._s(e.lang.check_all)+"\n                  ")]),e._v(" "),a("div",{staticStyle:{margin:"15px 0"}}),e._v(" "),a("el-checkbox-group",{on:{change:e.handleCheckedDaysChange},model:{value:e.data.promo_valid_days,callback:function(t){e.$set(e.data,"promo_valid_days",t)},expression:"data.promo_valid_days"}},[a("ul",{staticClass:"list-unstyled"},e._l(e.days,function(t,o){return a("li",{key:o},[a("el-checkbox",{key:t,attrs:{label:t}},[e._v("\n                          "+e._s(t)+"\n                        ")])],1)}),0)])],1)],1)],1)],1)]),e._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"open-create-body"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{staticClass:"form-subtitle",attrs:{label:e.lang.customer}})],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.$lang[e.langId].apply_to_all_customer}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.data.valid_for_all_customers,callback:function(t){e.$set(e.data,"valid_for_all_customers",t)},expression:"data.valid_for_all_customers"}}),e._v(" "),0===e.data.valid_for_all_customers?a("span",[e._v(e._s(e.lang.no))]):e._e(),e._v(" "),1===e.data.valid_for_all_customers?a("span",[e._v(e._s(e.lang.yes))]):e._e()],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.valid_for_customer_types}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",{attrs:{prop:"valid_for_customer_types"}},[0===e.data.valid_for_all_customers?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!1,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.customer_type,"remote-method":e.searchCustomerTypes,loading:e.searchingCustomerTypes},model:{value:e.data.valid_for_customer_types,callback:function(t){e.$set(e.data,"valid_for_customer_types",t)},expression:"data.valid_for_customer_types"}},e._l(e.searchResultCustomerTypes,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.customer_type,"remote-method":e.searchCustomerTypes,loading:e.searchingCustomerTypes},model:{value:e.data.valid_for_customer_types,callback:function(t){e.$set(e.data,"valid_for_customer_types",t)},expression:"data.valid_for_customer_types"}},e._l(e.searchResultCustomerTypes,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1),e._v(" "),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{sm:11}},[a("el-form-item",{attrs:{label:e.lang.valid_for_customers}})],1),e._v(" "),a("el-col",{attrs:{sm:13}},[a("el-form-item",{attrs:{prop:"valid_for_customers"}},[0===e.data.valid_for_all_customers?a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!1,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.customer,"remote-method":e.searchCustomers,loading:e.searchingCustomers},model:{value:e.data.valid_for_customers,callback:function(t){e.$set(e.data,"valid_for_customers",t)},expression:"data.valid_for_customers"}},e._l(e.searchResultCustomers,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1):a("el-select",{staticStyle:{width:"100%"},attrs:{disabled:!0,multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:e.$lang[e.langId].please_input+e.lang.customer,"remote-method":e.searchCustomers,loading:e.searchingCustomers},model:{value:e.data.valid_for_customers,callback:function(t){e.$set(e.data,"valid_for_customers",t)},expression:"data.valid_for_customers"}},e._l(e.searchResultCustomers,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1)],1)])])])],1)])},r=[]},t6gR:function(e,t,a){"use strict";a.r(t);var o=a("y+mc"),r=a.n(o);for(var l in o)["default"].indexOf(l)<0&&function(e){a.d(t,e,function(){return o[e]})}(l);t.default=r.a},"y+mc":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=u(a("m1cH")),r=u(a("QbLZ")),l=a("xCek"),s=u(a("vDqi")),n=u(a("Ckak")),i=u(a("DChC"));function u(e){return e&&e.__esModule?e:{default:e}}var d=["mon","tue","wed","thu","fri","sat","sun"],_=a("wd/R");t.default={props:["formData","loading","saved"],components:{InputMoney:n.default},mixins:[i.default],data:function(){return{outlets:[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],storeToBeSaved:[],loadings:!1,searchingCustomerTypes:!1,searchingCustomers:!1,searchingProducts:!1,searchingProductGroups:!1,searchingProductCombos:!1,searchingBrand:!1,disabledSave:!0,combineQty:!0,groupPromo_buy_product:[{promo_buy_product_id:"",promo_buy_product_id_qty:""}],groupPromo_buy_product_group_id:[{promo_buy_product_group_id:"",promo_buy_product_group_id_qty:""}],groupPromo_buy_product_combo_id:[{promo_buy_product_combo_id:"",promo_buy_product_combo_id_qty:""}],groupPromo_buy_brand_id:[{promo_buy_brand_id:"",promo_buy_brand_id_qty:""}],groupPromo_free_product_id:[{promo_free_product_id:"",promo_free_product_id_qty:""}],checkAllDays:!0,days:d,isIndeterminate:!0,active24h:!0,data:{active_date:_(new Date).format("YYYY-MM-DD"),amount_type:"percent",discount_amount:"",discount_percent:0,expiry_date:_(new Date).format("YYYY-MM-DD"),min_order_amount:1,max_discount_amount:0,no_expiry:1,promo_buy_qty:1,promo_is_buy_combination:"1",promo_valid_any_day:1,promo_valid_days:d,promo_type_id:"BX",promo_start_time:_(new Date).format("HH:mm"),promo_end_time:_(new Date).format("HH:mm"),valid_for_all_customers:1,valid_for_all_products:1,valid_for_customer_types:[],valid_for_customers:[]},searchResultCustomerTypes:[],searchResultCustomers:[],searchResultProducts:[],searchResultProductGroups:[],searchResultProductCombos:[],searchResultBrand:[],dataRules:{title:[{required:!0,message:"This is required field",trigger:"blur"},{min:2,message:"Length should min. 2",trigger:"blur"}],active_date:[{required:!0,message:"This is required field",trigger:"blur"}]},pickerOptions:{disabledDate:function(e){return e.getTime()<new Date(_(new Date).format("YYYY-MM-DD"))}}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},storeCanAccess:function(){return["setdemo1","allinolsera2","meenumjagakarsa","meenummekarsari","meenumcipayung","meenumgalaxy","meenumjatiasih","meenumcileungsi","meenumdukuhzamrud","meenumjoyomartono","meenumjatimakmur","meenumsawangan","meenumarundina","meenumkaliabang","meenumjatirasa","meenummgt","meenumgasalam","meenumhalim","meenumciangsana","meenumkayuringin","meenumnusantaradepok","meenumrawalumbu","meenumcilincing","meenumunsikakarawang","meenumkayutinggi","meenummunjuljayapurwakarta","meenumpisangan","meenumtarumajaya","meenumsemarang","meenumcibitung","meenumcirebon","meenummanukansurabaya","meenumkeputihsurabaya","meenumcentex","meenumkelapadua","meenumregency","meenumpuricendana","meenumjatikramat","meenumlubangbuaya","meenumtegal","meenumpermatacibubur","meenumperumnascirebon","meenumtugumacan","meenumcikarangfestival","meenumkarawangkosambi","meenumtegalparang","meenumbojonggede","meenumutankayu","meenumdepoktimur","meenumcirebonmegu","meenumkembangan","meenumwanaherang","meenumtambunutara","meenumgriyabukitjaya","meenumwismajaya","meenumcondet","meenumgongseng","meenumpondokmelati","meenumgdcdepok","meenumpekapuran","meenumtaposdepok","meenumbekasitimurregency","meenumbbm","meenumcikaret","meenumgrandkahuripan","meenumpekanbarudurian","meenumpekanbarurambutan","meenumkpmakasar","meenumfatmawati","meenumbumimutiara","meenumjatiwaringin","meenumsumurbatu","meenumpurigading","meenumsetucibitung","meenumsirsakjagakarsa","meenumrawabebek","meenumcikarangregency"]}},watch:{data:{handler:function(e){e.title&&e.active_date?this.disabledSave=!1:this.disabledSave=!0},deep:!0,immediate:!0},loading:{handler:function(e){this.loadings=!0===e},deep:!0},saved:{handler:function(e){this.disabledSave=!0===e},deep:!0},formData:{handler:function(e){console.log(e,"edit news"),this.data=(0,r.default)({},this.data,e),this.pickerOptions={disabledDate:function(t){return t.getTime()<new Date(e.active_date)}}},deep:!0}},methods:{searchCustomerTypes:function(e){var t=this;this.searchingCustomerTypes=!0;var a={Authorization:"Bearer "+this.token.access_token},o={search:e};e.length>0&&(0,s.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"customertype"),headers:a,params:o}).then(function(e){t.searchingCustomerTypes=!1,t.searchResultCustomerTypes=e.data.data.map(function(e){return e})}).catch(function(){t.searchingCustomerTypes=!1,t.searchResultCustomerTypes=[]})},searchCustomers:function(e){var t=this;this.searchingCustomers=!0;var a={Authorization:"Bearer "+this.token.access_token},o={search:e};e.length>0&&(0,s.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"customer"),headers:a,params:o}).then(function(e){t.searchingCustomers=!1,t.searchResultCustomers=e.data.data.map(function(e){return e})}).catch(function(){t.searchingCustomers=!1,t.searchResultCustomers=[]})},searchProducts:function(e){var t=this;this.searchingProducts=!0;var a={Authorization:"Bearer "+this.token.access_token},o={search_column:"name",search_text:e,sort_column:"name",sort_type:"desc",with_master_product:1,per_page:50};e.length>0&&(0,s.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"productvariantsearch"),headers:a,params:o}).then(function(e){t.searchingProducts=!1,t.searchResultProducts=e.data.data.map(function(e){return e})}).catch(function(){t.searchingProducts=!1,t.searchResultProducts=[]})},searchProductGroups:function(e){var t=this;this.searchingProductGroups=!0;var a={Authorization:"Bearer "+this.token.access_token},o={search_column:"name",search_text:e,sort_column:"name",sort_type:"desc"};e.length>0&&(0,s.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"productgroup"),headers:a,params:o}).then(function(e){t.searchingProductGroups=!1,t.searchResultProductGroups=e.data.data.map(function(e){return e})}).catch(function(){t.searchingProductGroups=!1,t.searchResultProductGroups=[]})},searchProductCombos:function(e){var t=this;this.searchingProductCombos=!0;var a={Authorization:"Bearer "+this.token.access_token},o={search_column:"name",search_text:e,sort_column:"name",sort_type:"desc"};e.length>0&&(0,s.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"productcombo"),headers:a,params:o}).then(function(e){t.searchingProductCombos=!1,t.searchResultProductCombos=e.data.data.map(function(e){return e})}).catch(function(){t.searchingProductCombos=!1,t.searchResultProductCombos=[]})},searchBrands:function(e){var t=this;this.searchingProductBrand=!0;var a={Authorization:"Bearer "+this.token.access_token},o={search_column:"name",search_text:e,sort_column:"name",sort_type:"desc"};e.length>0&&(0,s.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"brand"),headers:a,params:o}).then(function(e){t.searchingBrand=!1,t.searchResultBrand=e.data.data.map(function(e){return e})}).catch(function(){t.searchingBrand=!1,t.searchResultBrand=[]})},del_groupPromo_buy_product:function(e){this.groupPromo_buy_product.splice(e,1)},add_groupPromo_buy_product:function(){this.groupPromo_buy_product.push({promo_buy_product_id:"",promo_buy_product_id_qty:""})},del_groupPromo_buy_product_group_id:function(e){this.groupPromo_buy_product_group_id.splice(e,1)},add_groupPromo_buy_product_group_id:function(){this.groupPromo_buy_product_group_id.push({promo_buy_product_group_id:"",promo_buy_product_group_id_qty:""})},del_groupPromo_buy_product_combo_id:function(e){this.groupPromo_buy_product_combo_id.splice(e,1)},add_groupPromo_buy_product_combo_id:function(){this.groupPromo_buy_product_combo_id.push({promo_buy_product_combo_id:"",promo_buy_product_combo_id_qty:""})},del_groupPromo_buy_brand_id:function(e){this.groupPromo_buy_brand_id.splice(e,1)},add_groupPromo_buy_brand_id:function(){this.groupPromo_buy_brand_id.push({promo_buy_brand_id:"",promo_buy_brand_id_qty:""})},del_groupPromo_free_product_id:function(e){this.groupPromo_free_product_id.splice(e,1)},add_groupPromo_free_product_id:function(){this.groupPromo_free_product_id.push({promo_free_product_id:"",promo_free_product_id_qty:""})},handleCheckAllDaysChange:function(e){this.data.promo_valid_days=e?d:[],this.isIndeterminate=!1},handleCheckedDaysChange:function(e){var t=e.length;this.checkAllDays=t===this.days.length,this.isIndeterminate=t>0&&t<this.days.length},cancel:function(){this.data={},this.$emit("cancel")},save:function(){var e=(0,r.default)({},this.data,{combine_qty:this.combineQty,"group-promo_buy_product":[].concat((0,o.default)(this.groupPromo_buy_product)),"group-promo_buy_product_group_id":[].concat((0,o.default)(this.groupPromo_buy_product_group_id)),"group-promo_buy_product_combo_id":[].concat((0,o.default)(this.groupPromo_buy_product_combo_id)),"group-promo_buy_brand_id":[].concat((0,o.default)(this.groupPromo_buy_brand_id)),"group-promo_free_product_id":[].concat((0,o.default)(this.groupPromo_free_product_id))});e.active24h=this.active24h;var t=this.selectedStore.store_id,a=0;this.storeToBeSaved.length&&0===this.storeToBeSaved[0]?a=1:this.storeToBeSaved.length&&(t=this.storeToBeSaved.join(",")),e.to_allstore_id=a,e.to_store_id=t,this.$emit("save",e)},changeTimeDisabled:function(e){this.pickerOptions={disabledDate:function(t){return t.getTime()<=new Date(e)}}},handleSelectAll:function(e){var t=this;e.length&&e.map(function(e){0===e&&(t.storeToBeSaved=[0])})}},mounted:function(){var e=this,t=this.$store.state.userStores.stores;t&&t.map(function(t){e.outlets.push((0,r.default)({},t))});var a=this.$store.getters.selectedStore;a&&(a.constructor===Array?this.storeToBeSaved[0]=0:this.storeToBeSaved[0]=a.store_id)}}}}]);