(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1cc6"],{DChC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(a("QbLZ")),r=n(a("Ljqw"));function n(e){return e&&e.__esModule?e:{default:e}}var s={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var e=this.$store.getters.selectedStore;return{role_id:e.role_id,role_name:e.role_name,is_pos_only:e.is_pos_only,is_mobile:e.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var e=this.$store.getters.token;return this.$store.getters.webviewMode&&(e=this.$store.getters.webviewToken),{Authorization:"Bearer "+e.access_token}},baseURL:function(){return r.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var e=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],t=[];return this.$store.getters.stores.map(function(a){t.includes(a.store_id)||a.is_store_active&&(e.push((0,o.default)({},a)),t.push(a.store_id))}),e},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};t.default=s},ETKi:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return r});var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"box-card"},[a("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[a("div",{staticStyle:{"flex-grow":"1"}},[a("h4",[e._v(e._s(e.$lang[e.langId].supplier)+" "+e._s(e.lang.supplier))]),e._v(" "),e.showTable?a("p",[e._v(e._s(e.params.total)+" "+e._s(e.lang.supplier))]):a("p",[e._v("0 "+e._s(e.lang.supplier))])]),e._v(" "),a("div",[a("button-action-authenticated",{attrs:{permission:["customer/suppliers","show"],type:"text",icon:"el-icon-download",loading:e.loadingDownload},on:{click:e.getExcel}},[e._v("\n          "+e._s(e.$lang[e.langId].download_excel)+"\n        ")]),e._v(" "),a("button-action-authenticated",{attrs:{permission:["customer/suppliers","store"],type:"background-color: #E1E2E1",icon:"el-icon-upload"},on:{click:function(t){e.importDialog=!0}}},[e._v("\n          "+e._s(e.lang.import)+"\n        ")]),e._v(" "),a("router-link",{attrs:{to:{name:"Supplier Create"}}},[a("button-action-authenticated",{attrs:{permission:["customer/suppliers","store"],type:"success",icon:"el-icon-plus"}},[e._v("\n            "+e._s(e.lang.add)+"\n          ")])],1)],1)]),e._v(" "),a("div",{staticClass:"card-body"},[e.showTable?a("div",[a("div",{staticClass:"table-handler-flex"},[a("div",{staticClass:"mb-4",staticStyle:{"flex-grow":"1"}},[a("el-select",{staticClass:"inline-form",attrs:{filterable:"",placeholder:e.lang.please_select,size:"small"},on:{change:e.changePageTable},model:{value:e.params.per_page,callback:function(t){e.$set(e.params,"per_page",t)},expression:"params.per_page"}},e._l(e.pages,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("div",{staticClass:"mb-4"},[a("el-input",{staticClass:"inline-form input-search",attrs:{clearable:"",placeholder:e.lang.search,"prefix-icon":"el-icon-search",size:"small"},on:{change:e.handleSearch},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}})],1)]),e._v(" "),a("el-divider"),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"sales-table-max-height mobile-fix-height-unset",attrs:{data:e.supplierData,stripe:""},on:{"sort-change":e.changeSortTable,"row-click":e.rowClick}},[a("el-table-column",{attrs:{label:e.lang.name,prop:"name",sortable:"","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.name?a("p",[a("router-link",{attrs:{to:{path:"/customersupplier/supplier/"+t.row.id}}},[e._v("\n                  "+e._s(t.row.name)+"\n                ")])],1):a("p",[e._v("-")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.contact_person,prop:"contact_person",sortable:"","min-width":"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.contact_person?a("p",[e._v(e._s(t.row.contact_person))]):a("p",[e._v("-")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.email,prop:"email",sortable:"","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.email?a("p",[e._v(e._s(t.row.email))]):a("p",[e._v("-")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.phone,prop:"phone",sortable:"","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.phone?a("p",[e._v(e._s(t.row.phone))]):a("p",[e._v("-")])]}}])})],1),e._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.params.currentPage,"page-size":e.params.per_page,layout:"prev, pager, next, jumper",total:e.params.total},on:{"size-change":e.changePageTable,"current-change":e.changeCurrentPage,"update:currentPage":function(t){return e.$set(e.params,"currentPage",t)},"update:current-page":function(t){return e.$set(e.params,"currentPage",t)}}})],1)],1):a("div",{staticClass:"no-product"},[a("p",[e._v(e._s(e.$lang[e.langId].no_data))]),e._v(" "),a("img",{attrs:{src:"/static/img/no-data-staff.png",alt:"No Data Picture"}})])])]),e._v(" "),a("el-dialog",{attrs:{title:e.lang.import_update_status,visible:e.importDialog,"max-width":"760px"},on:{"update:visible":function(t){e.importDialog=t},close:e.cancelImport}},[a("div",[a("div",[e.dropdownForm?a("div",[a("div",{staticClass:"font-bold mb-8 flex-container"},[a("div",{staticClass:"full-width word-break"},[e._v(e._s(e.lang.import_from_csv_info))]),e._v(" "),a("div",[a("el-button",{staticClass:"btn btn-default",attrs:{loading:e.loadingTemplate},on:{click:e.downloadTemplate}},[e._v("\n                "+e._s(e.lang.download_template)+"\n              ")])],1)]),e._v(" "),a("div",{staticClass:"mb-8"},[a("vue-dropzone",{ref:"dropzone",attrs:{id:"drop1",options:{url:e.baseURL+"api/"+this.selectedStore.url_id+"/admin/v1/"+this.langId+"/supplier/importfromcsv",headers:{Authorization:"Bearer "+this.token.access_token,"Cache-Control":null},method:"post",acceptedFiles:".csv"}},on:{"vdropzone-success":e.afterComplete,"vdropzone-error":e.failed}})],1),e._v(" "),a("el-button",{staticStyle:{"margin-top":"8px"},on:{click:e.removeAllFiles}},[e._v("\n            "+e._s(e.$lang[e.langId].remove_all_file)+"\n          ")])],1):e._e(),e._v(" "),e.tableImport?a("el-card",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{stripe:"",data:e.tableImportCustomer,"default-sort":{prop:"id",order:"ascending"}},on:{"selection-change":e.handleSelectionChange,"sort-change":e.handleSortChange}},[a("el-table-column",{attrs:{label:e.lang.customer_name,prop:"name",sortable:"","min-width":"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("strong",[e._v(e._s(t.row.name))])]}}],null,!1,3671510750)}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.address,prop:"address",sortable:"",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.phone,prop:"phone",sortable:"",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.email,prop:"email",sortable:"",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{label:e.lang.status,prop:"status",sortable:"",width:"200"}})],1)],1):e._e()],1)]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"cancel",on:{click:e.cancelImport}},[e._v(e._s(e.lang.cancel))]),e._v(" "),a("el-button",{staticClass:"process",attrs:{disabled:e.dropdownForm},on:{click:e.saveImportData}},[e._v(e._s(e.lang.proceed))])],1)])],1)},r=[]},FZbp:function(e,t,a){"use strict";a.r(t);var o=a("va5l"),r=a.n(o);for(var n in o)["default"].indexOf(n)<0&&function(e){a.d(t,e,function(){return o[e]})}(n);t.default=r.a},VYSz:function(e){e.exports=JSON.parse('[{"id":1,"name":"Bran Renwick","email":"brenwick0@answers.com","phone":"348-328-6780","contact_person":"John Doe"},{"id":2,"name":"Henderson McMillan","email":"hmcmillan1@aboutads.info","phone":"895-136-2608","contact_person":"John Doe"},{"id":3,"name":"Arlena Vasilenko","email":"avasilenko2@moonfruit.com","phone":"560-436-9375","contact_person":"John Doe"},{"id":4,"name":"Maible Erdis","email":"merdis3@livejournal.com","phone":"567-185-4397","contact_person":"John Doe"},{"id":5,"name":"Kristi Ayre","email":"kayre4@ocn.ne.jp","phone":"973-775-2843","contact_person":"John Doe"},{"id":6,"name":"Mariette Handke","email":"mhandke5@stumbleupon.com","phone":"650-891-7619","contact_person":"John Doe"},{"id":7,"name":"Bjorn Ebbett","email":"bebbett6@bbb.org","phone":"472-840-5227","contact_person":"John Doe"},{"id":8,"name":"Aurora Assandri","email":"aassandri7@smugmug.com","phone":"451-307-8768","contact_person":"John Doe"},{"id":9,"name":"Mame Dunderdale","email":"mdunderdale8@apple.com","phone":"359-874-4382","contact_person":"John Doe"},{"id":10,"name":"Rochette Martinez","email":"rmartinez9@cbsnews.com","phone":"384-829-9969","contact_person":"John Doe"},{"id":11,"name":"Anatol Jenton","email":"ajentona@illinois.edu","phone":"739-552-3620","contact_person":"John Doe"},{"id":12,"name":"Peri Pridmore","email":"ppridmoreb@1688.com","phone":"342-678-0067","contact_person":"John Doe"},{"id":13,"name":"Niels Dommerque","email":"ndommerquec@virginia.edu","phone":"143-938-5927","contact_person":"John Doe"},{"id":14,"name":"Oliy Sheldrick","email":"osheldrickd@wikipedia.org","phone":"245-574-1522","contact_person":"John Doe"},{"id":15,"name":"Melisent Scaife","email":"mscaifee@theguardian.com","phone":"598-718-1468","contact_person":"John Doe"},{"id":16,"name":"Kaspar Stork","email":"kstorkf@clickbank.net","phone":"756-700-6056","contact_person":"John Doe"},{"id":17,"name":"Corette South","email":"csouthg@hhs.gov","phone":"742-495-7676","contact_person":"John Doe"},{"id":18,"name":"Jenda Girtin","email":"jgirtinh@craigslist.org","phone":"831-891-3107","contact_person":"John Doe"},{"id":19,"name":"Sarge Fruish","email":"sfruishi@blinklist.com","phone":"957-417-1286","contact_person":"John Doe"},{"id":20,"name":"Krystal Bampkin","email":"kbampkinj@usgs.gov","phone":"392-272-9006","contact_person":"John Doe"}]')},Yd2Z:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.customer=function(e){return(0,o.service)({url:"customer",method:"GET",params:e})},t.customerTemplate=function(e){return(0,o.service)({url:"customer/importfromcsv",method:"GET",params:e})},t.supplierTemplate=function(e){return(0,o.service)({url:"supplier/importfromcsv",method:"GET",params:e})},t.getCustomerDeposit=function(e){return(0,o.service)({url:"customerdeposittransaction/"+e.id,method:"GET",params:e})},t.getCustomerDetailDeposit=function(e){return(0,o.service)({url:"customerdeposittransaction/"+e.customer_id+"/"+e.id,method:"GET"})},t.getCustomerLoyalty=function(e){return(0,o.service)({url:"customerloyaltypoints/"+e.id,method:"GET",params:e})};var o=a("xCek")},qemo:function(e,t,a){"use strict";a.r(t);var o=a("ETKi"),r=a("FZbp");for(var n in r)["default"].indexOf(n)<0&&function(e){a.d(t,e,function(){return r[e]})}(n);var s=a("KHd+"),i=Object(s.a)(r.default,o.a,o.b,!1,null,null,null);i.options.__file="SupplierList.vue",t.default=i.exports},va5l:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=c(a("m1cH")),r=a("xCek"),n=c(a("vDqi")),s=a("Yd2Z"),i=c(a("ksP6"));a("Hj/Q");var l=c(a("DChC"));function c(e){return e&&e.__esModule?e:{default:e}}t.default={name:"SupplierList",components:{vueDropzone:i.default,tokenc:""},mixins:[l.default],data:function(){return{loading:!1,supplierData:[],searchValue:null,showTable:!1,importDialog:!1,dropdownForm:!0,tableImport:!1,fileConfirm:"",number:0,totalRow:0,pages:[{value:5,label:"5 "+this.$store.state.userStores.lang.rows},{value:10,label:"10 "+this.$store.state.userStores.lang.rows},{value:20,label:"20 "+this.$store.state.userStores.lang.rows},{value:50,label:"50 "+this.$store.state.userStores.lang.rows},{value:100,label:"100 "+this.$store.state.userStores.lang.rows}],params:{search:null,total:null,currentPage:1,sort_column:"name",sort_type:"asc",per_page:10,page:1,store:null,search_column:null,search_text:""},loadingTemplate:!1,loadingDownload:!1}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},rootLang:function(){return this.$lang[this.$store.state.userStores.langId]}},watch:{"$store.getters.selectedStore":function(){this.getSupplierData()}},mounted:function(){this.getSupplierData()},methods:{getSupplierData:function(){var e=this;if([].concat((0,o.default)(document.getElementById("app").classList)).includes("dummy-page"))this.getMockupData();else{this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"GET",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"supplier"),params:this.params,headers:t}).then(function(t){e.supplierData=t.data.data,e.params.total=t.data.meta.total,e.showTable=!0,e.loading=!1}).catch(function(t){e.loading=!1,e.params.total=0,404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})}},getMockupData:function(){this.showTable=!0,this.params.total=10,this.supplierData=a("VYSz")},changePageTable:function(e){this.params.per_page=e,this.getSupplierData()},handleSearch:function(e){this.params.page=1,this.params.currentPage=1,this.params.search_text="",this.params.search_column=null,this.params.search=this.searchValue,this.getSupplierData()},changeSortTable:function(e){"ascending"===e.order&&(e.order="asc"),"descending"===e.order&&(e.order="desc"),this.params.sort_type=e.order,this.params.sort_column=e.prop,this.getSupplierData()},changeCurrentPage:function(e){this.params.currentPage=e,this.params.page=e,this.getSupplierData()},rowClick:function(e){this.$router.push({path:"/customersupplier/supplier/"+e.id})},afterComplete:function(e,t){0===t.error&&(this.dropdownForm=!1,this.tableImportCustomer=t.data,this.totalRow=t.row,this.tableImport=!0,this.fileConfirm=t.file_confirmed)},failed:function(e,t,o){this.$message({type:"error",message:t.error.error}),a("EVdn")(".dz-error-message span").text(t.error.error)},removeAllFiles:function(){this.$refs.dropzone.removeAllFiles()},cancelImport:function(){this.tableImportCustomer=[],this.fileConfirm="",this.dropdownForm=!0,this.tableImport=!1,this.importDialog=!1},saveImportData:function(){var e=this;this.loading=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"POST",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"supplier/importconfirmed?file_confirmed="+this.fileConfirm),headers:t}).then(function(t){e.loading=!1,e.$router.push({path:"/customersupplier/supplier"}),e.getSupplierData(),e.cancelImport(),e.importDialog=!1,e.$message({title:"Success",message:t.data.data+" Supplier."})}).catch(function(t){e.loading=!0,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},getExcel:function(){var e=this;this.loadingDownload=!0;var t={Authorization:"Bearer "+this.token.access_token};(0,n.default)({url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"supplier/excel"),method:"GET",responseType:"blob",headers:t,params:{type:"xlsx",p:0}}).then(function(t){var a=e.$lang[e.langId].list+" "+e.lang.supplier+".xlsx",o=window.URL.createObjectURL(new Blob([t.data])),r=document.createElement("a");r.href=o,r.setAttribute("download",a),document.body.appendChild(r),r.click(),e.loadingDownload=!1}).catch(function(t){e.loadingDownload=!1})},downloadTemplate:function(){var e=this;this.loadingTemplate=!0,(0,s.supplierTemplate)().then(function(t){var a=window.URL.createObjectURL(new Blob([t.data])),o=document.createElement("a");o.href=a,o.setAttribute("download","olsera_supplier_import_template.csv"),document.body.appendChild(o),o.click(),e.loadingTemplate=!1}).catch(function(t){e.loadingTemplate=!1})}}}}}]);