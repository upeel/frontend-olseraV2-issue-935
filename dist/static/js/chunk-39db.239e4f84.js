(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-39db"],{L6Oy:function(t,e,s){"use strict";s.r(e);var a=s("vHVr"),o=s("n7lP");for(var r in o)["default"].indexOf(r)<0&&function(t){s.d(e,t,function(){return o[t]})}(r);var n=s("KHd+"),i=Object(n.a)(o.default,a.a,a.b,!1,null,null,null);i.options.__file="Form.vue",e.default=i.exports},n7lP:function(t,e,s){"use strict";s.r(e);var a=s("pO5F"),o=s.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){s.d(e,t,function(){return a[t]})}(r);e.default=o.a},pO5F:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(s("m1cH")),o=i(s("vDqi")),r=s("xCek"),n=s("c/X4");function i(t){return t&&t.__esModule?t:{default:t}}var d=s("wd/R"),l=d().format("YYYY-MM-DD");e.default={data:function(){return{loading:!1,isButtonDisabled:!1,note:null,date:new Date(l),toStoreId:null,recentStore:this.$store.getters.selectedStore.store_id,tempStoreId:""}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},userStores:function(){var t=[].concat((0,a.default)(this.$store.state.userStores.stores));return t.unshift({store_id:null,name:"-"}),t},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},methods:{save:function(){var t=this;if(this.toStoreId===this.recentStore)this.$message({message:this.$lang[this.$store.state.userStores.langId].error_transfer_stock_outgoing,type:"warning"});else{this.loading=!0,this.isButtonDisabled=!0;var e={date:d(this.date).format("YYYY-MM-DD"),to_store_id:this.toStoreId,type:"O",note:this.note};"transfer"===this.$route.query.path&&(e.is_transfer=1),e.to_store_id||this.$delete(e,"to_store_id");var s={Authorization:"Bearer "+this.token.access_token};(0,o.default)({method:"POST",url:(0,r.baseApi)(this.selectedStore.url_id,this.langId,"stockinouts"),headers:s,data:e}).then(function(e){t.loading=!1,t.isButtonDisabled=!1,t.$message({message:"Saved",type:"success"}),t.$router.push({path:"/inventory/stocksoutgoing/"+e.data.data.id})}).catch(function(e){t.loading=!1,t.isButtonDisabled=!1,t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})}},cancel:function(){this.$router.push({path:"/inventory/stocksoutgoing/"})},getUserStores:function(t,e){var s=this,a={per_page:1e3,sort_type:"desc",sort_column:"is_store_active",search:t};(0,n.fetchStores)(a).then(function(t){var s=t.data.data;s.map(function(t){t.value=t.name}),e(s)}).catch(function(t){404!==t.response.data.error.status_code&&s.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e([])})},setToStoreId:function(t){this.toStoreId=t.store_id}}}},vHVr:function(t,e,s){"use strict";s.d(e,"a",function(){return a}),s.d(e,"b",function(){return o});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{staticClass:"box-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("h4",[t._v(t._s(t.lang.add)+" "+t._s(t.lang.outgoing_stock))])]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4"},[s("h5",[t._v(t._s(t.lang.date))]),t._v(" "),s("el-date-picker",{staticStyle:{width:"100%"},attrs:{size:"small",type:"date",placeholder:t.$lang[t.langId].pick_a_day},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),s("div",{staticClass:"col-md-4"},[s("h5",[t._v(t._s(t.lang.notes))]),t._v(" "),s("el-input",{attrs:{type:"textarea",size:"small",autosize:""},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1),t._v(" "),"transfer"===t.$route.query.path?s("div",{staticClass:"col-md-4"},[s("h5",[t._v(t._s(t.lang.transfer_to))]),t._v(" "),s("el-autocomplete",{staticStyle:{width:"100%"},attrs:{"fetch-suggestions":t.getUserStores,placeholder:t.lang.please_select+" (Autocomplete)"},on:{select:t.setToStoreId},model:{value:t.tempStoreId,callback:function(e){t.tempStoreId=e},expression:"tempStoreId"}})],1):t._e()])]),t._v(" "),s("div",{staticClass:"card-footer text-right"},[s("el-button",{attrs:{disabled:t.isButtonDisabled,type:"default"},on:{click:t.cancel}},[t._v(t._s(t.lang.cancel))]),t._v(" "),s("el-button",{attrs:{disabled:t.isButtonDisabled,type:"primary"},on:{click:t.save}},[t._v(t._s(t.lang.continue_add_outgoing_stock))])],1)])},o=[]}}]);