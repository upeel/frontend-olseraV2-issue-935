(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-12c7"],{"/Ato":function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return r});var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"jurnalExportHeader"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{md:12,sm:12,xs:24,align:"left"}},[s("div",{staticStyle:{cursor:"pointer"}},[s("img",{attrs:{src:a("yIMT")}}),t._v(" "),s("span",{staticClass:"jurnal"},[t._v("Accurate")])])]),t._v(" "),s("el-col",{attrs:{md:12,sm:12,xs:24,align:"right"}},[s("el-button",{class:0!==t.chosenUnpost.length||t.buttonPostStatus?"allowUnpost":"",attrs:{disabled:0===t.chosenUnpost.length||!1===t.buttonPostStatus,size:"small",type:"info"},on:{click:t.showDialogUnpost}},[s("span",[s("svg-icon",{attrs:{type:"cloud-trash"}}),t._v("\n            "+t._s(t.$lang[t.langId].unpost)+"\n          ")],1)]),t._v(" "),s("el-button",{class:0!==t.chosenSales.length||t.buttonPostStatus?"allowExport":"",attrs:{disabled:0===t.chosenSales.length||!1===t.buttonPostStatus,size:"small",type:"info"},on:{click:t.showDialogExport}},[s("svg-icon",{attrs:{type:"cloud-upload"}}),t._v("\n          "+t._s(t.$lang[t.langId].post_to_accurate)+"\n        ")],1)],1)],1)],1),t._v(" "),s("div",{staticClass:"table-handler-flex visible-lg visible-md visible-sm"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{md:12,sm:12,xs:12,align:"left"}},[s("el-button",{staticClass:"button-filter",attrs:{size:"mini",type:"info",icon:"el-icon-search"},on:{click:t.showDialogFilter}},[t._v("\n            "+t._s(t.lang.search)+"\n        ")])],1),t._v(" "),s("el-col",{attrs:{md:12,sm:12,xs:12,align:"right"}},[s("el-button",{staticClass:"date-filter-dashboard",attrs:{size:"small"},on:{click:t.toggleFilter}},[s("i",{staticClass:"fa fa-filter"}),t._v(" "),s("span",[t._v(t._s(t.labelDate))])])],1)],1)],1),t._v(" "),s("div",{staticClass:"table-handler-flex visible-xs"},[s("div",{staticClass:"col-xs-12 nopadding"},[s("el-button",{staticClass:"date-filter-dashboard",staticStyle:{width:"100%"},attrs:{size:"small"},on:{click:t.toggleFilter}},[s("i",{staticClass:"fa fa-filter"}),t._v(" "),s("span",[t._v(t._s(t.labelDate))])])],1),t._v(" "),s("div",{staticClass:"col-xs-12",staticStyle:{margin:"10px 0 10px 0",padding:"0"}},[s("el-button",{staticClass:"button-filter",staticStyle:{width:"100%"},attrs:{size:"small",icon:"el-icon-search"},on:{click:t.showDialogFilter}},[t._v("\n          "+t._s(t.lang.search)+"\n      ")])],1)]),t._v(" "),s("div",{staticStyle:{"margin-top":"24px"}},[!0===t.isLoading?s("loading",{attrs:{active:!0,color:"#1bb4e6",loader:"spinner",width:32,height:32,align:"center",backgroundColor:"#ffffff"}}):s("el-table",{ref:"multipleTable",staticClass:"product-table-max-height mobile-fix-height-unset",attrs:{"column-key":"accurate_posted",data:t.dataSales,stripe:""},on:{"selection-change":t.handleSelectExport,"sort-change":t.changeSortTable,"filter-change":t.filterPost}},[t.buttonPostStatus?s("el-table-column",{attrs:{type:"selection",width:"30","class-name":"text-center"}}):t._e(),t._v(" "),s("el-table-column",{attrs:{prop:"order_date",label:t.lang.sales_date,sortable:"",width:"140"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.forder_date))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"order_no",label:t.lang.order_no,sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return["P"===e.row.status?s("router-link",{attrs:{to:{path:"/sales/openorder/"+e.row.id,query:{path:"accounting-third/accurate/sales",pathName:"Accurate Upload Sales",lastParams:t.params,labelDate:t.labelDate}}}},[t._v("\n            "+t._s(e.row.order_no)+"\n          ")]):s("router-link",{attrs:{to:{path:"/sales/completeorder/"+e.row.id,query:{path:"accounting-third/accurate/sales",pathName:"Accurate Upload Sales",lastParams:t.params,labelDate:t.labelDate}}}},[t._v("\n            "+t._s(e.row.order_no)+"\n          ")])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"customer_name",label:t.lang.customer_name,sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(t.capitalize(e.row.customer_name)))])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"int_total_amount",label:t.lang.order_totals,sortable:"",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[null!==e.row.ftotal_amount?s("div",[t._v(t._s(e.row.ftotal_amount))]):s("div",[t._v("IDR 0")])]}}])}),t._v(" "),s("el-table-column",{attrs:{prop:"accurate_posted",label:"Post",width:"140",align:"center",filters:[{text:t.$lang[t.langId].posted,value:"1"},{text:t.$lang[t.langId].unposted,value:"0"}],"filter-multiple":!1},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.accurate_posted?s("el-tag",{attrs:{type:"success",size:"mini","disable-transitions":""}},[t._v(t._s(t.$lang[t.langId].posted)+"\n          ")]):s("el-tag",{attrs:{type:"danger","disable-transitions":"",size:"mini"}},[t._v("\n            "+t._s(t.$lang[t.langId].unposted)+"\n          ")]),t._v(" "),1===e.row.accurate_payment?s("el-tag",{attrs:{type:"success",size:"mini","disable-transitions":""}},[t._v(t._s(t.$lang[t.langId].paid2)+"\n          ")]):2===e.row.accurate_payment?s("el-tag",{attrs:{type:"primary",size:"mini","disable-transitions":""}},[t._v(t._s(t.$lang[t.langId].paid_partial)+"\n          ")]):s("el-tag",{attrs:{type:"danger","disable-transitions":"",size:"mini"}},[t._v("\n            "+t._s(t.$lang[t.langId].unpaid)+"\n          ")])]}}])})],1),t._v(" "),s("div",{staticStyle:{"margin-top":"20px","margin-bottom":"-55px"}},[s("el-select",{staticClass:"perpage",staticStyle:{width:"120px"},attrs:{placeholder:"Select"},on:{change:t.handleSizeChange},model:{value:t.params.per_page,callback:function(e){t.$set(t.params,"per_page",e)},expression:"params.per_page"}},t._l(t.itemPage,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),s("div",{staticStyle:{"text-align":"center"}},[s("el-pagination",{staticClass:"paginate",attrs:{"current-page":t.params.currentPage,"page-size":parseInt(t.params.per_page),layout:"total, prev, pager, next, jumper",total:t.params.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){return t.$set(t.params,"currentPage",e)},"update:current-page":function(e){return t.$set(t.params,"currentPage",e)}}})],1)],1),t._v(" "),s("el-dialog",{staticClass:"text-left",attrs:{visible:t.dialogFilter,width:"40%","custom-class":"dialog-card"},on:{"update:visible":function(e){t.dialogFilter=e}}},[s("el-form",[s("el-form-item",{attrs:{label:t.lang.search,"label-width":t.formLabelWidth}},[s("el-input",{staticStyle:{width:"93%"},attrs:{placeholder:t.lang.transaction_no+"/"+t.lang.customer_name,clearable:"","prefix-icon":"el-icon-search",size:"small"},model:{value:t.params.search,callback:function(e){t.$set(t.params,"search",e)},expression:"params.search"}})],1),t._v(" "),s("el-form-item",{attrs:{label:t.lang.order_totals,"label-width":t.formLabelWidth}},[s("money",{staticClass:"form-input input-sm",staticStyle:{"font-size":"14px",color:"#606266",width:"93%",border:"1px solid #DCDFE6"},attrs:{prefix:t.selectedStore.currency_id+" "},model:{value:t.filter.amount,callback:function(e){t.$set(t.filter,"amount",e)},expression:"filter.amount"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"Accurate Post","label-width":t.formLabelWidth}},[s("el-radio-group",{staticStyle:{border:"groove","border-color":"#409eff54","border-width":"thin"},model:{value:t.filter.post,callback:function(e){t.$set(t.filter,"post",e)},expression:"filter.post"}},[s("el-radio-button",{attrs:{label:""}},[t._v("\n            "+t._s(t.lang.all)+"\n          ")]),t._v(" "),s("el-radio-button",{attrs:{label:"1"}},[t._v("\n            "+t._s(this.$lang[t.langId].posted)+"\n          ")]),t._v(" "),s("el-radio-button",{attrs:{label:"0"}},[t._v("\n            "+t._s(this.$lang[t.langId].unposted)+"\n          ")])],1)],1),t._v(" "),s("el-form-item",{attrs:{label:t.$lang[t.langId].payment,"label-width":t.formLabelWidth}},[s("el-radio-group",{staticStyle:{border:"groove","border-color":"#409eff54","border-width":"thin"},model:{value:t.filter.payment,callback:function(e){t.$set(t.filter,"payment",e)},expression:"filter.payment"}},[s("el-radio-button",{attrs:{label:""}},[t._v("\n            "+t._s(t.lang.all)+"\n          ")]),t._v(" "),s("el-radio-button",{attrs:{label:"1"}},[t._v("\n            "+t._s(this.$lang[t.langId].paid)+"\n          ")]),t._v(" "),s("el-radio-button",{attrs:{label:"0"}},[t._v("\n            "+t._s(this.$lang[t.langId].unpaid)+"\n          ")])],1)],1)],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:t.handleFilter}},[t._v(t._s(t.$lang[t.langId].filter))])],1)],1),t._v(" "),s("el-dialog",{attrs:{visible:t.dialogUnpost,width:"40%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.dialogUnpost=e}}},[s("div",{attrs:{align:"left"}},[s("el-row",{staticClass:"mb-16",staticStyle:{width:"100%","margin-top":"-40px"}},[s("el-col",{attrs:{span:12,align:"left"}},[s("span",{staticStyle:{"line-height":"2","font-size":"18px"}},[t._v(t._s(t.$lang[t.langId].unpost+" "+t.lang.sales))])]),t._v(" "),s("el-col",{attrs:{span:12,align:"right"}},[s("el-button",{on:{click:t.closeDialogUnpost}},[t._v(t._s(t.lang.cancel))]),t._v(" "),s("el-button",{attrs:{disabled:t.loadingUnpost,type:"primary"},on:{click:t.handleUnpost}},[t.loadingUnpost?s("loading",{attrs:{active:!0,color:"#1bb4e6",loader:"dots",width:28,height:10,backgroundColor:"#ffffff"}}):s("span",[t._v("\n              "+t._s(t.$lang[t.langId].unpost)+"\n            ")])],1)],1)],1),t._v(" "),s("img",{attrs:{src:a("4ozp")}}),t._v(" "),s("small",{staticStyle:{"font-weight":"bolder"}},[t._v("\n        "+t._s(t.$lang[t.langId].you_sure+" "+t.$lang[t.langId].unpost)+"\n        "),s("span",{staticStyle:{color:"blue"}},[t._v(" "+t._s(t.chosenUnpost.length)+" ")]),t._v("\n        "+t._s(t.lang.sales+" ?"))])],1)]),t._v(" "),s("el-dialog",{attrs:{visible:t.dialogExport,width:"34%",center:"","close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(e){t.dialogExport=e}}},[s("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[s("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[s("el-col",{attrs:{span:12,align:"left"}},[s("span",{staticStyle:{"line-height":"2","font-size":"15px"}},[t._v(t._s(t.$lang[t.langId].post_to_accurate))])]),t._v(" "),s("el-col",{attrs:{span:12,align:"right"}},[s("el-button",{on:{click:t.closeDialogExport}},[t._v(t._s(t.lang.cancel))]),t._v(" "),s("el-button",{attrs:{disabled:t.loadingExport,type:"primary"},on:{click:t.exportSales}},[t.loadingExport?s("loading",{attrs:{active:!0,color:"#1bb4e6",loader:"dots",width:28,height:10,backgroundColor:"#ffffff"}}):s("span",[t._v("\n              "+t._s(t.lang.post)+"\n            ")])],1)],1)],1)],1),t._v(" "),s("div",{attrs:{align:"left"}},[s("img",{attrs:{src:a("4ozp")}}),t._v(" "),s("small",{staticStyle:{"font-weight":"bolder"}},[t._v("\n        "+t._s(t.$lang[t.langId].you_sure+" "+t.lang.post)+"\n        "),s("span",{staticStyle:{color:"blue"}},[t._v(" "+t._s(t.chosenSales.length)+" ")]),t._v("\n        "+t._s(t.$lang[t.langId].sales_to+" Accurate ?"))])])]),t._v(" "),s("custom-date-filter",{attrs:{"show-filter":t.showFilter},on:{close:t.dateFilterClose,reset:t.dateFilterReset,save:t.dateFilterSave}})],1)},r=[]},"7FNh":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=g(a("GQeE")),r=g(a("EJiy")),o=g(a("yaWO")),n=g(a("vp3v")),l=g(a("Noxl")),i=g(a("DVpr")),c=g(a("uB1l")),u=a("vZwZ"),d=g(a("kGIl")),p=a("xCek"),m=g(a("vDqi")),h=g(a("DChC"));function g(t){return t&&t.__esModule?t:{default:t}}e.default={props:["show","dataProduct","dataCustomer","fecthStatus"],name:"DialogJurnalMapCustomerProduct",components:{ProductMap:o.default,CustomerMap:n.default,ProductMapped:l.default,ProductCombo:i.default,CustomerMapped:c.default,Loading:d.default},mixins:[h.default],computed:{langId:function(){return this.$store.state.userStores.langId},token:function(){return this.$store.state.user.token},selectedStore:function(){return this.$store.getters.selectedStore},lang:function(){return this.$store.state.userStores.lang}},data:function(){return{showAllProduct:!1,showAllCustomer:!1,allProductPending:"",allCustomerPending:"",loadingAllPost:!1,loadingConfirm:!1,textConfirm:this.$lang[this.$store.state.userStores.langId].confirm+" "+this.$store.state.userStores.lang.product,activeTab:"productMap",allProduct:!0,activeProduct:"productMapped",activeCustomer:"customerMapped",loadingFetchProduct:!1,paramsProduct:{start_date:"",end_date:"",page:1},loadingFetch:!1,currentFetch:0,totalFetch:0,paramsCustomer:{page:1}}},methods:{handleClose:function(){this.$emit("close")},getAllProduct:function(){this.activeProduct="productMapped",this.allProduct=!0,this.showAllProduct=!0},closeAllProduct:function(){this.show=!0,this.allProduct=!1,this.showAllProduct=!1},hanldeGetCustomerList:function(){this.activeCustomer="customerMapped",this.allProduct=!0,this.showAllCustomer=!0},handleCloseCustomerList:function(){this.activeCustomer="customerMapped",this.allProduct=!1,this.showAllCustomer=!1},fetchAccurateProduct:function(){var t=this;this.loadingFetchProduct=!0,(0,u.fetchproduct)(this.paramsProduct).then(function(e){var a="Success "+t.paramsProduct.page+" "+t.rootLang.of+" "+e.data.data.total_pages;t.paramsProduct.page<e.data.data.total_pages?(t.currentFetch=e.data.data.currenct_page+1,t.totalFetch=e.data.data.total_pages,t.paramsProduct.page=e.data.data.currenct_page+1,t.$message({type:"success",message:a}),t.fetchAccurateProduct()):(t.currentFetch=0,t.totalFetch=0,t.$message({type:"success",message:a}),t.loadingFetchProduct=!1)}).catch(function(e){if(t.loadingFetchProduct=!1,"object"===(0,r.default)(e.response.data.error.error)){var a=(0,s.default)(e.response.data.error.error)[0];t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error[a][0]})}else t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},fetchAccurateCustomer:function(){var t=this;this.loadingFetch=!0,(0,u.fetchCustomer)(this.paramsCustomer).then(function(e){var a="Success "+t.paramsCustomer.page+" "+t.$lang[t.langId].of+" "+e.data.data.total_pages;t.paramsCustomer.page<e.data.data.total_pages?(t.currentFetch=e.data.data.currenct_page+1,t.totalFetch=e.data.data.total_pages,t.paramsCustomer.page=e.data.data.currenct_page+1,t.$message({type:"success",message:a}),t.fetchAccurateCustomer()):(t.currentFetch=0,t.totalFetch=0,t.$message({type:"success",message:a}),t.loadingFetch=!1)}).catch(function(e){if(t.loadingFetch=!1,"object"===(0,r.default)(e.response.data.error.error)){var a=(0,s.default)(e.response.data.error.error)[0];t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error[a][0]})}else t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},handleAllPost:function(){var t=this,e={Authorization:"Bearer "+this.token.access_token};this.loadingAllPost=!0,(0,m.default)({method:"POST",url:(0,p.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/product/post"),headers:e}).then(function(e){var a=e.data;0===a.finish?(t.handleAllPost(),t.allProductPending=a.module+" - "+t.rootLang.waiting+" "+a.pending+" "+t.lang.item):(t.loadingAllPost=!1,t.allProductPending="")}).catch(function(e){t.loadingAllPost=!1,t.allProductPending="",t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},allPostCustomer:function(){var t=this,e={Authorization:"Bearer "+this.token.access_token};this.loadingAllPost=!0,(0,m.default)({method:"POST",url:(0,p.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/customer/post"),headers:e}).then(function(e){var a=e.data;0===a.finished?(t.allPostCustomer(),t.allCustomerPending=a.module+" - "+t.rootLang.waiting+" "+a.pending+" "+t.lang.item):(t.loadingAllPost=!1,t.allCustomerPending="")}).catch(function(e){t.loadingAllPost=!1,t.allCustomerPending="",t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},confirmProduct:function(t,e){var a=this;this.loadingConfirm=!0;var o={Authorization:"Bearer "+this.token.access_token},n=e.hasOwnProperty("variant_re_confirm")?e:{page:1};(0,m.default)({method:"GET",url:(0,p.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/productconfirm"),headers:o,params:n}).then(function(t){var e=t.data.data,s={page:n.page+1,variant_re_confirm:e.variant_re_confirm,product_re_confirm:e.product_re_confirm,combo_re_confirm:e.combo_re_confirm};1!==t.data.finish?(a.confirmProduct(null,s),a.textConfirm=n.page+" "+a.lang.from+" "+t.data.totalPages,n.page++):(a.loadingConfirm=!1,a.textConfirm=a.rootLang.confirm+" "+a.lang.product)}).catch(function(t){if(a.loadingConfirm=!1,a.textConfirm=a.rootLang.confirm+" "+a.lang.product,"object"===(0,r.default)(t.response.data.error.error)){var e=(0,s.default)(t.response.data.error.error)[0];a.$notify({tipe:"warning",title:t.response.data.error.message,message:t.response.data.error.error[e][0]})}else a.$notify({tipe:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})}}}},"8YnJ":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=c(a("EJiy")),r=c(a("GQeE")),o=a("xCek"),n=c(a("vDqi")),l=c(a("kGIl")),i=c(a("r7om"));function c(t){return t&&t.__esModule?t:{default:t}}var u=a("wd/R");e.default={name:"SalesToAccurate",components:{CustomDateFilter:i.default,Loading:l.default},computed:{lang:function(){return this.$store.state.userStores.lang},token:function(){return this.$store.state.user.token},selectedStore:function(){return this.$store.getters.selectedStore},langId:function(){return this.$store.state.userStores.langId}},data:function(){return{money:{decimal:",",thousands:".",prefix:"",precision:0,masked:!1},isLoading:!1,loadingExport:!1,loadingUnpost:!1,tooltipMessage:"",buttonPostStatus:!1,messageHidden:!0,itemPage:[{value:"15",label:"15 item"},{value:"25",label:"25 item"},{value:"50",label:"50 item"},{value:"100",label:"100 item"}],labelDate:"",showFilter:!1,dialogExport:!1,formLabelWidth:"115px",dataSales:[],dialogFilter:!1,dialogUnpost:!1,filter:{amount:"post",post:"",payment:"0"},params:{search:"",search_column:[],search_text:[],sort_column:"",sort_type:"",start_date:u().format("YYYY-MM-DD"),end_date:u().format("YYYY-MM-DD"),per_page:15,currentPage:1,page:1,total:null},chosenSales:[],chosenUnpost:[]}},mounted:function(){this.getDate(),this.getSales()},watch:{filter:{handler:function(t){var e=this;""===t.post&&this.params.search_column.map(function(t,a){"accurate_posted"===t&&(e.params.search_column.splice(a,1),e.params.search_text.splice(a,1))}),"1"!==t.post&&"0"!==t.post||(!0===this.params.search_column.includes("accurate_posted")?this.params.search_column.map(function(a,s){"accurate_posted"===a&&(e.params.search_text[s]=t.post)}):(this.params.search_column.push("accurate_posted"),this.params.search_text.push(t.post))),""===t.payment&&this.params.search_column.map(function(t,a){"accurate_payment"===t&&(e.params.search_column.splice(a,1),e.params.search_text.splice(a,1))}),"1"!==t.payment&&"0"!==t.payment||(!0===this.params.search_column.includes("accurate_payment")?this.params.search_column.map(function(a,s){"accurate_payment"===a&&(e.params.search_text[s]=t.payment)}):(this.params.search_column.push("accurate_payment"),this.params.search_text.push(t.payment))),this.params.page=1},deep:!0}},methods:{getDate:function(){(0,r.default)(this.$route.query).includes("lastParams")?("start_date"in this.$route.query.lastParams&&(this.params={start_date:this.$route.query.lastParams.start_date,end_date:this.$route.query.lastParams.end_date,search_column:this.$route.query.lastParams.search_column,search_text:this.$route.query.lastParams.search_text,currentPage:this.$route.query.lastParams.currentPage,per_page:this.$route.query.lastParams.per_page,page:this.$route.query.lastParams.page,total:null}),this.labelDate=!0===(0,r.default)(this.$route.query).includes("labelDate")?this.$route.query.labelDate:this.$lang[this.langId].today+"\n"+u(this.params.start_date).format("DD MMM YYYY")+" - "+u(this.params.end_date).format("DD MMM YYYY")):(this.params.start_date=u().format("YYYY-MM-DD"),this.params.end_date=u().format("YYYY-MM-DD"),this.labelDate=this.$lang[this.langId].today+"\n"+u(this.params.start_date).format("DD MMM YYYY")+" - "+u(this.params.end_date).format("DD MMM YYYY"))},setLabelFilter:function(t){"today"===t.labelForDate?this.labelDate=this.$lang[this.langId].today+"\n"+u(this.params.starf_date).format("DD MMM YYYY")+" - "+u(this.params.end_date).format("DD MMM YYYY"):"yesterday"===t.labelForDate?this.labelDate=this.$lang[this.langId].yesterday+"\n"+u(this.params.start_date).format("DD MMM YYYY")+" - "+u(this.params.end_date).format("DD MMM YYYY"):"weekago"===t.labelForDate?this.labelDate=this.$lang[this.langId].a_week_ago+"\n"+u(this.params.start_date).format("DD MMM YYYY")+" - "+u(this.params.end_date).format("DD MMM YYYY"):"monthago"===t.labelForDate?this.labelDate=this.$lang[this.langId].a_month_ago+"\n"+u(this.params.start_date).format("DD MMM YYYY")+" - "+u(this.params.end_date).format("DD MMM YYYY"):"thismonth"===t.labelForDate?this.labelDate=this.$lang[this.langId].this_month+"\n"+u(this.params.start_date).format("DD MMM YYYY")+" - "+u(this.params.end_date).format("DD MMM YYYY"):"lastmonth"===t.labelForDate?this.labelDate=this.$lang[this.langId].last_month+"\n"+u(this.params.start_date).format("DD MMM YYYY")+" - "+u(this.params.end_date).format("DD MMM YYYY"):"custom"===t.labelForDate&&(this.labelDate=this.$lang[this.langId].custom+"\n"+u(this.params.start_date).format("DD MMM YYYY")+" - "+u(this.params.end_date).format("DD MMM YYYY"))},toggleFilter:function(){this.showFilter?this.showFilter=!1:this.showFilter=!0},dateFilterClose:function(){this.showFilter=!1},dateFilterReset:function(t){this.labelDate=this.$lang[this.langId].today+"\n"+u().format("DD MMM YYYY")+" - "+u().format("DD MMM YYYY"),this.params.start_date=u().format("YYYY-MM-DD"),this.params.end_date=u().format("YYYY-MM-DD"),this.dateFilterClose(),this.getSales()},dateFilterSave:function(t){this.params.start_date=t.startDate,this.params.end_date=t.endDate,this.dateFilterClose(),this.setLabelFilter(t),this.getSales()},showDialogFilter:function(){this.dialogFilter=!0},handleFilter:function(t){var e=this;this.dialogFilter=!1,this.params.page=1,0!==this.filter.amount&&!1===this.params.search_column.includes("int_total_amount")?(this.params.search_column.push("int_total_amount"),this.params.search_text.push(this.filter.amount)):this.params.search_column.map(function(t,a){"int_total_amount"===t&&(e.params.search_column.splice(a,1),e.params.search_text.splice(a,1))}),this.getSales()},filterPost:function(t){var e=this,a=(0,r.default)(t)[0];t[a][0]?!0===this.params.search_column.includes("accurate_posted")?this.params.search_column.map(function(s,r){"accurate_posted"===s&&(e.params.search_text[r]=t[a][0])}):(this.params.search_column.push("accurate_posted"),this.params.search_text.push(t[a][0])):this.params.search_column.map(function(t,a){"accurate_posted"===t&&(e.params.search_column.splice(a,1),e.params.search_text.splice(a,1))}),this.params.page=1,this.getSales()},handleSizeChange:function(t){this.params.page=1,this.params.per_page=t,this.getSales()},handleCurrentChange:function(t){this.params.currentPage=t,this.params.page=t,this.getSales()},changeSortTable:function(t){"ascending"===t.order&&(t.order="asc"),"descending"===t.order&&(t.order="desc"),null===t.order&&(t.order=this.params.sort_type),this.params.sort_type=t.order,this.params.sort_column=t.prop,this.getSales()},getSales:function(){var t=this;this.isLoading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"GET",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/sales"),headers:e,params:this.params}).then(function(e){t.dataSales=e.data.data,t.buttonPostStatus=1===e.data.finishProduct,t.$emit("invoicePostStatus",{productAndSupplier:e.data.productAndSupplier,finishMapingStatus:e.data.finishMapingStatus,finishMapingSales:e.data.finishProduct,isFecthCustomer:0,isFecthProduct:0}),t.params.per_page=e.data.meta.per_page,t.params.currentPage=e.data.meta.current_page,t.params.total=e.data.meta.total,t.isLoading=!1}).catch(function(e){if("object"===(0,s.default)(e.response.data.error.error)){var a=(0,r.default)(e.response.data.error.error)[0];t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error[a][0]})}else t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error});t.isLoading=!1})},handleSelectExport:function(t){var e=this;this.chosenSales=[],this.chosenUnpost=[],t.length>0&&(this.chosenSales=t,t.forEach(function(t,a){1===t.accurate_posted&&e.chosenUnpost.push(t)}))},showDialogExport:function(){this.dialogExport=!0},closeDialogExport:function(){this.dialogExport=!1,this.$refs.multipleTable.clearSelection(),this.chosenSales=[],this.chosenUnpost=[],this.getSales()},exportSales:function(){this.loadingExport=!0,this.dataSales.length===this.chosenSales.length?this.bulkExport():this.commonExport()},bulkExport:function(){var t=this,e={Authorization:"Bearer "+this.token.access_token},a={id:[]};this.chosenSales.forEach(function(t){t.id?a.id.push(t.id):a.id.push(0)}),(0,n.default)({method:"POST",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/bulksales"),headers:e,data:a}).then(function(e){e.data.data.forEach(function(e){var a=t.dataSales.findIndex(function(t){return t.id===parseInt(e.id)});t.dataSales[a].accurate_posted=e.accurate_posted,t.dataSales[a].accurate_payment=e.accurate_payment}),t.chosenSales=[],t.dialogExport=!1,t.loadingExport=!1,t.$message({type:"success",message:t.$lang[t.langId].success_posting}),t.$refs.multipleTable.clearSelection()}).catch(function(e){if(t.$refs.multipleTable.clearSelection(),t.dialogExport=!1,t.loadingExport=!1,"object"===(0,s.default)(e.response.data.error.error)){var a=(0,r.default)(e.response.data.error.error)[0];t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error[a][0]})}else t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},commonExport:function(){var t=this,e={Authorization:"Bearer "+this.token.access_token},a=0;this.chosenSales.forEach(function(l,i){var c={id:l.id};(0,n.default)({method:"POST",url:(0,o.baseApi)(t.selectedStore.url_id,t.langId,"exaccurate/sales"),headers:e,data:c}).then(function(e){var s=e.data.data;t.dataSales.forEach(function(e,a){parseInt(s.id)===e.id&&(t.dataSales[a].accurate_posted=s.accurate_posted,t.dataSales[a].accurate_payment=s.accurate_payment)}),++a===t.chosenSales.length&&(t.chosenSales=[],t.$refs.multipleTable.clearSelection(),t.dialogExport=!1,t.loadingExport=!1,t.$message({type:"success",message:t.$lang[t.langId].success_posting}))}).catch(function(e){if(a++,t.loadingExport=!1,a===t.chosenSales.length&&(t.chosenSales=[],t.$refs.multipleTable.clearSelection(),t.dialogExport=!1),"object"===(0,s.default)(e.response.data.error.error)){var o=(0,r.default)(e.response.data.error.error)[0];t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error[o][0]})}else t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})})},showDialogUnpost:function(){this.dialogUnpost=!0},closeDialogUnpost:function(){this.chosenUnpost=[],this.$refs.multipleTable.clearSelection(),this.dialogUnpost=!1},handleUnpost:function(){var t=this;this.loadingUnpost=!0;var e={Authorization:"Bearer "+this.token.access_token},a=0;this.chosenUnpost.forEach(function(l,i,c){(0,n.default)({method:"DELETE",url:(0,o.baseApi)(t.selectedStore.url_id,t.langId,"exaccurate/sales/"+l.id),headers:e}).then(function(e){e.data.data;t.dataSales.forEach(function(e,a){e.id===l.id&&(t.dataSales[a].accurate_posted=0,t.dataSales[a].accurate_payment=0)}),++a===t.chosenUnpost.length&&(t.$refs.multipleTable.clearSelection(),t.chosenSales=[],t.chosenUnpost=[],t.$message({type:"success",message:t.$lang[t.langId].success_cancelled}),t.dialogUnpost=!1,t.loadingUnpost=!1)}).catch(function(e){if(a++,t.loadingUnpost=!1,a===t.chosenUnpost.length&&(t.$refs.multipleTable.clearSelection(),t.chosenSales=[],t.chosenUnpost=[],t.dialogUnpost=!1),"object"===(0,s.default)(e.response.data.error.error)){var o=(0,r.default)(e.response.data.error.error)[0];t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error[o][0]})}else t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})})},changePostStatus:function(){this.buttonPostStatus=!0},checkList:function(t,e){return!0},capitalize:function(t){var e="";return t&&(e=t[0].toUpperCase()+t.slice(1)),e},formatPrice:function(t){return(t/1).toFixed(2).replace(".",",").toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}}}},AlSM:function(t,e,a){"use strict";a.r(e);var s=a("FxoK"),r=a.n(s);for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);e.default=r.a},CIyY:function(t,e,a){"use strict";a.r(e);var s=a("sGrI"),r=a("jguz");for(var o in r)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return r[t]})}(o);var n=a("KHd+"),l=Object(n.a)(r.default,s.a,s.b,!1,null,null,null);l.options.__file="index.vue",e.default=l.exports},CrYW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(a("GQeE")),r=i(a("EJiy")),o=a("xCek"),n=i(a("vDqi")),l=i(a("kGIl"));function i(t){return t&&t.__esModule?t:{default:t}}e.default={name:"MapCustomer",components:{Loading:l.default},props:{allCustomer:{type:Array,default:null},isFecth:{type:Object,default:null}},data:function(){return{formEdit:{customer_id:"",customerNo:"",id:"",name:""},isLoading:!1,dataCustomerAccurate:[],chosenCustomer:[],loadingPost:!1,clearMap:""}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){}},methods:{loadCustomerAccurate:function(t){var e=this,a={Authorization:"Bearer "+this.token.access_token},l=t?{search:t}:{search:""};(0,n.default)({method:"GET",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/customer"),headers:a,params:l}).then(function(t){e.dataCustomerAccurate=t.data.data}).catch(function(t){if("object"===(0,r.default)(t.response.data.error.error)){var a=(0,s.default)(t.response.data.error.error)[0];e.$notify({tipe:"warning",title:t.response.data.error.message,message:t.response.data.error.error[a][0]})}else e.$notify({tipe:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},postHandle:function(){this.loadingPost=!0,this.allCustomer.length===this.chosenCustomer.length?this.bulkPost():this.commonPost()},bulkPost:function(){var t=this,e={Authorization:"Bearer "+this.token.access_token},a={customer_id:[]};this.chosenCustomer.forEach(function(t){t.customer_id?a.customer_id.push(t.customer_id):a.customer_id.push(0)}),(0,n.default)({method:"POST",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/bulkcustomer"),headers:e,data:a}).then(function(e){e.data.data.forEach(function(e){var a=t.allCustomer.findIndex(function(t){return t.customer_id===parseInt(e.customer_id)});t.allCustomer.splice(a,1)}),t.$message({type:"success",message:t.$lang[t.langId].success_posting}),t.loadCustomerAccurate(),t.loadingPost=!1,t.chosenCustomer=[]}).catch(function(e){if(t.chosenCustomer=[],t.loadingPost=!1,"object"===(0,r.default)(e.response.data.error.error)){var a=(0,s.default)(e.response.data.error.error)[0];t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error[a][0]})}else t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},commonPost:function(){var t=this,e={Authorization:"Bearer "+this.token.access_token},a=0;this.chosenCustomer.forEach(function(l){var i={customer_id:l.customer_id};(0,n.default)({method:"POST",url:(0,o.baseApi)(t.selectedStore.url_id,t.langId,"exaccurate/customer"),headers:e,params:i}).then(function(e){t.allCustomer.map(function(e,a){e.customer_id===l.customer_id&&t.allCustomer.splice(a,1)}),++a===t.chosenCustomer.length&&(t.loadCustomerAccurate(),t.$message({type:"success",message:t.$lang[t.langId].success_posting}),t.loadingPost=!1,t.chosenCustomer=[])}).catch(function(e){if(a++,t.loadingPost=!1,a===t.chosenCustomer.length&&(t.chosenCustomer=[]),"object"===(0,r.default)(e.response.data.error.error)){var o=(0,s.default)(e.response.data.error.error)[0];t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error[o][0]})}else t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})})},handleSelectPost:function(t){t.length>0?this.chosenCustomer=t:this.chosenCustomer=[]},selectCustomer:function(t){var e=this;this.dataCustomerAccurate.map(function(a,s){a.id===t&&(e.formEdit.name=a.name,e.formEdit.customerNo=a.customerNo)})},mapHandle:function(t,e){var a=this.allCustomer.findIndex(function(t){return!0===t.isActive});-1!==a&&(this.allCustomer[a].isActive=!1),this.formEdit.customer_id=e.customer_id,this.formEdit.customer_name=e.customer_name,this.allCustomer[t].isActive=!0},cancelHandle:function(t){this.formEdit.customer_id="",this.formEdit.customerNo="",this.allCustomer[t].isActive=!1},saveHandle:function(t){var e=this;this.isLoading=!0;var a={Authorization:"Bearer "+this.token.access_token};(0,n.default)({method:"POST",url:(0,o.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/customermap"),headers:a,data:this.formEdit}).then(function(a){e.result=a.data,200===a.data.status&&(e.$message({message:"Success",type:"success"}),e.formEdit={customer_id:"",customerNo:"",id:"",name:""}),e.isLoading=!1,e.allCustomer.splice(t,1)}).catch(function(a){if(e.isLoading=!1,"object"===(0,r.default)(a.response.data.error.error)){var o=(0,s.default)(a.response.data.error.error)[0];e.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error[o][0]})}else e.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error});e.allCustomer[t].isActive=!0})},capitalize:function(t){var e="";return t&&(e=t[0].toUpperCase()+t.slice(1)),e},handleListCustomer:function(){this.$emit("customerList")}},mounted:function(){this.loadCustomerAccurate()}}},D1K7:function(t,e,a){"use strict";a.r(e);var s=a("CrYW"),r=a.n(s);for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);e.default=r.a},"E+Ce":function(t,e,a){"use strict";a.r(e);var s=a("7FNh"),r=a.n(s);for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);e.default=r.a},FxoK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=c(a("QbLZ")),r=c(a("GQeE")),o=c(a("EJiy")),n=a("xCek"),l=c(a("vDqi")),i=c(a("kGIl"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"MapCustomer",components:{Loading:i.default},props:{isFecth:{type:Object,default:null}},data:function(){return{formEdit:{customer_id:"",customerNo:"",id:"",name:""},isLoading:!1,dataCustomerAccurate:[],chosenCustomer:[],allCustomer:[],loadingPost:!1,clearMap:"",paramsCustomer:{page:1},params:{search:"",search_column:[],search_text:[],per_page:10,page:1,total:null},pages:[5,10,20,50,100]}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}},watch:{"$store.getters.selectedStore":function(){}},mounted:function(){this.loadCustomerAccurate(),this.getAllCustomer()},methods:{loadCustomerAccurate:function(t){var e=this,a={Authorization:"Bearer "+this.token.access_token},s=t?{search:t}:{search:""};(0,l.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/customer"),headers:a,params:s}).then(function(t){e.dataCustomerAccurate=t.data.data}).catch(function(t){if("object"===(0,o.default)(t.response.data.error.error)){var a=(0,r.default)(t.response.data.error.error)[0];e.$notify({tipe:"warning",title:t.response.data.error.message,message:t.response.data.error.error[a][0]})}else e.$notify({tipe:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},postHandle:function(){var t=this,e={Authorization:"Bearer "+this.token.access_token},a=0;this.chosenCustomer.forEach(function(s){var i={customer_id:s.id};(0,l.default)({method:"POST",url:(0,n.baseApi)(t.selectedStore.url_id,t.langId,"exaccurate/customer"),headers:e,params:i}).then(function(e){t.allCustomer.map(function(e,a){e.customer_id===s.customer_id&&t.allCustomer.splice(a,1)}),++a===t.chosenCustomer.length&&(t.loadCustomerAccurate(),t.$message({type:"success",message:t.$lang[t.langId].success_posting}),t.loadingPost=!1,t.chosenCustomer=[])}).catch(function(e){if(a++,t.loadingPost=!1,a===t.chosenCustomer.length&&(t.chosenCustomer=[]),"object"===(0,o.default)(e.response.data.error.error)){var s=(0,r.default)(e.response.data.error.error)[0];t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error[s][0]})}else t.$notify({tipe:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})})},handleSelectPost:function(t){t.length>0?this.chosenCustomer=t:this.chosenCustomer=[]},selectCustomer:function(t){var e=this;this.dataCustomerAccurate.map(function(a,s){a.id===t&&(e.formEdit.name=a.name,e.formEdit.customer_id=a.id,e.formEdit.customerNo=a.customerNo)})},mapHandle:function(t,e){var a=this.allCustomer.findIndex(function(t){return!0===t.isActive});-1!==a&&(this.allCustomer[a].isActive=!1),this.formEdit.customer_id=e.customer_id,this.formEdit.customer_name=e.customer_name,this.allCustomer[t].isActive=!0},cancelHandle:function(t){this.formEdit.customer_id="",this.formEdit.customerNo="",this.allCustomer[t].isActive=!1},saveHandle:function(t){var e=this;this.isLoading=!0;var a={Authorization:"Bearer "+this.token.access_token};(0,l.default)({method:"POST",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/customermap"),headers:a,data:this.formEdit}).then(function(a){e.result=a.data,200===a.data.status&&(e.$message({message:"Success",type:"success"}),e.formEdit={customer_id:"",customerNo:"",id:"",name:""}),e.isLoading=!1,e.allCustomer.splice(t,1)}).catch(function(a){if(e.isLoading=!1,"object"===(0,o.default)(a.response.data.error.error)){var s=(0,r.default)(a.response.data.error.error)[0];e.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error[s][0]})}else e.$notify({tipe:"warning",title:a.response.data.error.message,message:a.response.data.error.error});e.allCustomer[t].isActive=!0})},capitalize:function(t){var e="";return t&&(e=t[0].toUpperCase()+t.slice(1)),e},handleListCustomer:function(){this.$emit("customerList")},getAllCustomer:function(){var t=this;this.isLoading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,l.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,"exaccurate/listcustomer"),params:this.params,headers:e}).then(function(e){var a=e.data.data;t.allCustomer=a.map(function(t){return(0,s.default)({},t,{isActive:!1})}),t.params.total=e.data.meta.total,t.isLoading=!1}).catch(function(e){t.isLoading=!1,t.allCustomer=[],t.params.total=0,404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},filterPost:function(t){var e=this,a=(0,r.default)(t)[0];t[a][0]?!0===this.params.search_column.includes("post_status")?this.params.search_column.map(function(s,r){"post_status"===s&&(e.params.search_text[r]=t[a][0])}):(this.params.search_column.push("post_status"),this.params.search_text.push(t[a][0])):this.params.search_column.map(function(t,a){"post_status"===t&&(e.params.search_column.splice(a,1),e.params.search_text.splice(a,1))}),this.params.page=1,this.getAllCustomer()},handleSizeChange:function(t){this.params.page=1,this.params.per_page=t,this.getAllCustomer()},handleSearch:function(t){this.params.page=1,this.params.page=1,this.getAllCustomer()},handleCurrentChange:function(t){this.params.page=t,this.params.page=t,this.getAllCustomer()}}}},GHDf:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return r});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title-jurnal"},[a("h4",[a("strong",[t._v(t._s(t.$lang[t.langId].mapping_customer)+" ("+t._s(t.allCustomer.length)+")")]),t._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"small",loading:t.loadingPost,disabled:t.loadingPost||0===t.chosenCustomer.length,type:0!==t.chosenCustomer.length?"success":"info"},on:{click:t.postHandle}},[a("span",[t._v("Post "+t._s(t.lang.customer))])]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.handleListCustomer}},[t._v("\n          "+t._s(t.$lang[t.langId].customer_list)+"\n        ")])],1)])]),t._v(" "),!1===t.isLoading?a("div",[a("el-table",{ref:"multipleTable",staticClass:"product-table-max-height mobile-fix-height-unset",attrs:{data:t.allCustomer,"max-height":"340",stripe:""},on:{"selection-change":t.handleSelectPost}},[a("el-table-column",{attrs:{type:"selection",width:"30","class-name":"text-center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_name",label:t.lang.customer_name},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.capitalize(e.row.customer_name)))])]}}],null,!1,1367964239)}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_id"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isActive?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$lang[t.langId].select,filterable:"",remote:"","reserve-keyword":"","remote-method":t.loadCustomerAccurate},on:{change:function(e){return t.selectCustomer(e)}},model:{value:t.formEdit.id,callback:function(e){t.$set(t.formEdit,"id",e)},expression:"formEdit.id"}},t._l(t.dataCustomerAccurate,function(t,e){return a("el-option",{key:e,attrs:{label:t.customerNo+" "+t.name,value:t.id}})}),1):t._e()]}}],null,!1,817547576)}),t._v(" "),a("el-table-column",{attrs:{label:t.$lang[t.langId].action,width:"180",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[!1===e.row.isActive?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.mapHandle(e.$index,e.row)}}},[a("svg-icon",{attrs:{type:"edit"}}),t._v("\n            Map "+t._s(t.lang.customer)+"\n          ")],1):t._e(),t._v(" "),e.row.isActive?a("el-button",{staticClass:"cancel-button",staticStyle:{color:"rgb(255, 0, 0)"},attrs:{type:"text"},on:{click:function(a){return t.cancelHandle(e.$index)}}},[a("svg-icon",{attrs:{type:"cancel-edit"}}),t._v("\n            "+t._s(t.lang.cancel)+"\n          ")],1):t._e(),t._v(" "),e.row.isActive?a("el-button",{staticClass:"save-button",attrs:{type:"text"},on:{click:function(a){return t.saveHandle(e.$index)}}},[a("svg-icon",{attrs:{type:"check-circle"}}),t._v("\n            "+t._s(t.lang.save)+"\n          ")],1):t._e()]}}],null,!1,510175478)})],1)],1):a("div",[a("loading",{attrs:{align:"center",active:!0,color:"#1bb4e6",loader:"spinner",width:32,height:32,backgroundColor:"#ffffff"}})],1)])},r=[]},LAtK:function(t,e,a){},M1z7:function(t,e,a){"use strict";a.r(e);var s=a("/Ato"),r=a("UUJX");for(var o in r)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return r[t]})}(o);a("PejU");var n=a("KHd+"),l=Object(n.a)(r.default,s.a,s.b,!1,null,null,null);l.options.__file="salesToInvoice.vue",e.default=l.exports},PejU:function(t,e,a){"use strict";var s=a("LAtK");a.n(s).a},UUJX:function(t,e,a){"use strict";a.r(e);var s=a("8YnJ"),r=a.n(s);for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);e.default=r.a},ZkVU:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return r});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title-jurnal"},[a("div",{staticClass:"table-handler-flex"},[a("div",{staticClass:"mb-12",staticStyle:{"flex-grow":"1"}},[a("el-input",{staticClass:"inline-form input-search",attrs:{placeholder:t.lang.search+" "+t.lang.customer,clearable:"","prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},model:{value:t.params.search,callback:function(e){t.$set(t.params,"search",e)},expression:"params.search"}})],1),t._v(" "),a("div",{staticClass:"mb-12"},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingPost,expression:"loadingPost"}],attrs:{size:"small",disabled:t.loadingPost||0===t.chosenCustomer.length,type:0!==t.chosenCustomer.length?"success":"info"},on:{click:t.postHandle}},[a("span",[t._v("Post "+t._s(t.lang.customer))])])],1)])]),t._v(" "),!1===t.isLoading?a("div",[a("el-table",{ref:"multipleTable",staticClass:"product-table-max-height mobile-fix-height-unset",attrs:{data:t.allCustomer,"max-height":"340","column-key":"post_status",stripe:""},on:{"selection-change":t.handleSelectPost,"filter-change":t.filterPost}},[a("el-table-column",{attrs:{type:"selection",width:"30","class-name":"text-center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:t.$lang[t.langId].name},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.capitalize(e.row.name)))])]}}],null,!1,1433646676)}),t._v(" "),a("el-table-column",{attrs:{prop:"accurate_customer_no",label:t.$lang[t.langId].accurate_customer_no},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.capitalize(e.row.accurate_customer_no)))])]}}],null,!1,3302704512)}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_type_name",label:t.$lang[t.langId].customer_type_name},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.capitalize(e.row.customer_type_name)))])]}}],null,!1,3007479208)}),t._v(" "),a("el-table-column",{attrs:{prop:"post_status",label:"Post",filters:[{text:t.$lang[t.langId].posted,value:"1"},{text:t.$lang[t.langId].unposted,value:"0"}],"filter-multiple":!1},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.post_status?a("el-tag",{attrs:{type:"success","disable-transitions":""}},[t._v(t._s(t.$lang[t.langId].posted)+"\n          ")]):a("el-tag",{attrs:{type:"danger","disable-transitions":""}},[t._v("\n            "+t._s(t.$lang[t.langId].unposted)+"\n          ")])]}}],null,!1,3141874521)}),t._v(" "),a("el-table-column",{attrs:{prop:"customer_id"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isActive?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.$lang[t.langId].select,filterable:"",remote:"","reserve-keyword":"","remote-method":t.loadCustomerAccurate},on:{change:function(e){return t.selectCustomer(e)}},model:{value:t.formEdit.id,callback:function(e){t.$set(t.formEdit,"id",e)},expression:"formEdit.id"}},t._l(t.dataCustomerAccurate,function(t,e){return a("el-option",{key:e,attrs:{label:t.customerNo+" "+t.name,value:t.id}})}),1):t._e()]}}],null,!1,817547576)}),t._v(" "),a("el-table-column",{attrs:{label:t.$lang[t.langId].action,width:"180",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[!1===e.row.isActive?a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.mapHandle(e.$index,e.row)}}},[a("svg-icon",{attrs:{type:"edit"}}),t._v("\n            Map "+t._s(t.lang.customer)+"\n          ")],1):t._e(),t._v(" "),e.row.isActive?a("el-button",{staticClass:"cancel-button",staticStyle:{color:"rgb(255, 0, 0)"},attrs:{type:"text"},on:{click:function(a){return t.cancelHandle(e.$index)}}},[a("svg-icon",{attrs:{type:"cancel-edit"}}),t._v("\n            "+t._s(t.lang.cancel)+"\n          ")],1):t._e(),t._v(" "),e.row.isActive?a("el-button",{staticClass:"save-button",attrs:{type:"text"},on:{click:function(a){return t.saveHandle(e.$index)}}},[a("svg-icon",{attrs:{type:"check-circle"}}),t._v("\n            "+t._s(t.lang.save)+"\n          ")],1):t._e()]}}],null,!1,510175478)})],1),t._v(" "),a("div",{staticClass:"block mt-12"},[a("div",{staticStyle:{"margin-top":"20px","margin-bottom":"-55px"}},[a("el-select",{attrs:{placeholder:t.lang.please_select,filterable:"",size:"small"},on:{change:t.handleSizeChange},model:{value:t.params.per_page,callback:function(e){t.$set(t.params,"per_page",e)},expression:"params.per_page"}},t._l(t.pages,function(e){return a("el-option",{key:e,attrs:{value:e,label:e+" "+t.lang.rows}})}),1)],1),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-pagination",{attrs:{"current-page":t.params.page,"page-size":t.params.per_page,total:t.params.total,layout:"total, prev, pager, next, jumper"},on:{"update:currentPage":function(e){return t.$set(t.params,"page",e)},"update:current-page":function(e){return t.$set(t.params,"page",e)},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1):a("div",[a("loading",{attrs:{align:"center",active:!0,color:"#1bb4e6",loader:"spinner",width:32,height:32,backgroundColor:"#ffffff"}})],1)])},r=[]},euDT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=l(a("QbLZ")),r=l(a("M1z7")),o=l(a("g5P0")),n=l(a("aHtr"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"SalesToAccurate",components:{SalesToInvoice:r.default,DialogMapCustomerProduct:o.default,DialogAccountProductTax:n.default},computed:{lang:function(){return this.$store.state.userStores.lang},token:function(){return this.$store.state.user.token},selectedStore:function(){return this.$store.getters.selectedStore},langId:function(){return this.$store.state.userStores.langId}},data:function(){return{dialogAccountName:!1,finishProductName:!0,finishMapingSales:!0,dialogMapCustomer:!1,dialogAccountProduct:!1,dataPostCustomer:[],dataPostProduct:[],fetchStatus:{}}},methods:{invoiceStatus:function(t){var e=t.productAndSupplier.customer,a=t.productAndSupplier.product;this.finishProductName=1===t.finishMapingStatus,this.finishMapingSales=1===t.finishMapingSales,this.dataPostCustomer=e.map(function(t){return(0,s.default)({},t,{isActive:!1})}),this.dataPostProduct=a.map(function(t){return(0,s.default)({},t,{isActive:!1})}),this.fetchStatus={fetchProduct:t.isFecthProduct,fetchCustomer:t.isFecthCustomer}},closeMapCustomer:function(){0===this.dataPostCustomer.length&&0===this.dataPostProduct.length&&this.$refs.salesList.changePostStatus(),this.dialogMapCustomer=!1},closeAccountNameProduct:function(){this.dialogAccountProduct=!1},handleCommandJurnal:function(t){"productName"===t?this.dialogAccountProduct=!0:"mapCustomer"===t?this.dialogMapCustomer=!0:console.log("menu",t)}}}},g5P0:function(t,e,a){"use strict";a.r(e);var s=a("vUut"),r=a("E+Ce");for(var o in r)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return r[t]})}(o);var n=a("KHd+"),l=Object(n.a)(r.default,s.a,s.b,!1,null,null,null);l.options.__file="DialogMapCustomerProduct.vue",e.default=l.exports},jguz:function(t,e,a){"use strict";a.r(e);var s=a("euDT"),r=a.n(s);for(var o in s)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return s[t]})}(o);e.default=r.a},sGrI:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return r});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-card",{staticClass:"box-card",attrs:{shadow:"never"}},[a("div",{staticClass:"title-jurnal"},[a("h4",[a("strong",[t._v(t._s(t.$lang[t.langId].upload_sales))]),t._v(" "),a("div",{staticStyle:{float:"right","margin-top":"-9px"}},[a("el-button",{attrs:{type:t.finishMapingSales?"info":"primary",size:"small"},on:{click:function(e){return t.handleCommandJurnal("mapCustomer")}}},[t._v("\n              "+t._s(t.$lang[t.langId].set_jurnal_sales)+"\n            ")]),t._v(" "),a("el-button",{attrs:{type:t.finishProductName?"info":"primary",size:"small"},on:{click:function(e){return t.handleCommandJurnal("productName")}}},[t._v("\n              "+t._s(t.$lang[t.langId].set_account_name_product_tax_payment)+"\n            ")])],1)])]),t._v(" "),a("sales-to-invoice",{ref:"salesList",on:{invoicePostStatus:t.invoiceStatus}})],1),t._v(" "),a("dialog-account-product-tax",{attrs:{show:t.dialogAccountProduct},on:{close:t.closeAccountNameProduct}}),t._v(" "),a("dialog-map-customer-product",{attrs:{show:t.dialogMapCustomer,dataProduct:t.dataPostProduct,dataCustomer:t.dataPostCustomer,fecthStatus:t.fetchStatus},on:{close:t.closeMapCustomer}})],1)},r=[]},uB1l:function(t,e,a){"use strict";a.r(e);var s=a("ZkVU"),r=a("AlSM");for(var o in r)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return r[t]})}(o);var n=a("KHd+"),l=Object(n.a)(r.default,s.a,s.b,!1,null,null,null);l.options.__file="customerMapped.vue",e.default=l.exports},vUut:function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"b",function(){return r});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{visible:t.show,"show-close":!1,width:"60%",center:"","custom-class":"dialog-card"},on:{"update:visible":function(e){t.show=e},close:t.handleClose}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:14}},[a("h4",{staticClass:"dialog-title",attrs:{align:"left"}},[a("strong",[t._v(t._s(t.$lang[t.langId].set_jurnal_sales))])])]),t._v(" "),a("el-col",{attrs:{span:10,align:"right"}},[a("div",{staticClass:"btn_save_dialog"},[a("el-button",{attrs:{type:"info"},on:{click:t.handleClose}},[t._v(t._s(t.lang.close))])],1)])],1)],1),t._v(" "),a("el-tag",{staticClass:"tag-jurnal-info2",attrs:{size:"large"}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{md:1,sm:1,xs:24,align:"center"}},[a("i",{staticClass:"el-icon-warning-outline"})]),t._v(" "),a("el-col",{attrs:{md:23,sm:23,xs:24}},[a("p",[t._v(t._s(t.$lang[t.langId].customer_accurate_info))])])],1)],1),t._v(" "),a("el-tabs",{attrs:{stretch:""},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:t.lang.product,name:"productMap"}},[a("product-map",{attrs:{allProduct:t.dataProduct,isFecth:t.fecthStatus},on:{toAllProduct:t.getAllProduct}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.lang.customer,name:"customerMap"}},[a("customer-map",{attrs:{allCustomer:t.dataCustomer,isFecth:t.fecthStatus},on:{customerList:t.hanldeGetCustomerList}})],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.showAllProduct,"show-close":!1,width:"95%",center:"","custom-class":"dialog-card"},on:{"update:visible":function(e){t.showAllProduct=e},close:t.closeAllProduct}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:14}},[a("h4",{staticClass:"dialog-title",attrs:{align:"left"}},[a("strong",[t._v(t._s(t.$lang[t.langId].product_list)+"\n                  "),a("span",{directives:[{name:"show",rawName:"v-show",value:!1===t.allProduct,expression:"allProduct === false"}]},[t._v("("+t._s(t.$lang[t.langId].unposted)+")")])])])]),t._v(" "),a("el-col",{attrs:{span:10,align:"right"}},[a("div",{staticClass:"btn_save_dialog"},[a("el-popover",{attrs:{placement:"left",width:"350",trigger:"click"}},[a("div",[a("el-row",{staticStyle:{"line-height":"2"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"biodata mb-8"},[a("el-button",{attrs:{disabled:t.loadingAllPost,type:"primary",size:"small"},on:{click:t.handleAllPost}},[t.loadingAllPost?a("span",[a("loading",{attrs:{active:!0,color:"#1bb4e6",loader:"spinner",width:28,height:10,backgroundColor:"#ffffff"}}),t._v(" "),a("span",[t._v(t._s(t.allProductPending))])],1):a("span",[t._v(t._s(t.$lang[t.langId].post_all_product_to)+" Jurnal.id")])]),a("br"),t._v(" "),a("p",{staticClass:"font-12",domProps:{innerHTML:t._s(t.$lang[t.langId].jurnal_all_post_product_text)}})],1),t._v(" "),a("el-divider"),t._v(" "),a("div",{staticClass:"biodata mb-8"},[a("el-button",{attrs:{disabled:t.loadingFetchProduct,size:"small"},on:{click:t.fetchAccurateProduct}},[t.loadingFetchProduct?a("span",[a("loading",{attrs:{active:!0,color:"#1bb4e6",loader:"spinner",width:28,height:10,backgroundColor:"#ffffff"}}),t._v(" "),0!==t.totalFetch?a("span",[t._v(t._s(t.$lang[t.langId].page+" "+t.currentFetch+" "+t.$lang[t.langId].of+" "+t.totalFetch))]):t._e()],1):a("span",[t._v(t._s(t.$lang[t.langId].sync_product))])]),a("br"),t._v(" "),a("p",{staticClass:"font-12",domProps:{innerHTML:t._s(t.$lang[t.langId].accurate_fetch_product_info)}})],1),t._v(" "),a("el-divider"),t._v(" "),a("div",{staticClass:"biodata mb-8"},[a("el-button",{attrs:{slot:"reference",type:"primary",size:"small",disabled:t.loadingConfirm},on:{click:function(e){return t.confirmProduct(e,{page:1})}},slot:"reference"},[t.loadingConfirm?a("span",[a("loading",{attrs:{active:!0,color:"#1bb4e6",loader:"spinner",width:28,height:10,backgroundColor:"#ffffff"}}),t._v(" "),a("span",[t._v(t._s(t.textConfirm))])],1):a("span",[t._v(t._s(t.textConfirm))])]),a("br"),t._v(" "),a("p",{staticClass:"font-12",domProps:{innerHTML:t._s(t.$lang[t.langId].accurate_confirm_product_text)}})],1)],1)],1)],1),t._v(" "),a("el-button",{attrs:{slot:"reference",plain:"",type:"primary"},slot:"reference"},[t._v(t._s(t.$lang[t.langId].action))])],1),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.closeAllProduct}},[t._v(t._s(t.lang.close))])],1)])],1)],1),t._v(" "),a("el-tabs",{attrs:{stretch:""},model:{value:t.activeProduct,callback:function(e){t.activeProduct=e},expression:"activeProduct"}},[a("el-tab-pane",{attrs:{label:t.lang.product,name:"productMapped"}},[a("product-mapped")],1),t._v(" "),a("el-tab-pane",{attrs:{label:t.$lang[t.langId].product_combo,name:"productCombo"}},[a("product-combo")],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{visible:t.showAllCustomer,"show-close":!1,width:"95%",center:"","custom-class":"dialog-card"},on:{"update:visible":function(e){t.showAllCustomer=e},close:t.handleCloseCustomerList}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("el-row",{staticStyle:{width:"100%"},attrs:{gutter:20}},[a("el-col",{attrs:{span:14}},[a("h4",{staticClass:"dialog-title",attrs:{align:"left"}},[a("strong",[t._v(t._s(t.$lang[t.langId].customer_list)+"\n                "),a("span",{directives:[{name:"show",rawName:"v-show",value:!1===t.allProduct,expression:"allProduct === false"}]},[t._v("("+t._s(t.$lang[t.langId].unposted)+")")])])])]),t._v(" "),a("el-col",{attrs:{span:10,align:"right"}},[a("div",{staticClass:"btn_save_dialog"},[a("el-popover",{attrs:{placement:"left",width:"350",trigger:"click"}},[a("div",[a("el-row",{staticStyle:{"line-height":"2"},attrs:{gutter:20}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"biodata mb-8"},[a("el-button",{attrs:{disabled:t.loadingAllPost,type:"primary",size:"small"},on:{click:t.allPostCustomer}},[t.loadingAllPost?a("span",[a("loading",{attrs:{active:!0,color:"#1bb4e6",loader:"spinner",width:28,height:10,backgroundColor:"#ffffff"}}),t._v(" "),a("span",[t._v(t._s(t.allCustomerPending))])],1):a("span",[t._v(t._s(t.$lang[t.langId].post_all_customer_to)+" Accurate")])]),a("br"),t._v(" "),a("p",{staticClass:"font-12",domProps:{innerHTML:t._s(t.$lang[t.langId].accurate_all_post_customer_text)}})],1),t._v(" "),a("el-divider"),t._v(" "),a("div",{staticClass:"biodata mb-8"},[a("el-button",{attrs:{disabled:t.loadingFetch,size:"small"},on:{click:t.fetchAccurateCustomer}},[t.loadingFetch?a("span",[a("loading",{attrs:{active:!0,color:"#1bb4e6",loader:"spinner",width:28,height:10,backgroundColor:"#ffffff"}}),t._v(" "),0!==t.totalFetch?a("span",[t._v(t._s(t.$lang[t.langId].page+" "+t.currentFetch+" "+t.$lang[t.langId].of+" "+t.totalFetch))]):t._e()],1):a("span",[t._v(t._s(t.$lang[t.langId].sync_customer))])]),a("br"),t._v(" "),a("p",{staticClass:"font-12",domProps:{innerHTML:t._s(t.$lang[t.langId].accurate_fetch_customer_info)}})],1)],1)],1)],1),t._v(" "),a("el-button",{attrs:{slot:"reference",plain:"",type:"primary"},slot:"reference"},[t._v(t._s(t.$lang[t.langId].action))])],1),t._v(" "),a("el-button",{attrs:{type:"info"},on:{click:t.handleCloseCustomerList}},[t._v(t._s(t.lang.close))])],1)])],1)],1),t._v(" "),a("customer-mapped")],1)],1)},r=[]},vp3v:function(t,e,a){"use strict";a.r(e);var s=a("GHDf"),r=a("D1K7");for(var o in r)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return r[t]})}(o);var n=a("KHd+"),l=Object(n.a)(r.default,s.a,s.b,!1,null,null,null);l.options.__file="mapCustomer.vue",e.default=l.exports}}]);