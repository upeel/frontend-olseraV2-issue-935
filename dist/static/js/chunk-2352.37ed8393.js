(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2352"],{"+SWH":function(t,e,a){"use strict";a.r(e);var n=a("j+/f"),i=a("SbYn");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return i[t]})}(o);var s=a("KHd+"),r=Object(s.a)(i.default,n.a,n.b,!1,null,null,null);r.options.__file="offscreenSyncProduct.vue",e.default=r.exports},0:function(t,e){},"1s+O":function(t,e,a){"use strict";a.r(e);var n=a("C3KC"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=i.a},"2TG8":function(t,e,a){"use strict";a.r(e);var n=a("yCJv"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=i.a},"9QZ6":function(t,e,a){"use strict";a.r(e);var n=a("Mdiy"),i=a("QxQh");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return i[t]})}(o);a("psq5");var s=a("KHd+"),r=Object(s.a)(i.default,n.a,n.b,!1,null,"63cfbf78",null);r.options.__file="LoadingFullscreen.vue",e.default=r.exports},Ak5R:function(t,e,a){"use strict";a.r(e);var n=a("rc40"),i=a("XCMF");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return i[t]})}(o);var s=a("KHd+"),r=Object(s.a)(i.default,n.a,n.b,!1,null,null,null);r.options.__file="dialogBatchPair.vue",e.default=r.exports},C3KC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=d(a("QbLZ")),i=d(a("DChC")),o=a("EZOr"),s=d(a("TCKf")),r=d(a("NgTd")),c=d(a("DGw6")),l=d(a("qhw+"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={components:{AvatarTagged:s.default,CardInfo:r.default,Offscreen:c.default,DialogGlobal:l.default},mixins:[i.default],props:{show:{type:Boolean,default:!1},formEdit:{type:Object,default:null}},data:function(){return{params:{search:"",per_page:50},dataSearch:[],current_page:0,last_page:0,loadingSearch:!1,selectedProduct:{},loadingPair:!1,visibleChangeStatus:!1,loadingStatus:!1,showUpdateStock:!1,loadingUpdateStock:!1}},watch:{formEdit:function(t){t&&(this.formData=(0,n.default)({},t),console.log(this.formData))}},methods:{syncProduct:function(){},handleClose:function(){this.$emit("cancel")},resyncProduct:function(){this.$emit("resync",this.formEdit)},cancelSwitch:function(){this.visibleChangeStatus=!1},handleChangeStatus:function(t){},updateStock:function(){var t=this;console.log(this.formEdit),this.loadingUpdateStock=!0;var e={id:this.formEdit.id,type:this.formEdit.type,stock:this.formEdit.pair.stock};(0,o.updateStockSingleProduct)(e).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.loadingUpdateStock=!1,t.showUpdateStock=!1,t.$emit("refresh")}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingUpdateStock=!1})}}}},DChC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(a("QbLZ")),i=o(a("Ljqw"));function o(t){return t&&t.__esModule?t:{default:t}}var s={mixins:[a("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var t=this.$store.getters.token;return this.$store.getters.webviewMode&&(t=this.$store.getters.webviewToken),{Authorization:"Bearer "+t.access_token}},baseURL:function(){return i.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var t=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],e=[];return this.$store.getters.stores.map(function(a){e.includes(a.store_id)||a.is_store_active&&(t.push((0,n.default)({},a)),e.push(a.store_id))}),t},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};e.default=s},DMOS:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(a("QbLZ")),i=l(a("DChC")),o=l(a("+SWH")),s=l(a("qhw+")),r=l(a("5fdr")),c=a("EZOr");function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"DialogBatchPair",props:{show:{type:Boolean,default:!1}},components:{offscreenSyncProduct:o.default,DialogGlobal:s.default,FixedTable:r.default},mixins:[i.default],data:function(){return{checkAll:!1,visibleSynProduct:!1,tempDataSync:{},loadingSavePair:!1,dataProduct:[],loadingBulk:!1,meta:{per_page:15},styleHeaders:{Stok:{textAlign:"center"}}}},computed:{dataChecked:function(){var t=[];return this.dataProduct.map(function(e){e.checked&&e.recomendation&&e.recomendation.length&&t.push({id:e.product_id,type:e.type,product_id_olsera:e.recomendation[0].id,source_product:e.recomendation[0].type})}),t}},watch:{show:{immediate:!0,handler:function(t){t&&this.getBulkProducts()}}},methods:{getBulkProducts:function(){var t=this;this.loadingBulk=!0,(0,c.getBulkProducts)({per_page:this.meta.per_page}).then(function(e){t.dataProduct=[],e.data.data.map(function(e){t.$set(e,"checked",0),t.dataProduct.push(e)}),t.loadingBulk=!1}).catch(function(e){t.dataProduct=[],t.loadingBulk=!1})},handleCheckAll:function(t){this.dataProduct=this.dataProduct.map(function(e){return e.checked=t,e})},handlePair:function(t){this.tempDataSync=(0,n.default)({},t),this.visibleSynProduct=!0},handleSetProduct:function(t){var e=this;this.dataProduct.map(function(a){a.product_id===e.tempDataSync.product_id&&(a.recomendation=[],a.recomendation.push((0,n.default)({},t)))})},handleSavePair:function(){var t=this;this.loadingSavePair=!0,(0,c.pairBulkProduct)(this.dataChecked).then(function(e){t.$message({type:"success",message:e.data.data.message}),t.handleClose(!0),t.loadingSavePair=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingSavePair=!1})},handleClose:function(t){this.tempDataSync={},t?this.$emit("save"):this.$emit("close")},handleChangePage:function(t){this.$emit("changepage",t)},handleChangeSizePage:function(t){this.meta.page_size=t,this.$emit("changepagesize",t)}}}},"E/bq":function(t,e,a){"use strict";a.r(e);var n=a("qzfs"),i=a("2TG8");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return i[t]})}(o);var s=a("KHd+"),r=Object(s.a)(i.default,n.a,n.b,!1,null,null,null);r.options.__file="offscreenLogProduct.vue",e.default=r.exports},"EN+L":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-fullscreen",{attrs:{title:"BliBli","body-style":{paddingBottom:0}},on:{close:function(e){return t.$router.push("/service-activation-v2")}},scopedSlots:t._u([{key:"sticky-top",fn:function(){return[a("div",{staticClass:"card-dual"},[a("card-info",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDataMerchant,expression:"loadingDataMerchant"}],staticClass:"card-dual__item",attrs:{title:t.dataMerchant.shop_name,desc:t.dataMeta.total+" Products",thumbnail:"/static/img/service-activation/blibli/blibli-icon.png"},scopedSlots:t._u([{key:"button",fn:function(){return[a("el-button",{attrs:{type:"text"},on:{click:t.handleInitSync}},[t._v("\n            Sinkronkan produk "),a("svg-icon",{attrs:{"icon-class":"refresh-icon"}})],1)]},proxy:!0}])}),t._v(" "),a("card-info",{staticClass:"card-dual__item",attrs:{title:t.selectedStore.name,thumbnail:t.selectedStore.logo,desc:"99 Products"},scopedSlots:t._u([{key:"button",fn:function(){return[a("el-button",{attrs:{type:"text"}},[t._v("\n            Duplikat produk "),a("svg-icon",{attrs:{"icon-class":"feather-copy"}})],1)]},proxy:!0}])})],1),t._v(" "),a("div",{staticClass:"flex-container pb-16"},[a("div",{staticClass:"flex-container flex-grow-1"},[a("el-select",{staticClass:"el-select-etalase",attrs:{placeholder:t.rootLang.select+" Etalase",filterable:""},on:{change:t.handleFilterbyEtalase},model:{value:t.params.showcase_id,callback:function(e){t.$set(t.params,"showcase_id",e)},expression:"params.showcase_id"}},[a("el-option",{attrs:{label:t.lang.all+" Etalase",value:0}}),t._v(" "),t._l(t.dataEtalase,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2),t._v(" "),a("div",{staticClass:"px-8 text-center"},[t._v("|")]),t._v(" "),a("el-button",{staticClass:"tag-button-tokped box-shadow-null",attrs:{disabled:t.showOnlyConflicted,type:"info"},on:{click:function(e){return t.handleFilterByStockConflict(!0)}}},[a("svg-icon",{attrs:{"icon-class":"alert-triangle-black"}}),t._v(" "+t._s(t.rootLang.conflict_stock)+"\n        ")],1),t._v(" "),a("el-button",{staticClass:"tag-button-tokped box-shadow-null",attrs:{type:"info"},on:{click:function(e){return t.handleFilterByStockConflict(!1)}}},[t._v("\n          Semua\n        ")])],1),t._v(" "),a("div",{staticClass:"text-right"},[a("el-input",{staticClass:"input-search",attrs:{placeholder:t.lang.search,clearable:"","prefix-icon":"el-icon-search",size:"small"},on:{change:t.handleSearch},model:{value:t.searchKeyword,callback:function(e){t.searchKeyword=e},expression:"searchKeyword"}})],1)]),t._v(" "),t.firstLog?a("div",{staticClass:"mb-16 font-12 color-grey--placeholder flex-container pointer thelog",on:{click:function(e){t.visibleOffScreenLogs=!0}}},[a("div",{staticClass:"flex-grow-1"},[a("svg-icon",{attrs:{"icon-class":"clock"}}),t._v(" "+t._s(t.firstLog.action)+", "+t._s(t.firstLog.tanggal)+", "+t._s(t.firstLog.user)+"\n      ")],1),t._v(" "),a("i",{staticClass:"el-icon-caret-bottom"})]):t._e()]},proxy:!0},{key:"sticky-bottom",fn:function(){return[t.data.length?a("card-info",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSettingStock,expression:"loadingSettingStock"}],attrs:{title:"Update Stock ke BliBli"},scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n        Update Stock ke BliBli\n      ")]},proxy:!0},{key:"button",fn:function(){return[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"color-info mr-8 font-14"},[t._v("\n            Samakan stock dengan toko olsera\n          ")]),t._v(" "),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:t.doSettingStock},model:{value:t.useSameStock,callback:function(e){t.useSameStock=e},expression:"useSameStock"}})],1)]},proxy:!0}],null,!1,2507036209)}):t._e()]},proxy:!0}])},[t._v(" "),a("fixed-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingProducts,expression:"loadingProducts"}],attrs:{headers:t.tableHeaders,data:t.computedData,cols:["product-blibli","stock","product-olsera","stock-olsera","status-connection"],"fixed-bottom":"76px","total-data":t.dataMeta.total,"current-page":t.dataMeta.page,"per-page":t.dataMeta.per_page,"style-headers":{"":{textAlign:"center",width:"120px"},"Produk Olsera":{width:"400px"},"Produk BliBli":{width:"400px"}},"style-columns":{"status-connection":{textAlign:"center"}},"fixed-top":"190px","header-as-object":"","empty-desc":"Oops, belum ada produk tokomu. Tekan Sinkron Produk lalu hubungkan produk di Blibli ke Toko Olseramu."},on:{"change-size":function(e){t.dataMeta.per_page=e,t.fetchProducts()},"toggle-sort":t.toggleSort,changepage:t.handleChangePage},scopedSlots:t._u([{key:"header-4",fn:function(){return[a("el-button",{staticClass:"btn-block",attrs:{type:"primary"},on:{click:function(e){t.visibleDialogGetBulkProducts=!0}}},[t._v("\n        Sekaligus\n      ")])]},proxy:!0},{key:"product-blibli",fn:function(e){return[a("div",{staticClass:"flex-container w-fit"},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:e.row.pictures,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"color-white--bg container-watermark-olsera"},[a("el-avatar",{staticClass:"mr-4",attrs:{src:"/static/img/service-activation/blibli/blibli-icon.png",size:20}})],1)],1),t._v(" "),a("div",{staticClass:"font-14 ml-8"},[t._v("\n          "+t._s(e.row.name)+"\n          "),a("div",{staticClass:"font-12 color-grey--placeholder"},[t._v(t._s(e.row.sku))])])])]}},{key:"stock",fn:function(e){return[a("div",{staticClass:"text-right"},[t._v("\n        "+t._s(e.row.stock)+"\n      ")])]}},{key:"product-olsera",fn:function(e){return[e.row.pair&&1===e.row.status?a("div",{staticClass:"flex-container"},[a("div",{staticClass:"flex-container pos-relative"},[a("el-avatar",{attrs:{src:e.row.pair.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"container-icon",staticStyle:{position:"absolute",left:"10px",top:"-6px",height:"auto","z-index":"1"}},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",{staticClass:"font-14 ml-8"},[t._v("\n          "+t._s(e.row.pair.name)+"\n          "),a("div",{staticClass:"font-12 color-grey--placeholder"},[t._v(t._s(e.row.pair.sku))])])]):t._e()]}},{key:"stock-olsera",fn:function(e){return[e.row.pair&&e.row.pair.stock?a("div",{staticClass:"text-right"},[t._v("\n        "+t._s(e.row.pair.stock)+"\n      ")]):t._e()]}},{key:"status-connection",fn:function(e){return[2===e.row.status?a("el-button",{staticClass:"btn-block",attrs:{plain:"",round:"",type:"primary"},on:{click:function(a){return t.handleSyncProductItem(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"plus"}}),t._v(" Hubungkan\n      ")],1):1===e.row.status&&1!==e.row.balance_stock?a("el-button",{staticClass:"btn-block",attrs:{type:"primary",round:""},on:{click:function(a){return t.handleShowSyncedProductItem(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"link-2"}}),t._v(" Terhubung\n      ")],1):1===e.row.balance_stock?a("el-button",{staticClass:"btn-block",attrs:{round:"",type:"warning"},on:{click:function(a){return t.handleShowSyncedProductItem(e.row)}}},[a("svg-icon",{attrs:{"icon-class":"alert-triangle"}}),t._v(" "+t._s(t.rootLang.conflict_stock)+"\n      ")],1):t._e()]}}])}),t._v(" "),t._v(" "),a("loading-fullscreen",{attrs:{show:t.visibleOverlayLoading}}),t._v(" "),a("offscreen-sync-product",{attrs:{"form-edit":t.formEdit,show:t.visibleOffscreenSyncProduct},on:{close:function(e){t.visibleOffscreenSyncProduct=!1},success:t.fetchProducts}}),t._v(" "),a("offscreen-detail-product",{attrs:{show:t.visibleDetailProduct,"form-edit":t.formEdit},on:{refresh:t.fetchProducts,cancel:function(e){t.visibleDetailProduct=!1},resync:t.handleResync}}),t._v(" "),a("dialog-batch-pair",{attrs:{show:t.visibleDialogGetBulkProducts},on:{close:function(e){t.visibleDialogGetBulkProducts=!1},save:t.handleSaveBatchPair}}),t._v(" "),a("offscreen-log-product",{attrs:{show:t.visibleOffScreenLogs,logs:t.logs,meta:t.metaLog,loading:t.loadingLogs},on:{"load-more":t.handleLoadMoreLogs,close:function(e){t.visibleOffScreenLogs=!1}}})],1)},i=[]},EZOr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchIntegration=function(t){return(0,n.service)({url:"/blibli/integration/merchant",method:"get",params:t})},e.postIntegration=function(t){var e={url:"/blibli/integration/merchant",method:"post",params:t,paramsSerializer:function(t){return i.default.stringify(t)}};return(0,n.service)(e)},e.fetchProducts=function(t){return(0,n.service)({url:"/blibli/product",method:"get",params:t})},e.fetchSalesOrders=function(t){return(0,n.service)({url:"/blibli/sales/order",method:"get",params:t})},e.fetchSalesOrderDetail=function(t){return(0,n.service)({url:"/blibli/sales/order/detail",method:"get",params:t})},e.productOlseraSearch=function(t){return(0,n.service)({url:"/blibli/product/search",method:"get",params:t})},e.saveSalesOrder=function(t){return(0,n.service)({url:"/blibli/sales/order/save",method:"post",data:t})},e.saveStatusSalesOrder=function(t){return(0,n.service)({url:"/blibli/sales/order/status-order/update",method:"post",data:t})},e.pairProduct=function(t){return(0,n.service)({url:"/blibli/product/pair",method:"post",data:t})},e.updateStockSingleProduct=function(t){return(0,n.service)({url:"/blibli/product/update/stock/single-product",method:"post",data:t})},e.getBulkProducts=function(t){return(0,n.service)({url:"/blibli/product/pair/bulk-product",method:"get",params:t})},e.pairBulkProduct=function(t){return(0,n.service)({url:"/blibli/product/pair/bulk-product",method:"POST",data:t})},e.initSyncProducts=function(){return(0,n.service)({url:"/blibli/product/download"})},e.getMerchant=function(t){return(0,n.service)({url:"/blibli/integration/merchant",params:t})},e.getCategories=function(t){return(0,n.service)({url:"/blibli/category",method:"get",params:t})},e.downloadCategories=function(t){return(0,n.service)({url:"/blibli/category/download",method:"get",params:t})},e.settingStock=function(t){return(0,n.service)({url:"/blibli/product/setting/stock",method:"post",data:t})},e.integrationInfo=function(t){return(0,n.service)({url:"/blibli/integration/info",method:"get",params:t})},e.logManageProducts=function(t){return(0,n.service)({url:"/blibli/log/activities",method:"get",params:t})};var n=a("xCek"),i=function(t){return t&&t.__esModule?t:{default:t}}(a("Qyje"))},Mdiy:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"el-fade-in"}},[this.show?e("div",{staticClass:"loading-fullscreen"},[e("div",{staticClass:"mb-16"},[e("img",{attrs:{width:"64px",src:"/static/img/logo-olsera-icon.png"}})]),this._v(" "),e("loading-bar")],1):this._e()])},i=[]},MtQH:function(t,e,a){"use strict";a.r(e);var n=a("EN+L"),i=a("a3WR");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return i[t]})}(o);a("q6kd");var s=a("KHd+"),r=Object(s.a)(i.default,n.a,n.b,!1,null,"f7f5b044",null);r.options.__file="manage.vue",e.default=r.exports},Pybh:function(t,e,a){},QxQh:function(t,e,a){"use strict";a.r(e);var n=a("cktA"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=i.a},"RI/N":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("offscreen",{attrs:{show:t.show,title:"Detail Produk"},on:{close:t.handleClose}},[a("card-info",{staticClass:"mb-16",attrs:{"use-border":""}},[a("div",{staticClass:"flex-container full-width"},[a("avatar-tagged",{attrs:{"avatar-src":t.formEdit.pictures,"tag-src":"/static/img/service-activation/blibli/blibli-icon.png"}}),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n          "+t._s(t.formEdit.name)+"\n        ")]),t._v(" "),""!==t.formEdit.sku&&null!==t.formEdit.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n          "+t._s(t.formEdit.price)+" • "+t._s(t.formEdit.sku)+"\n        ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n          "+t._s(t.formEdit.price)+"\n        ")])])],1)]),t._v(" "),a("div",{staticClass:"mb-16"},[a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.unit_price))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.price))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.stock_product))]),t._v(" "),a("div",{class:1===t.formEdit.balance_stock?"full-width text-right color-warning":"full-width text-right"},[t._v(t._s(t.formEdit.stock))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.category))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.category))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.etalase)+" ("+t._s(t.rootLang.group)+")")]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.etalase))])])]),t._v(" "),a("div",{staticClass:"font-20 font-semi-bold mb-8"},[t._v("Terhubung Dengan")]),t._v(" "),a("card-info",{staticClass:"mb-16",attrs:{"use-border":""}},[a("div",{staticClass:"flex-container full-width"},[a("div",{staticClass:"flex-container"},[a("el-avatar",{attrs:{src:t.formEdit.pair?t.formEdit.pair.photo_md:null,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"container-watermark-olsera color-white--bg"},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1)],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n          "+t._s(t.formEdit.pair?t.formEdit.pair.name:null)+"\n        ")]),t._v(" "),t.formEdit.pair&&""!==t.formEdit.pair.sku&&null!==t.formEdit.pair.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n          "+t._s(t.formEdit.pair.fprice)+" • "+t._s(t.formEdit.sku)+"\n        ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n          "+t._s(t.formEdit.fprice)+"\n        ")])])])]),t._v(" "),a("div",{staticClass:"mb-16"},[a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.unit_price))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair?t.formEdit.pair.fsell_price:null))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.stock_product))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair?t.formEdit.pair.stock:null))])]),t._v(" "),a("div",{staticClass:"like-table-wrapper--item pointer flex-container"},[a("div",{staticClass:"full-width"},[t._v(t._s(t.rootLang.etalase)+" ("+t._s(t.rootLang.group)+")")]),t._v(" "),a("div",{staticClass:"full-width text-right"},[t._v(t._s(t.formEdit.pair?t.formEdit.pair.etalase:null))])])]),t._v(" "),1===t.formEdit.balance_stock?a("el-button",{staticClass:"btn-block mb-8",attrs:{type:"warning"},on:{click:function(e){t.showUpdateStock=!0}}},[t._v("\n    Selesaikan "+t._s(t.rootLang.conflict_stock)+"\n  ")]):t._e(),t._v(" "),a("el-button",{staticClass:"btn-block",attrs:{loading:t.loadingPair,type:"info"},on:{click:t.resyncProduct}},[t._v("\n    Hubungkan Ulang\n  ")]),t._v(" "),a("dialog-global",{attrs:{show:t.showUpdateStock,"show-close":!1,"show-footer":!1,"hide-esc":"",title:"Update Stock"},scopedSlots:t._u([{key:"top-buttons",fn:function(){return[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.showUpdateStock=!1}}},[t._v(t._s(t.rootLang.cancel))]),t._v(" "),a("el-button",{attrs:{type:"primary",loading:t.loadingUpdateStock},on:{click:t.updateStock}},[t._v(t._s(t.lang.update))])]},proxy:!0}])},[t._v(" "),a("div",{staticClass:"flex-container flex-container--content-center"},[a("div",[a("el-avatar",{attrs:{src:t.formEdit.pair?t.formEdit.pair.photo_md:null,size:88,shape:"square"}})],1),t._v(" "),a("div",{staticClass:"color-warning font-40 font-bold ml-12"},[t._v(t._s(t.formEdit.stock))]),t._v(" "),a("div",[a("img",{attrs:{src:"/static/img/service-activation/tokopedia/arrow_right.png"}})]),t._v(" "),a("div",[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:88,shape:"square"}})],1),t._v(" "),a("div",{staticClass:"font-40 font-bold ml-12"},[t._v(t._s(t.formEdit.pair?t.formEdit.pair.stock:null))])]),t._v(" "),a("div",{staticClass:"mt-24 word-break"},[a("span",{staticClass:"font-bold"},[t._v("Update Stok ke Tokopedia")]),t._v(" untuk menyamakan stok Tokopedia dengan stok produk di toko Olseramu\n    ")])])],1)},i=[]},RjuM:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{avatarSrc:{type:String,default:""},tagSrc:{type:String,default:""}}}},SbYn:function(t,e,a){"use strict";a.r(e);var n=a("mkMx"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=i.a},TCKf:function(t,e,a){"use strict";a.r(e);var n=a("sQnq"),i=a("uXQY");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return i[t]})}(o);var s=a("KHd+"),r=Object(s.a)(i.default,n.a,n.b,!1,null,null,null);r.options.__file="AvatarTagged.vue",e.default=r.exports},WOtR:function(t,e,a){},XCMF:function(t,e,a){"use strict";a.r(e);var n=a("DMOS"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=i.a},a3WR:function(t,e,a){"use strict";a.r(e);var n=a("fNvD"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=i.a},cktA:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(a("S5dn"));e.default={components:{LoadingBar:n.default},props:{show:{type:Boolean,default:!1}}}},fNvD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=v(a("m1cH")),i=v(a("QbLZ")),o=v(a("+YKo")),s=v(a("5fdr")),r=v(a("NgTd")),c=v(a("DChC")),l=v(a("9QZ6")),d=v(a("+SWH")),u=v(a("fxdM")),f=v(a("Ak5R")),h=v(a("E/bq")),p=a("EZOr");function v(t){return t&&t.__esModule?t:{default:t}}e.default={components:{PageFullscreen:o.default,FixedTable:s.default,CardInfo:r.default,LoadingFullscreen:l.default,OffscreenSyncProduct:d.default,OffscreenDetailProduct:u.default,DialogBatchPair:f.default,OffscreenLogProduct:h.default},mixins:[c.default],data:function(){return{dataMerchant:{},loadingDataMerchant:!1,data:[],dataMeta:{page:1,total:0,per_page:30},loadingProducts:!1,visibleOverlayLoading:!1,dataEtalase:[],tableHeaders:[{label:"Produk BliBli"},{label:"Stok",sort_column:"stock"},{label:"Produk Olsera"},{label:"Stok",sort_column:"name"},{label:""}],searchKeyword:"",params:{showcase_id:1,sort_column:"name",sort_by:"desc"},useSameStock:0,visibleOffscreenSyncProduct:!1,formEdit:{},visibleDetailProduct:!1,visibleDialogGetBulkProducts:!1,showOnlyConflicted:!1,loadingSettingStock:!1,logs:[],metaLog:{current_page:1,total:0},visibleOffScreenLogs:!1,loadingLogs:!1}},computed:{computedData:function(){var t=this.data;return this.showOnlyConflicted&&(t=t.filter(function(t){return 1===t.balance_stock})),t},firstLog:function(){return this.logs.length?this.logs[0]:null}},mounted:function(){this.getMerchant(),this.getIntegrationInfo(),this.fetchProducts(),this.fetchCategories(),this.fetchLogManageProducts()},methods:{getMerchant:function(){var t=this;this.loadingDataMerchant=!0,(0,p.getMerchant)().then(function(e){t.dataMerchant=e.data.data,t.loadingDataMerchant=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingDataMerchant=!1})},getIntegrationInfo:function(){var t=this;this.loadingSettingStock=!0,(0,p.integrationInfo)().then(function(e){t.useSameStock=parseInt(e.data.data.setting_stock),t.loadingSettingStock=!1}).catch(function(e){t.loadingSettingStock=!1,t.$message({type:"error",message:e.string})})},fetchProducts:function(){var t=this;this.loadingProducts=!0;var e=(0,i.default)({per_page:this.dataMeta.per_page,page:this.dataMeta.page},this.params);this.searchKeyword&&(e.search=this.searchKeyword),this.showOnlyConflicted&&(e.balance_stock=2),(0,p.fetchProducts)(e).then(function(e){t.data=e.data.data,t.dataMeta={per_page:parseInt(e.data.meta.per_page),total:parseInt(e.data.meta.total),page:parseInt(e.data.meta.current_page)},t.loadingProducts=!1}).catch(function(){t.loadingProducts=!1,t.data=[]})},fetchCategories:function(){var t=this;(0,p.getCategories)({per_page:300}).then(function(e){t.dataEtalase=e.data.data})},handleSearch:function(){this.dataMeta.page=1,this.fetchProducts()},handleFilterbyEtalase:function(){},handleInitSync:function(){var t=this;this.visibleOverlayLoading=!0,(0,p.downloadCategories)().then(function(e){t.$message({type:"success",message:"Categories downloaded"})}).catch(function(e){t.$message({type:"error",message:"Failed to download categories"})}),(0,p.initSyncProducts)().then(function(e){t.$message({type:"success",message:e.data.data.message}),t.fetchProducts(),t.visibleOverlayLoading=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.visibleOverlayLoading=!1})},handleSyncProductItem:function(t){this.formEdit=(0,i.default)({},t),this.visibleOffscreenSyncProduct=!0},handleResync:function(){this.visibleDetailProduct=!1,this.visibleOffscreenSyncProduct=!0},handleShowSyncedProductItem:function(t){this.formEdit=(0,i.default)({},t),this.visibleDetailProduct=!0},handleSaveBatchPair:function(){this.visibleDialogGetBulkProducts=!1,this.fetchProducts()},toggleSort:function(t){this.dataMeta.page=1,t.sort_type?(this.params.sort_column=t.sort_column,this.params.sort_by=t.sort_type):(this.params.sort_column=null,this.params.sort_by=null),this.fetchProducts()},handleChangePage:function(t){this.dataMeta.page=t,this.fetchProducts()},doSettingStock:function(){var t=this;this.loadingSettingStock=!0,(0,p.settingStock)({setting_stock:this.useSameStock}).then(function(e){t.loadingSettingStock=!1}).catch(function(e){t.loadingSettingStock=!1,t.$message({type:"error",message:e.string})})},handleFilterByStockConflict:function(t){this.showOnlyConflicted=t,this.fetchProducts()},fetchLogManageProducts:function(){var t=this;this.loadingLogs=!0,(0,p.logManageProducts)({page:this.metaLog.current_page}).then(function(e){var a;(a=t.logs).push.apply(a,(0,n.default)(e.data.data)),t.metaLog=e.data.meta,t.loadingLogs=!1}).catch(function(){t.loadingLogs=!1})},handleLoadMoreLogs:function(){this.metaLog.current_page=parseInt(this.metaLog.current_page)+1,this.fetchLogManageProducts()}}}},fxdM:function(t,e,a){"use strict";a.r(e);var n=a("RI/N"),i=a("1s+O");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return i[t]})}(o);var s=a("KHd+"),r=Object(s.a)(i.default,n.a,n.b,!1,null,null,null);r.options.__file="offscreenDetailProduct.vue",e.default=r.exports},"j+/f":function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("offscreen",{attrs:{show:t.show,title:"Hubungkan Produk"},on:{close:t.beforeClose},scopedSlots:t._u([{key:"footer",fn:function(){return[a("el-button",{staticClass:"btn-block",attrs:{loading:t.loadingPair,type:"primary"},on:{click:t.handleSave}},[t._v("\n      "+t._s(t.rootLang.save)+"\n    ")])]},proxy:!0}])},[a("div",{staticClass:"pos-sticky color-white--bg",staticStyle:{top:"-16px","z-index":"9"}},[a("card-info",[a("div",{staticClass:"flex-container flex-grow-1"},[a("div",{staticClass:"pos-relative"},[a("el-avatar",{attrs:{src:t.formEdit.pictures,size:32,shape:"square"}}),t._v(" "),a("el-avatar",{staticClass:"mr-4",staticStyle:{position:"absolute",left:"18px"},attrs:{size:20,src:"/static/img/service-activation/blibli/blibli-icon.png"}})],1),t._v(" "),a("div",{staticClass:"ml-8"},[a("div",{staticClass:"font-bold font-16"},[t._v("\n            "+t._s(t.formEdit.name)+"\n          ")]),t._v(" "),""!==t.formEdit.sku&&null!==t.formEdit.sku?a("div",{staticClass:"font-12"},[t._v("\n            "+t._s(t.formEdit.price)+" • "+t._s(t.formEdit.sku)+"\n          ")]):a("div",{staticClass:"font-12"},[t._v("\n            "+t._s(t.formEdit.price)+"\n          ")])])]),t._v(" "),a("div",{staticClass:"text-right"},[t._v("\n        "+t._s(t.formEdit.stock)+" stock\n      ")])]),t._v(" "),a("div",{staticClass:"table-handler-flex full-width text-right"},[a("el-input",{attrs:{placeholder:t.lang.search,clearable:"","prefix-icon":"el-icon-search",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleSearch(!1)}},model:{value:t.params.search,callback:function(e){t.$set(t.params,"search",e)},expression:"params.search"}})],1)],1),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSearch,expression:"loadingSearch"}],staticClass:"text-center mb-42"},[0===t.dataSearch.length?a("div",[a("data-empty",{attrs:{image:"/static/img/service-activation/tokopedia/no_product_search.png",flat:""}})],1):a("div",[t._l(t.dataSearch,function(e){return a("div",{key:e.id,staticClass:"like-table-wrapper--item pointer",class:t.selectedProduct&&t.selectedProduct.id===e.id?"active":"",on:{click:function(a){return t.handleSelect(e)}}},[a("div",{staticClass:"full-width text-left"},[a("div",{staticClass:"flex-container full-width"},[a("el-avatar",{attrs:{src:e.photo_md,size:32,shape:"square"}}),t._v(" "),a("div",{staticClass:"container-icon",staticStyle:{position:"absolute","align-items":"unset !important",left:"50px"}},[a("svg-icon",{attrs:{"icon-class":"freemium_icon"}})],1),t._v(" "),a("div",[a("div",{staticClass:"font-bold font-16 ml-8"},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),null!==e.sku&&""!==e.sku?a("div",{staticClass:"font-12 ml-8"},[t._v("\n                "+t._s(e.fsell_price)+" • "+t._s(e.sku)+"\n              ")]):a("div",{staticClass:"font-12 ml-8"},[t._v("\n                "+t._s(e.fsell_price)+"\n              ")])])],1)]),t._v(" "),t.selectedProduct&&t.selectedProduct.id===e.id?a("div",{staticClass:"container-icon"},[a("svg-icon",{attrs:{"icon-class":"awesome-check-circle"}})],1):a("div",{staticClass:"text-right",staticStyle:{width:"40%"}},[t._v("\n          "+t._s(e.qty)+" stock\n        ")])])}),t._v(" "),t.last_page>t.current_page?a("el-button",{staticClass:"btn-block mt-24",on:{click:t.getMoreProduct}},[t._v("\n        "+t._s(t.rootLang.load_more)+"\n      ")]):t._e()],2)])])},i=[]},mkMx:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(a("QbLZ")),i=l(a("DChC")),o=l(a("DGw6")),s=l(a("NgTd")),r=l(a("NalT")),c=a("EZOr");function l(t){return t&&t.__esModule?t:{default:t}}e.default={components:{Offscreen:o.default,CardInfo:s.default,DataEmpty:r.default},mixins:[i.default],props:{show:{type:Boolean,default:!1},formEdit:{type:Object,default:null},fromBulk:{type:Boolean,default:!1},keyowrd:{type:String,default:null},noApiSave:{type:Boolean,default:!1}},data:function(){return{params:{search:"",per_page:50},dataSearch:[],current_page:0,last_page:0,loadingSearch:!1,selectedProduct:{},loadingPair:!1}},computed:{disabledSave:function(){return!this.selectedProduct.id}},watch:{formEdit:function(t){t&&(this.formData=(0,n.default)({},t))},"formEdit.name":function(t){if(t){var e=t;this.params.search=e,this.handleSearch()}}},methods:{handleSearch:function(){var t=this;this.loadingSearch=!0,(0,c.productOlseraSearch)({search:this.params.search}).then(function(e){t.dataSearch=e.data.data,t.loadingSearch=!1}).catch(function(e){t.dataSearch=[],t.loadingSearch=!1})},getMoreProduct:function(){},handleSelect:function(t){this.selectedProduct=(0,n.default)({},t)},syncProduct:function(){},beforeClose:function(){this.selectedProduct={},this.$emit("close")},emitSuccess:function(){this.beforeClose(),this.$emit("success")},handleSave:function(){var t=this;if(this.noApiSave)this.$emit("setproduct",this.selectedProduct),this.beforeClose();else{this.loadingPair=!0;var e={id:this.formEdit.id,type:this.selectedProduct.type,product_id_olsera:this.selectedProduct.id,source_product:"P"};(0,c.pairProduct)(e).then(function(e){t.loadingPair=!1,t.$message({type:"success",message:"Product successfully paired"}),t.emitSuccess()}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingPair=!1})}},searchFromMount:function(t){}}}},psq5:function(t,e,a){"use strict";var n=a("WOtR");a.n(n).a},q6kd:function(t,e,a){"use strict";var n=a("Pybh");a.n(n).a},qzfs:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("offscreen",{attrs:{show:t.show,"style-body":{paddingLeft:0,paddingRight:0},"hide-footer":"","hide-esc":"",title:"Log Sync"},on:{close:t.handleClose}},[a("div",{staticClass:"like-table-wrapper border-null"},t._l(t.logs,function(e,n){return a("div",{key:n,staticClass:"like-table-wrapper--item"},[t._v("\n      "+t._s(e.action)+", "+t._s(e.tanggal)+", "+t._s(e.user)+"\n    ")])}),0),t._v(" "),a("el-button",{staticClass:"btn-block mt-16",attrs:{disabled:t.meta&&parseInt(t.meta.current_page)>=parseInt(t.meta.last_page),loading:t.loading},on:{click:t.handleLoadMore}},[t._v("\n    Load more\n  ")])],1)},i=[]},rc40:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("dialog-global",{attrs:{show:t.show,title:t.rootLang.pair_product,"show-footer":!1,"custom-class":"without-padding mw-1020"},on:{close:t.handleClose},scopedSlots:t._u([{key:"top-buttons",fn:function(){return[a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.handleClose(!1)}}},[t._v(t._s(t.lang.cancel))]),t._v(" "),a("el-button",{attrs:{loading:t.loadingSavePair,type:"primary"},on:{click:t.handleSavePair}},[t._v("\n      "+t._s(t.rootLang.pair)+"\n    ")])]},proxy:!0}])},[t._v(" "),a("fixed-table",{attrs:{data:t.dataProduct,headers:["","Produk BliBli","Stok","Produk Olsera","Stok"],cols:["check","name","stock","recomendation","stock-olsera"],loading:t.loadingBulk,"style-headers":t.styleHeaders},scopedSlots:t._u([{key:"header-0",fn:function(){return[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}})]},proxy:!0},{key:"check",fn:function(e){return[a("el-checkbox",{attrs:{"true-label":1,"false-label":0},model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}})]}},{key:"name",fn:function(e){return[a("div",{staticClass:"flex-container"},[a("div",{staticClass:"mr-8"},[a("el-avatar",{attrs:{src:e.row.pictures}})],1),t._v(" "),a("div",[t._v(t._s(e.row.name))])])]}},{key:"recomendation",fn:function(e){return[e.row.recomendation&&!e.row.recomendation.length?a("div",[a("el-button",{on:{click:function(a){return t.handlePair(e.row)}}},[t._v("\n          Pilih produk olsera\n        ")])],1):a("div",[e.row.recomendation.length?a("div",{staticClass:"flex-container pointer",on:{click:function(a){return t.handlePair(e.row)}}},[a("div",{staticClass:"mr-8"},[a("el-avatar",{attrs:{src:e.row.recomendation[0].photo_md}})],1),t._v(" "),a("div",[t._v(t._s(e.row.recomendation[0].name))])]):t._e()])]}},{key:"stock-olsera",fn:function(e){return[e.row.recomendation.length?a("div",[t._v("\n        "+t._s(e.row.recomendation[0].qty)+"\n      ")]):t._e()]}}])}),t._v(" "),a("offscreen-sync-product",{attrs:{show:t.visibleSynProduct,"form-edit":t.tempDataSync,"from-bulk":!0,"no-api-save":""},on:{setproduct:t.handleSetProduct,close:function(e){t.visibleSynProduct=!1}}})],1)},i=[]},sQnq:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pos-relative"},[e("el-avatar",{attrs:{src:this.avatarSrc,size:32,shape:"square"}}),this._v(" "),e("el-avatar",{staticClass:"mr-4",staticStyle:{position:"absolute",left:"18px"},attrs:{size:20,src:this.tagSrc}})],1)},i=[]},uXQY:function(t,e,a){"use strict";a.r(e);var n=a("RjuM"),i=a.n(n);for(var o in n)["default"].indexOf(o)<0&&function(t){a.d(e,t,function(){return n[t]})}(o);e.default=i.a},yCJv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(a("DGw6"));e.default={components:{Offscreen:n.default},props:{show:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},logs:{type:Array,default:function(){return[]}},meta:{type:Object,default:function(){}}},data:function(){return{}},methods:{handleClose:function(){this.$emit("close")},handleLoadMore:function(){this.$emit("load-more")}}}}}]);