(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-fc76"],{"3rcp":function(t,e,s){"use strict";s.r(e);var a=s("dQL9"),o=s.n(a);for(var n in a)["default"].indexOf(n)<0&&function(t){s.d(e,t,function(){return a[t]})}(n);e.default=o.a},DChC:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(s("QbLZ")),o=n(s("Ljqw"));function n(t){return t&&t.__esModule?t:{default:t}}var l={mixins:[s("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var t=this.$store.getters.token;return this.$store.getters.webviewMode&&(t=this.$store.getters.webviewToken),{Authorization:"Bearer "+t.access_token}},baseURL:function(){return o.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var t=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],e=[];return this.$store.getters.stores.map(function(s){e.includes(s.store_id)||s.is_store_active&&(t.push((0,a.default)({},s)),e.push(s.store_id))}),t},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};e.default=l},K8Ld:function(t,e,s){"use strict";s.d(e,"a",function(){return a}),s.d(e,"b",function(){return o});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}]},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{md:18}},[s("el-card",{staticClass:"box-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("h4",[t._v(t._s(t.lang.check_stock_mode))])]),t._v(" "),s("div",{staticClass:"card-body"},[s("el-collapse",{model:{value:t.collapse,callback:function(e){t.collapse=e},expression:"collapse"}},[s("el-collapse-item",{attrs:{name:"1"}},[s("template",{slot:"title"},[s("label",[t._v(t._s(t.lang.sell_item_no_stock))])]),t._v(" "),s("el-alert",{staticStyle:{"background-color":"#DDF2FA"},attrs:{title:t.lang.info_disallow_sell_item_if_no_stock,"show-icon":"",closable:!1}}),t._v(" "),s("div",{staticStyle:{"margin-bottom":"20px"}}),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{sm:12}},[s("p",{staticStyle:{margin:"-5px 0 0 0","text-align":"right"}},[t._v("\n                      "+t._s(t.lang.disallow_sell_item_if_no_stock)+"\n                    ")])]),t._v(" "),s("el-col",{attrs:{sm:12}},[s("el-switch",{attrs:{disabled:!t.checkCustomPermission("settings/posstockmode","edit"),"active-value":1,"inactive-value":0},on:{change:function(e){return t.update("pos_disallow_sell_no_stock",t.data.pos_disallow_sell_no_stock)}},model:{value:t.data.pos_disallow_sell_no_stock,callback:function(e){t.$set(t.data,"pos_disallow_sell_no_stock",e)},expression:"data.pos_disallow_sell_no_stock"}}),t._v(" "),0==t.data.pos_disallow_sell_no_stock?s("span",[t._v(t._s(t.lang.no))]):t._e(),t._v(" "),1==t.data.pos_disallow_sell_no_stock?s("span",[t._v(t._s(t.lang.yes))]):t._e()],1)],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"2"}},[s("template",{slot:"title"},[s("label",[t._v(t._s(t.lang.check_stock_mode))])]),t._v(" "),s("el-alert",{staticStyle:{"background-color":"#DDF2FA"},attrs:{title:t.lang.info_always_check_stock_before_add_item,"show-icon":"",closable:!1}}),t._v(" "),s("div",{staticStyle:{"margin-bottom":"20px"}}),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{sm:12}},[s("p",{staticStyle:{margin:"-5px 0 0 0","text-align":"right"}},[t._v("\n                      "+t._s(t.lang.always_check_stock_before_add_item)+"\n                    ")])]),t._v(" "),s("el-col",{attrs:{sm:12}},[s("el-switch",{attrs:{disabled:!t.checkCustomPermission("settings/posstockmode","edit"),"active-value":1,"inactive-value":0},on:{change:function(e){return t.update("pos_always_check_stock",t.data.pos_always_check_stock)}},model:{value:t.data.pos_always_check_stock,callback:function(e){t.$set(t.data,"pos_always_check_stock",e)},expression:"data.pos_always_check_stock"}}),t._v(" "),0==t.data.pos_always_check_stock?s("span",[t._v(t._s(t.lang.no))]):t._e(),t._v(" "),1==t.data.pos_always_check_stock?s("span",[t._v(t._s(t.lang.yes))]):t._e()],1)],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"3"}},[s("template",{slot:"title"},[s("label",[t._v(t._s(t.lang.transfer_stock))])]),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{sm:12}},[s("p",{staticStyle:{"text-align":"right","font-weight":"bold"}},[t._v(t._s(t.lang.require_recipient_store_acknowledgement))]),t._v(" "),s("p",{staticStyle:{margin:"-5px 0 0 0","text-align":"right"}},[t._v("\n                      "+t._s(t.lang.info_require_recipient_store_acknowledgement)+"\n                    ")])]),t._v(" "),s("el-col",{attrs:{sm:12}},[s("el-switch",{attrs:{disabled:!t.checkCustomPermission("settings/posstockmode","edit"),"active-value":1,"inactive-value":0},on:{change:function(e){return t.update("transfer_stock_manual_posting",t.data.transfer_stock_manual_posting)}},model:{value:t.data.transfer_stock_manual_posting,callback:function(e){t.$set(t.data,"transfer_stock_manual_posting",e)},expression:"data.transfer_stock_manual_posting"}}),t._v(" "),0==t.data.transfer_stock_manual_posting?s("span",[t._v(t._s(t.lang.no))]):t._e(),t._v(" "),1==t.data.transfer_stock_manual_posting?s("span",[t._v(t._s(t.lang.yes))]):t._e()],1)],1)],2),t._v(" "),s("el-collapse-item",{attrs:{name:"3"}},[s("template",{slot:"title"},[s("label",[t._v(t._s(this.$lang[this.$store.state.userStores.langId].stoct_profit))])]),t._v(" "),s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{sm:12}},[s("p",{staticStyle:{"text-align":"right","font-weight":"bold"}},[t._v(t._s(this.$lang[this.$store.state.userStores.langId].stoct_profit_post))])]),t._v(" "),s("el-col",{attrs:{sm:12}},[s("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(e){return t.update("stock_auto_post_profit_loss",t.data.stock_auto_post_profit_loss)}},model:{value:t.data.stock_auto_post_profit_loss,callback:function(e){t.$set(t.data,"stock_auto_post_profit_loss",e)},expression:"data.stock_auto_post_profit_loss"}}),t._v(" "),0==t.data.stock_auto_post_profit_loss?s("span",[t._v(t._s(t.lang.no))]):t._e(),t._v(" "),1==t.data.stock_auto_post_profit_loss?s("span",[t._v(t._s(t.lang.yes))]):t._e()],1)],1)],2),t._v(" "),"dev"===t.stageLevel||"sit"===t.stageLevel?s("el-collapse-item",{attrs:{name:"4"}},[s("template",{slot:"title"},[s("label",[t._v("Email untuk menerima notifikasi transfer stock")])]),t._v(" "),s("div",{staticClass:"flex-container"},[s("div",{staticClass:"full-width text-right px-8"},[t._v("Email")]),t._v(" "),s("div",{staticClass:"full-width"},[s("el-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.update("transfer_stock_email_notification")}},model:{value:t.emailNotif,callback:function(e){t.emailNotif=e},expression:"emailNotif"}}),t._v(" "),t._l(t.dataEmail,function(e,a){return s("el-tag",{key:a,staticClass:"mr-4",attrs:{closable:""},on:{close:function(e){return t.handleDelEmail(a)}}},[t._v(t._s(e))])})],2)])],2):t._e()],1)],1)])],1)],1)],1)},o=[]},X77i:function(t,e,s){"use strict";s.r(e);var a=s("K8Ld"),o=s("3rcp");for(var n in o)["default"].indexOf(n)<0&&function(t){s.d(e,t,function(){return o[t]})}(n);var l=s("KHd+"),i=Object(l.a)(o.default,a.a,a.b,!1,null,null,null);i.options.__file="Index.vue",e.default=i.exports},dQL9:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,o=_(s("YEIV")),n=_(s("QbLZ")),l=s("xCek"),i=_(s("vDqi")),r=s("6y4V"),c=_(s("DChC"));function _(t){return t&&t.__esModule?t:{default:t}}e.default=(a={name:"PosModeStock",mixins:[r.checkCustomPermission],data:function(){return{loading:!0,data:{},collapse:["1","2","3","4"],disabledButton:!1,emailNotif:"",dataEmail:[]}}},(0,o.default)(a,"mixins",[c.default]),(0,o.default)(a,"computed",{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang}}),(0,o.default)(a,"watch",{"$store.getters.selectedStore":function(){this.getData()}}),(0,o.default)(a,"methods",{getData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,i.default)({method:"GET",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"posstockmode/"),headers:e}).then(function(e){t.data=e.data.data,t.emailNotif="",t.dataEmail=[],null!==t.data.transfer_stock_email_notification&&(t.dataEmail=t.data.transfer_stock_email_notification.split(",")),t.loading=!1}).catch(function(e){t.loading=!1,404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error})})},update:function(t,e){var s=this;this.loading=!0;var a={Authorization:"Bearer "+this.token.access_token},o=(0,n.default)({},this.data);"transfer_stock_email_notification"===t&&(this.emailNotif.length>0&&this.dataEmail.push(this.emailNotif),o.transfer_stock_email_notification=this.dataEmail.join(",")),(0,i.default)({method:"POST",url:(0,l.baseApi)(this.selectedStore.url_id,this.langId,"posstockmode/store-update"),headers:a,data:o}).then(function(t){s.result=t.data,200===t.data.status&&s.$message({message:"Success",type:"success"}),s.loading=!1,s.getData()}).catch(function(t){s.$message({message:"Error",type:"error"}),console.log(t),s.loading=!1})},handleDelEmail:function(t){this.dataEmail.splice(t,1),console.log("eee",this.dataEmail),this.update("transfer_stock_email_notification")}}),(0,o.default)(a,"mounted",function(){this.getData()}),a)}}]);