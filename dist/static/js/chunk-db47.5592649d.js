(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-db47"],{"+MRC":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(a("14Xm")),n=d(a("QbLZ")),s=d(a("D3Ub")),r=d(a("DChC")),o=d(a("XFEm"));function d(t){return t&&t.__esModule?t:{default:t}}var l=a("wd/R");e.default={components:{CloseEsc:o.default},mixins:[r.default],data:function(){return{visibleEditItem:!1,formEdit:{},formData:{name:"",selected_days:[0,1,2,3,4,5,6],days:[]},timePickerOptions:{start:"00:00",step:"00:15",end:"23:59"}}},computed:{disableNext:function(){return!this.formData.selected_days.length||!this.formData.name}},mounted:function(){for(var t=0;t<=6;t++)this.formData.days.push({day_id:t+1,day_ids:[{start_time:"08:00",end_time:"20:00"}]})},methods:{handleEditItem:function(t){var e=this;return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(t),a.next=3,(0,n.default)({},e.formData.days[t]);case 3:if(e.formEdit=a.sent,e.formEdit.day_ids=[],!e.formData.days[t].day_ids.length){a.next=8;break}return a.next=8,e.formData.days[t].day_ids.map(function(t){e.formEdit.day_ids.push((0,n.default)({},t))});case 8:e.visibleEditItem=!0;case 9:case"end":return a.stop()}},a,e)}))()},handleAddDayIds:function(){if(this.formEdit.day_ids.length){var t=this.formEdit.day_ids[this.formEdit.day_ids.length-1].end_time;this.formEdit.day_ids.push({start_time:l(t,"HH:mm").add(15,"minutes").format("HH:mm"),end_time:""})}else this.formEdit.day_ids.push({start_time:"08:00",end_time:"20:00"})},getMinTime:function(t){if(!t)return null;var e=this.formEdit.day_ids[t-1].end_time;return e?l(e,"HH:mm").subtract(15,"minutes").format("HH:mm"):void 0},getLabelDayTime:function(t){var e=this.formData.days[t];if(e&&e.day_ids&&0===e.day_ids.length)return 0;if(e&&e.day_ids&&e.day_ids.length){var a=this.formData.days[t].day_ids;if(a.length>1)return a[0].start_time+" ... "+a[a.length-1].end_time;if(1===a.length)return a[0].start_time+" - "+a[0].end_time}},handleRemoteDayId:function(t){this.formEdit.day_ids.splice(t,1)},handleSaveEditItem:function(){var t=this;this.formData.days=this.formData.days.map(function(e){return e.day_id===t.formEdit.day_id&&(e=t.formEdit),e}),this.visibleEditItem=!1},submit:function(){this.$emit("submit",this.formData)},handleChangeTime:function(t,e){this.formEdit.day_ids.length>e+1&&(this.formEdit.day_ids[e+1].start_time=l(t.end_time,"HH:mm").add(15,"minutes").format("HH:mm"))}}}},"/WcH":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(a("14Xm")),n=c(a("D3Ub")),s=c(a("DChC")),r=a("M9O1"),o=c(a("Korh")),d=c(a("hJk7")),l=c(a("wd/R"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={components:{dialogSetup:o.default,dialogSetupOld:d.default},mixins:[s.default],data:function(){return{loadingSetupData:!1,visibleDialogSetup:!1,visibleDialogSetupOld:!1,setupData:{group_menu:[]},grabfoodData:{},dataPeriods:[]}},mounted:function(){this.fetchAllGroupByStore(),this.handleGetGrabfoodStore()},computed:{grabAcces:function(){return["setdemo1","allinolsera2","cabangsupport3","testdaftar41","demo6","olserapos","bdgdemoresto","bdgdemoretail","cobagrab","devtesttwa","cobagrab2","cobagrab3","cobagrab4","okgrab"]}},methods:{aturDaftarMenu:function(){this.getDataPeriod(),this.visibleDialogSetup=!0},fetchAllGroupByStore:function(){var t=this;this.loadingSetupData=!0,(0,r.fetchAllGroupByStore)().then(function(e){t.setupData=e.data.data,t.loadingSetupData=!1,t.$router.push({path:"/service-activation-v2/grabfood/manage"})}).catch(function(e){t.$message({type:"error",message:e.string}),t.setupData={id:t.$route.params.id,group_menu:[]},t.loadingSetupData=!1})},handleGetGrabfoodStore:function(){var t=this;this.loading=!0,(0,r.fetchByStore)().then(function(e){t.grabfoodData=e.data.data,t.editData=t.grabfoodData.group_menu,t.data=t.grabfoodData.group_menu,t.data.map(function(t){t.categories.map(function(e){e.menus.map(function(a){a.category={is_alias:e.is_alias,id:e.id,name:e.name},a.group_id=t.id})})}),t.loading=!1}).catch(function(){t.grabfoodData={},t.loading=!1})},getDataPeriod:function(){var t=this;return(0,n.default)(i.default.mark(function e(){var a,n;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingDialog=!0,a=(0,l.default)().format("YYYY-MM-DD"),n=(0,l.default)().format("YYYY MM DD"),e.next=5,(0,r.getGrabPeriodStore)().then(function(e){t.$refs.dialogSetupV2.setUpdate(),t.dataPeriods=e.data.data,t.dataPeriods.map(function(t){if(t.times.length){var e=[];t.times.map(function(t){e.push({time_id:t.time_id,start_time:(0,l.default)(a+" "+t.start_time).format("HH:mm"),end_time:(0,l.default)(a+" "+t.end_time).format("HH:mm"),fstart_time:t.fstart_time,fend_time:t.fend_time,checked:t.checked,timer:[(0,l.default)(n+" "+t.start_time),(0,l.default)(n+" "+t.end_time)]})}),t.times=[].concat(e)}t.checked=!1,1===t.period_type&&(t.checked=!0)}),t.loadingDialog=!1}).catch(function(e){t.loadingDialog=!1});case 5:case"end":return e.stop()}},e,t)}))()}}}},"0IIb":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"before-close":t.cancel,title:t.rootLang.manage_list_menu,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":"","custom-class":"without-padding mw-1020"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"form-wizard"},[a("div",{staticClass:"form-wizard--step"},t._l(t.steps,function(e,i){return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingDialog,expression:"loadingDialog"}],key:e,staticClass:"form-wizard--step--item pointer",class:[t.completeSteps.includes(e)?"active":"",e===t.activeStep?"current":""],on:{click:function(a){return t.handleBack(e,i)}}},[t._v("\n        "+t._s(i+1)+". "+t._s(e)+"\n      ")])}),0),t._v(" "),a("div",{staticClass:"form-wizard--content"},[a("setup-open-hours",{directives:[{name:"show",rawName:"v-show",value:"jam buka"===t.activeStep,expression:"activeStep === 'jam buka'"}],attrs:{grabfoodData:t.grabfoodData,update:t.updateopenhours,"data-periods":t.dataPeriods},on:{submit:function(e){return t.handleSubmit(e,"section",1)}}}),t._v(" "),a("setup-section",{directives:[{name:"show",rawName:"v-show",value:"section"===t.activeStep,expression:"activeStep === 'section'"}],attrs:{"setup-data":t.formData,"data-periods":t.dataPeriods},on:{submit:function(e){return t.handleSubmit(e,"category",2)}}}),t._v(" "),a("setup-category",{directives:[{name:"show",rawName:"v-show",value:"category"===t.activeStep,expression:"activeStep === 'category'"}],attrs:{"setup-data":t.formData,grabfoodData:t.grabfoodData},on:{submit:function(e){return t.handleSubmit(e,"item",3)}}}),t._v(" "),a("setup-item",{directives:[{name:"show",rawName:"v-show",value:"item"===t.activeStep,expression:"activeStep === 'item'"}],attrs:{"setup-data":t.formData,loading:t.loadingSubmit,grabfoodData:t.grabfoodData},on:{submit:function(e){return t.handleSubmit(e)}}})],1)])])},n=[]},"1f/i":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{visible:t.show,"before-close":t.cancel,title:t.rootLang.manage_list_menu,"show-close":!1,"close-on-press-escape":!1,"close-on-click-modal":!1,"append-to-body":"","custom-class":"without-padding mw-1020"},on:{"update:visible":function(e){t.show=e}}},[a("div",{staticClass:"form-wizard"},[a("div",{staticClass:"form-wizard--step"},t._l(t.steps,function(e,i){return a("div",{key:e,staticClass:"form-wizard--step--item",class:[t.completeSteps.includes(e)?"active":"",e===t.activeStep?"current":""]},[t._v("\n        "+t._s(i+1)+". "+t._s(e)+"\n      ")])}),0),t._v(" "),a("div",{staticClass:"form-wizard--content"},[a("setup-section",{directives:[{name:"show",rawName:"v-show",value:"section"===t.activeStep,expression:"activeStep === 'section'"}],on:{submit:function(e){return t.handleSubmit(e,"category",1)}}}),t._v(" "),a("setup-category",{directives:[{name:"show",rawName:"v-show",value:"category"===t.activeStep,expression:"activeStep === 'category'"}],attrs:{"setup-data":t.formData,grabfoodData:t.grabfoodData},on:{submit:function(e){return t.handleSubmit(e,"item",2)}}}),t._v(" "),a("setup-item",{directives:[{name:"show",rawName:"v-show",value:"item"===t.activeStep,expression:"activeStep === 'item'"}],attrs:{"setup-data":t.formData,loading:t.loadingSubmit,grabfoodData:t.grabfoodData},on:{submit:function(e){return t.handleSubmit(e)}}})],1)])])},n=[]},"1u0h":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container no-flex-sm"},[t._m(0),t._v(" "),a("div",{staticClass:"wizard-content"},[a("el-form",{attrs:{model:t.formData,"label-position":"top"}},[a("el-form-item",{attrs:{prop:"name",label:"Nama Section"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"days",label:"Jam Layanan"}},t._l(7,function(e){return a("div",{key:e,staticClass:"like-table-wrapper--item",staticStyle:{height:"56px"},attrs:{label:e}},[a("div",{staticClass:"p-8 full-width"},[t._v(t._s(t.rootLang["label_day_"+e]))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[a("el-button",{staticClass:"edit",attrs:{type:"text"},nativeOn:{click:function(a){return a.stopPropagation(),t.handleEditItem(e-1)}}},[0!==t.getLabelDayTime(e-1)?a("span",{staticClass:"color-black"},[t._v(t._s(t.getLabelDayTime(e-1)))]):a("el-tag",{staticStyle:{"background-color":"transparent"},attrs:{type:"info",effect:"plain",size:"mini"}},[t._v("Tidak aktif")]),t._v(" "),a("svg-icon",{attrs:{"icon-class":"edit-2"}})],1)],1)])}),0),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn-block",attrs:{disabled:t.disableNext,type:"success"},on:{click:t.submit}},[t._v("\n          "+t._s(t.rootLang.next)+"\n        ")])],1)],1)],1),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[t.visibleEditItem?a("div",{staticClass:"offscreen-right-sidebar"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[t._v("\n          Ubah Periode\n          "),a("close-esc",{on:{close:function(e){t.visibleEditItem=!1}}})],1),t._v(" "),a("div",{staticClass:"font-18 font-semi-bold mb-16"},[t._v("\n          "+t._s(t.rootLang["label_day_"+t.formEdit.day_id])+"\n        ")]),t._v(" "),t.formEdit.day_ids.length?t._e():a("div",{staticClass:"color-grey--soft--bg flex-container radius-10 mb-24 p-8"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",{staticClass:"p-8 font-14"},[t._v("\n            Section ini tidak aktif pada hari "+t._s(t.rootLang["label_day_"+t.formEdit.day_id])+"\n          ")])]),t._v(" "),a("el-form",{attrs:{model:t.formEdit,"label-position":"top"}},[t._l(t.formEdit.day_ids,function(e,i){return a("div",{key:i,staticClass:"flex-container mb-16"},[a("el-form-item",{staticClass:"m-null",attrs:{label:t.lang.start_time}},[a("el-time-select",{staticClass:"mr-8",attrs:{"picker-options":Object.assign({},t.timePickerOptions,{minTime:t.getMinTime(i)}),clearable:!1},model:{value:e.start_time,callback:function(a){t.$set(e,"start_time",a)},expression:"item.start_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"m-null",staticStyle:{},attrs:{label:t.lang.end_time}},[a("el-time-select",{staticClass:"mr-8",attrs:{"picker-options":Object.assign({},t.timePickerOptions,{minTime:e.start_time}),clearable:!1},on:{change:function(a){return t.handleChangeTime(e,i)}},model:{value:e.end_time,callback:function(a){t.$set(e,"end_time",a)},expression:"item.end_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"m-null"},[a("el-button",{staticClass:"color-info p-null",attrs:{type:"text"},on:{click:function(e){return t.handleRemoteDayId(i)}}},[a("svg-icon",{attrs:{"icon-class":"x"}})],1)],1)],1)}),t._v(" "),a("el-form-item",[t.formEdit.day_ids.length<2?a("el-button",{staticClass:"btn-block",attrs:{type:"info"},on:{click:t.handleAddDayIds}},[t._v("\n              Add Period\n            ")]):t._e()],1)],2),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer"},[a("el-button",{staticClass:"btn-block",attrs:{type:"primary"},on:{click:t.handleSaveEditItem}},[t._v("\n            "+t._s(t.lang.save)+"\n          ")])],1)],1)]):t._e()])],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wizard-desc"},[e("h3",[this._v("Section")]),this._v(" "),e("p",[this._v("Section adalah jam layanan untuk suatu item. Misalnya pedagang memiliki item yang hanya tersedia untuk sarapan, item tersebut dapat dikelompokkan di section Menu Sarapan. Jadi item tersebut hanya tersedia untuk dipesan selama jangka waktu sarapan. Anda dapat menambah beberapa section pada Ubah Menu nanti, sekarang buat satu dahulu.")]),this._v(" "),e("div",{staticClass:"text-center mb-12"},[e("img",{attrs:{src:"/static/img/service-activation/grabfood-1.png"}})]),this._v(" "),e("p",{staticClass:"font-12"},[this._v("\n      * Nama section tidak dapat dilihat oleh pelanggan, hanya untuk keperluan pedagang.\n    ")])])}]},"1wk9":function(t,e,a){"use strict";a.r(e);var i=a("/WcH"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},"5ZJC":function(t,e,a){"use strict";a.r(e);var i=a("T784"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},"5oJY":function(t,e,a){"use strict";a.r(e);var i=a("TMeK"),n=a("5ZJC");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="setupCategory.vue",e.default=o.exports},"99mI":function(t,e,a){"use strict";a.r(e);var i=a("lXuX"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},CRG4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=f(a("14Xm")),n=f(a("D3Ub")),s=f(a("QbLZ")),r=f(a("DChC")),o=f(a("LzZW")),d=f(a("5oJY")),l=f(a("U6ge")),c=f(a("RGox")),u=a("M9O1"),m=f(a("wd/R"));function f(t){return t&&t.__esModule?t:{default:t}}e.default={props:{show:{type:Boolean,default:!1},setupData:{type:Object,default:null},grabfoodData:{type:Object,default:null},dataPeriods:{type:Array,default:[]}},components:{setupSection:o.default,setupCategory:d.default,setupItem:l.default,setupOpenHours:c.default},mixins:[r.default],data:function(){return{loadingSubmit:!1,activeStep:"jam buka",steps:["jam buka","section","category","item"],completeSteps:["jam buka"],formData:{store_grabfood_id:this.grabfoodData.id,checkedDays:[]},loadingDialog:!1,updateopenhours:!1}},watch:{setupData:{deep:!0,immediate:!0,handler:function(t){this.formData.store_grabfood_id=this.grabfoodData.id}}},methods:{submit:function(){this.$emit("submit")},handleClickStep:function(t,e){var a=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&"section"===this.activeStep||(this.completeSteps=[],this.activeStep=t,this.steps.map(function(t,i){i<=e&&a.completeSteps.push(t)}),console.log(this.activeStep))},handleSubmit:function(t,e,a){"section"!==e&&1!==a&&(this.formData=(0,s.default)({},this.formData,t)),e&&a?("section"===e&&1===a&&this.getDataPeriod(),this.handleClickStep(e,a)):this.handleDone()},cancel:function(){console.log(this.show)},handleDone:function(){var t=this;return(0,n.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loadingSubmit=!0,1===t.formData.category.is_alias&&(t.formData.category.id=t.formData.group_menu[0].categories[0].id),a={store_grabfood_id:t.formData.store_grabfood_id,name:t.formData.name,group_id:t.formData.group_menu[0].id,category:t.formData.category,menu:[]},!t.formData.menus){e.next=6;break}return e.next=6,t.formData.menus.map(function(){var e=(0,n.default)(i.default.mark(function e(n){var s;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),s={product_id:n.id,addon_item:n.addon_item,product_type:n.type,is_available:1,alias_name:n.name,alias_price:n.alias_price,description:n.description,available:[],is_percentage:n.is_percentage},"dev"===t.stageLevel&&(0===s.is_percentage?(console.log("ooo",s.is_percentage),s.amount=n.amount):s.is_percentage&&1===s.is_percentage&&(s.percentage=n.percentage)),e.next=5,n.available.map(function(t){if(n.selected_days.includes(t.day_id)&&t.selected_time.length){var e={day:t.day_id,time:t.selected_time.join(","),status:1};s.available.push(e)}});case 5:a.menu.push(s);case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 6:console.log(a),(0,u.createItemSetupMenu)(a).then(function(e){t.loadingSubmit=!1,t.$message({type:"success",message:"Saved"}),t.$router.push({path:"/service-activation-v2/grabfood/manage"})}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingSubmit=!1});case 8:case"end":return e.stop()}},e,t)}))()},getDataPeriod:function(){var t=this;return(0,n.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingDialog=!0,a=(0,m.default)().format("YYYY-MM-DD"),e.next=4,(0,u.getGrabPeriodStore)().then(function(e){t.dataPeriods=e.data.data,t.dataPeriods.map(function(t){t.times.length&&t.times.map(function(t){t.start_time=(0,m.default)(a+" "+t.start_time).format("HH:mm"),t.end_time=(0,m.default)(a+" "+t.end_time).format("HH:mm")}),t.checked=!1,1===t.period_type&&(t.checked=!0)}),t.loadingDialog=!1}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingDialog=!1});case 4:case"end":return e.stop()}},e,t)}))()},handleBack:function(t,e){0===e&&(this.$emit("getperiod"),this.handleClickStep(t,e),this.updateopenhours=!0)},setUpdate:function(){this.updateopenhours=!0}}}},Jxyv:function(t,e,a){"use strict";a.r(e);var i=a("CRG4"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},Korh:function(t,e,a){"use strict";a.r(e);var i=a("0IIb"),n=a("Jxyv");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="dialogSetup.vue",e.default=o.exports},"Kr/y":function(t,e,a){"use strict";a.r(e);var i=a("+MRC"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},LzZW:function(t,e,a){"use strict";a.r(e);var i=a("qcaT"),n=a("dj+2");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="setupSection.vue",e.default=o.exports},N5jt:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container no-flex-sm"},[a("div",{staticClass:"wizard-desc"},[a("h3",[t._v(t._s(t.rootLang.category))]),t._v(" "),a("p",[t._v("Kategori adalah kelompok item dalam suatu section. Anda dapat menambah beberapa kategori pada Ubah Menu nanti, sekarang buat satu dahulu. Contoh: Limited Time Offer, Burgers.")]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"wizard-content"},[a("el-form",{attrs:{model:t.formData,"label-position":"top"}},[a("el-form-item",{attrs:{prop:"name",label:t.rootLang.category}},[a("select-product-category",{staticClass:"full-width",attrs:{"allow-create":!0},on:{change:t.handleChangeSelectCategory},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn-block",attrs:{loading:t.loading,type:"success"},on:{click:t.submit}},[t._v("\n          "+t._s(t.rootLang.next)+"\n        ")])],1)],1)],1)])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center mb-12"},[e("img",{attrs:{src:"/static/img/service-activation/grabfood-2.png"}})])}]},Os66:function(t,e,a){"use strict";a.r(e);var i=a("N5jt"),n=a("99mI");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="setupCategoryOld.vue",e.default=o.exports},RGox:function(t,e,a){"use strict";a.r(e);var i=a("TZ0d"),n=a("ahdg");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="setupOpenHours.vue",e.default=o.exports},T784:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a("14Xm")),n=u(a("m1cH")),s=u(a("QbLZ")),r=u(a("D3Ub")),o=u(a("DChC")),d=u(a("XFEm")),l=u(a("otp5")),c=a("M9O1");function u(t){return t&&t.__esModule?t:{default:t}}a("wd/R");e.default={components:{CloseEsc:d.default,SelectProductCategory:l.default},mixins:[o.default],props:{setupData:{type:Object,default:null},grabfoodData:{type:Object,default:null}},data:function(){return{loading:!1,selectedCategory:null,formData:{category:{id:null,is_alias:0,name:""}}}},methods:{submit:function(){var t=this;return(0,r.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,a={store_grabfood_id:t.grabfoodData.id,name:t.setupData.name,category:(0,s.default)({},t.formData.category),periods:[].concat((0,n.default)(t.setupData.periods))},e.next=4,(0,c.savePartial)(a).then(function(e){t.loading=!1,t.formData.group_menu=e.data.data.group_menu,t.$emit("submit",t.formData)}).catch(function(e){t.$message({type:"error",message:e.string}),t.loading=!1});case 4:case"end":return e.stop()}},e,t)}))()},handleChangeSelectCategory:function(t){t.id?(this.formData.category.id=parseInt(t.id),this.formData.category.name=t.name,this.formData.category.is_alias=0):(this.formData.category.id=null,this.formData.category.name=t,this.formData.category.is_alias=1)}}}},TMeK:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container no-flex-sm"},[a("div",{staticClass:"wizard-desc"},[a("h3",[t._v(t._s(t.rootLang.category))]),t._v(" "),a("p",[t._v("Kategori adalah kelompok item dalam suatu section. Anda dapat menambah beberapa kategori pada Ubah Menu nanti, sekarang buat satu dahulu. Contoh: Limited Time Offer, Burgers.")]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"wizard-content"},[a("el-form",{attrs:{model:t.formData,"label-position":"top"}},[a("el-form-item",{attrs:{prop:"name",label:t.rootLang.category}},[a("select-product-category",{staticClass:"full-width",attrs:{"allow-create":!0},on:{change:t.handleChangeSelectCategory},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn-block",attrs:{loading:t.loading,type:"success"},on:{click:t.submit}},[t._v("\n          "+t._s(t.rootLang.next)+"\n        ")])],1)],1)],1)])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center mb-12"},[e("img",{attrs:{src:"/static/img/service-activation/grabfood-2.png"}})])}]},TZ0d:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container no-flex-sm",staticStyle:{"align-items":"unset"}},[a("div",{staticClass:"wizard-desc"},[a("h3",[t._v(t._s(t.rootLang.opening_hours))]),t._v(" "),a("p",[t._v("Atur Jam Buka sesuai dengan jam operasional Restoranmu. Jam Buka terdiri dari hari dan periode buka. Pada hari yang sama, Anda dapat menyediakan maksimal 3 periode, misalnya Senin dibagi 3 periode yaitu 09:00 - 12:00, 12:00 - 16:00, dan 16:00 - 19:00. Jam Buka akan digunakan juga sebagai acuan jam tayang promosi atau section menu. Pengaturan Jam Buka dan Tutup Sementara akan tersedia di menu Restoran.")]),t._v(" "),t._m(0)]),t._v(" "),a("div",{staticClass:"wizard-content"},[a("el-form",{attrs:{model:t.formData,"label-position":"top"}},[a("h3",[t._v(t._s(t.selectedStore.name))]),t._v(" "),a("el-form-item",{attrs:{prop:"days",label:"Jam Layanan"}},[t._l(t.dataPeriods,function(e){return a("div",{key:e.day,staticClass:"like-table-wrapper--item",staticStyle:{height:"56px"},attrs:{label:e.fday}},[a("el-checkbox",{on:{change:function(a){return t.handleCheckUpdate(e)}},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}}),t._v(" "),a("div",{staticClass:"p-8 full-width"},[t._v(t._s(e.fday))]),t._v(" "),a("div",{staticClass:"full-width text-right"},[a("el-button",{staticClass:"edit",attrs:{type:"text"},nativeOn:{click:function(a){return a.stopPropagation(),t.handleEditItemUpdate(e)}}},[e.checked?a("span",{staticClass:"color-black",domProps:{innerHTML:t._s(t.getLabelDayTimeUpdate(e))}}):a("el-tag",{staticStyle:{"background-color":"transparent"},attrs:{type:"info",effect:"plain",size:"mini"}},[t._v("Tutup")]),t._v(" "),a("svg-icon",{attrs:{"icon-class":"edit-2"}})],1)],1)],1)})],2),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn-block",attrs:{disabled:t.disableNext,type:"success"},on:{click:t.submit}},[t._v("\n          "+t._s(t.rootLang.next)+"\n        ")])],1)],1)],1),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[t.visibleEditItem?a("div",{staticClass:"offscreen-right-sidebar"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[t._v("\n          Ubah Periode\n          "),a("close-esc",{on:{close:function(e){t.visibleEditItem=!1}}})],1),t._v(" "),a("div",{staticClass:"font-18 font-semi-bold mb-16"},[t._v("\n          "+t._s(t.rootLang["label_day_"+t.formEdit.day_id])+"\n        ")]),t._v(" "),t.formEdit.day_ids.length?t._e():a("div",{staticClass:"color-grey--soft--bg flex-container radius-10 mb-24 p-8"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",{staticClass:"p-8 font-14"},[t._v("\n            Section ini tidak aktif pada hari "+t._s(t.rootLang["label_day_"+t.formEdit.day_id])+"\n          ")])]),t._v(" "),a("el-form",{attrs:{model:t.formEdit,"label-position":"top"}},[t._l(t.formEdit.day_ids,function(e,i){return a("div",{key:i,staticClass:"flex-container mb-16"},[a("el-form-item",{staticClass:"m-null",attrs:{label:t.lang.start_time}},[a("el-time-select",{staticClass:"mr-8",attrs:{"picker-options":Object.assign({},t.timePickerOptions,{minTime:t.getMinTime(i)}),clearable:!1},model:{value:e.start_time,callback:function(a){t.$set(e,"start_time",a)},expression:"item.start_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"m-null",staticStyle:{},attrs:{label:t.lang.end_time}},[a("el-time-select",{staticClass:"mr-8",attrs:{"picker-options":Object.assign({},t.timePickerOptions,{minTime:e.start_time}),clearable:!1},on:{change:function(a){return t.handleChangeTime(e,i)}},model:{value:e.end_time,callback:function(a){t.$set(e,"end_time",a)},expression:"item.end_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"m-null"},[a("el-button",{staticClass:"color-info p-null",attrs:{type:"text"},on:{click:function(e){return t.handleRemoteDayId(i)}}},[a("svg-icon",{attrs:{"icon-class":"x"}})],1)],1)],1)}),t._v(" "),a("el-form-item",[t.formEdit.day_ids.length<3?a("el-button",{staticClass:"btn-block",attrs:{type:"info"},on:{click:t.handleAddDayIds}},[t._v("\n              Add Period\n            ")]):t._e()],1)],2),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer"},[a("el-button",{staticClass:"btn-block",attrs:{type:"primary"},on:{click:t.handleSaveEditItem}},[t._v("\n            "+t._s(t.lang.save)+"\n          ")])],1)],1)]):t._e()]),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[t.visibleEditItemUpdate?a("div",{staticClass:"offscreen-right-sidebar"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[t._v("\n          Ubah Periode\n          "),a("close-esc",{on:{close:function(e){t.visibleEditItemUpdate=!1}}})],1),t._v(" "),a("div",{staticClass:"font-18 font-semi-bold mb-16"},[t._v("\n          "+t._s(t.formEdit.fday)+"\n        ")]),t._v(" "),t.formEdit.times.length?t._e():a("div",{staticClass:"color-grey--soft--bg flex-container radius-10 mb-24 p-8"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{staticClass:"color-grey",attrs:{"icon-class":"information-circle"}})],1),t._v(" "),a("div",{staticClass:"p-8 font-14"},[t._v("\n            Section ini tidak aktif pada hari "+t._s(t.rootLang["label_day_"+t.formEdit.day_id])+"\n          ")])]),t._v(" "),a("el-form",{attrs:{model:t.formEdit,"label-position":"top"}},[t._l(t.formEdit.times,function(e,i){return a("div",{key:i,staticClass:"flex-container mb-16"},["dev"===t.stageLevel||"sit"===t.stageLevel?[a("el-form-item",{staticClass:"m-null full-width",attrs:{label:t.lang.start_time}},[a("el-time-picker",{attrs:{"picker-options":{format:"HH:mm",selectableRange:t.getMinTime(i).start},clearable:!1},model:{value:e.timer[0],callback:function(a){t.$set(e.timer,0,a)},expression:"item.timer[0]"}})],1),t._v(" "),a("el-form-item",{staticClass:"m-null full-width",attrs:{label:t.lang.end_time}},[a("el-time-picker",{attrs:{"picker-options":{format:"HH:mm",selectableRange:t.getMinTime(i).end},clearable:!1},on:{change:function(a){return t.handleChangeTime(e,i)}},model:{value:e.timer[1],callback:function(a){t.$set(e.timer,1,a)},expression:"item.timer[1]"}})],1)]:[a("el-form-item",{staticClass:"m-null",attrs:{label:t.lang.start_time}},[a("el-time-select",{staticClass:"mr-8",attrs:{"picker-options":Object.assign({},t.timePickerOptions,{minTime:t.getMinTime(i)}),clearable:!1},model:{value:e.start_time,callback:function(a){t.$set(e,"start_time",a)},expression:"item.start_time"}})],1),t._v(" "),a("el-form-item",{staticClass:"m-null",staticStyle:{},attrs:{label:t.lang.end_time}},[a("el-time-select",{staticClass:"mr-8",attrs:{"picker-options":Object.assign({},t.timePickerOptions,{minTime:e.start_time}),clearable:!1},on:{change:function(a){return t.handleChangeTime(e,i)}},model:{value:e.end_time,callback:function(a){t.$set(e,"end_time",a)},expression:"item.end_time"}})],1)],t._v(" "),a("el-form-item",{staticClass:"m-null"},[a("el-button",{staticClass:"color-info p-null",attrs:{type:"text"},on:{click:function(a){return t.handleRemoteDayId(i,e.time_id)}}},[a("svg-icon",{attrs:{"icon-class":"x"}})],1)],1)],2)}),t._v(" "),a("el-form-item",[t.formEdit.times.length<3?a("el-button",{staticClass:"btn-block",attrs:{type:"info"},on:{click:t.handleAddDayIds}},[t._v("\n              Add Period\n            ")]):t._e()],1)],2),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer"},[a("el-button",{staticClass:"btn-block",attrs:{type:"primary"},on:{click:t.handleSaveEditItem}},[t._v("\n            "+t._s(t.lang.save)+"\n          ")])],1)],1)]):t._e()])],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center mb-12"},[e("img",{attrs:{src:"/static/img/service-activation/grabfood-1.png"}})])}]},U6ge:function(t,e,a){"use strict";a.r(e);var i=a("ehEb"),n=a("gu03");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="setupItem.vue",e.default=o.exports},Xert:function(t,e,a){"use strict";a.r(e);var i=a("1u0h"),n=a("Kr/y");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="setupSectionOld.vue",e.default=o.exports},ahdg:function(t,e,a){"use strict";a.r(e);var i=a("ua3B"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},bJAt:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=d(a("14Xm")),n=d(a("QbLZ")),s=d(a("D3Ub")),r=d(a("DChC")),o=d(a("XFEm"));function d(t){return t&&t.__esModule?t:{default:t}}var l=a("wd/R");e.default={components:{CloseEsc:o.default},mixins:[r.default],props:{setupData:{type:Object,default:null},dataPeriods:{type:Array,default:[]}},data:function(){return{visibleEditItem:!1,formEdit:{},formData:{name:"",periods:[]},timePickerOptions:{start:"00:00",step:"00:15",end:"23:59"},tempPeriods:[]}},watch:{},computed:{disableNext:function(){return!(this.tempPeriods.length>0&&this.formData.name)},dataPeriod:function(){var t=this,e=[];return this.dataPeriods.map(function(a){1===a.period_type&&null!==a.times&&(a.times.map(function(e){e.checked=!1,t.tempPeriods.length&&t.tempPeriods.map(function(t){e.time_id===t.time_id&&(e.checked=!0)})}),e.push(a))}),e}},mounted:function(){},methods:{handleEditItem:function(t){var e=this;return(0,s.default)(i.default.mark(function a(){return i.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(t),a.next=3,(0,n.default)({},e.formData.days[t]);case 3:if(e.formEdit=a.sent,e.formEdit.day_ids=[],!e.formData.days[t].day_ids.length){a.next=8;break}return a.next=8,e.formData.days[t].day_ids.map(function(t){e.formEdit.day_ids.push((0,n.default)({},t))});case 8:e.visibleEditItem=!0;case 9:case"end":return a.stop()}},a,e)}))()},handleAddDayIds:function(){if(this.formEdit.day_ids.length){var t=this.formEdit.day_ids[this.formEdit.day_ids.length-1].end_time;this.formEdit.day_ids.push({start_time:l(t,"HH:mm").add(15,"minutes").format("HH:mm"),end_time:""})}else this.formEdit.day_ids.push({start_time:"08:00",end_time:"20:00"})},getMinTime:function(t){if(!t)return null;var e=this.formEdit.day_ids[t-1].end_time;return e?l(e,"HH:mm").subtract(15,"minutes").format("HH:mm"):void 0},getLabelDayTime:function(t){var e=this.formData.days[t];if(e&&e.day_ids&&0===e.day_ids.length)return 0;if(e&&e.day_ids&&e.day_ids.length){var a=this.formData.days[t].day_ids;if(a.length>1)return a[0].start_time+" ... "+a[a.length-1].end_time;if(1===a.length)return a[0].start_time+" - "+a[0].end_time}},handleRemoteDayId:function(t){this.formEdit.day_ids.splice(t,1)},handleSaveEditItem:function(){var t=this;this.formData.days=this.formData.days.map(function(e){return e.day_id===t.formEdit.day_id&&(e=t.formEdit),e}),this.visibleEditItem=!1},submit:function(){var t=this;this.tempPeriods.map(function(e){t.formData.periods.push(e.time_id)}),this.$emit("submit",this.formData)},handleChangeTime:function(t,e){this.formEdit.day_ids.length>e+1&&(this.formEdit.day_ids[e+1].start_time=l(t.end_time,"HH:mm").add(15,"minutes").format("HH:mm"))},handleCheckedPeriod:function(t){var e=this;this.tempPeriods.some(function(e){return e.time_id===t.time_id})?this.tempPeriods.map(function(a,i){a.time_id===t.time_id&&e.tempPeriods.splice(i,1)}):this.tempPeriods.push(t),this.$forceUpdate()},getCheck:function(t){return!!t.checked}}}},"dj+2":function(t,e,a){"use strict";a.r(e);var i=a("bJAt"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},ehEb:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container no-flex-sm"},[t._m(0),t._v(" "),a("div",{staticClass:"wizard-content"},[a("el-form",{attrs:{model:t.formData,"label-position":"top"}},[a("el-form-item",{attrs:{prop:"name",label:"Item"}},[a("select-product-grabfood",{staticStyle:{width:"100%"},attrs:{"additional-params":t.additonalParamsSearchProduct,section:t.setupData.group_menu[0]},on:{select:t.handleSelectProduct}})],1),t._v(" "),t.formData.menus.length?a("el-form-item",{attrs:{label:t.computedLabelItems}},[a("div",{staticClass:"like-table-wrapper"},t._l(t.formData.menus,function(e,i){return a("div",{key:e.id,staticClass:"like-table-wrapper--item"},[a("div",{staticClass:"mr-4"},[a("el-avatar",{attrs:{src:e.photo_md,shape:"square"}})],1),t._v(" "),a("div",{staticStyle:{"flex-grow":"1"}},[a("div",{staticClass:"font-bold font-14"},[t._v("\n                "+t._s(e.name)+"\n              ")]),t._v(" "),a("div",{staticClass:"font-12 color-old-grey"},[t._v("\n                "+t._s(t.IDRFormat(e.alias_price))+"\n              ")])]),t._v(" "),a("el-button",{staticClass:"mr-8",attrs:{type:"text"},on:{click:function(a){return t.handleEditItem(e)}}},[a("svg-icon",{attrs:{"icon-class":"edit-2"}})],1),t._v(" "),a("el-button",{staticClass:"color-body",attrs:{type:"text"},on:{click:function(e){return t.handleDeleteItem(i)}}},[a("svg-icon",{attrs:{"icon-class":"x"}})],1)],1)}),0)]):t._e(),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn-block",attrs:{disabled:t.disableDone,loading:t.loading,type:"success"},on:{click:t.submit}},[t._v("\n          "+t._s(t.rootLang.done)+"\n        ")])],1)],1)],1),t._v(" "),a("transition",{attrs:{name:"el-zoom-in-center"}},[t.visibleEditItem?a("div",{staticClass:"offscreen-right-sidebar px-null"},[a("div",{staticClass:"offscreen-right-sidebar--wrapper"},[a("div",{staticClass:"offscreen-right-sidebar--header text-left"},[t._v("\n          Ubah Produk\n          "),a("close-esc",{on:{close:function(e){t.visibleEditItem=!1}}})],1),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--header-content color-blue-vivid--bg"},[a("el-image",{attrs:{src:t.formEdit.product_data.photo_md,fit:"cover"}})],1),t._v(" "),a("div",{staticStyle:{"overflow-y":"scroll","max-height":"calc(100vh - 250px)"}},[a("el-form",{staticClass:"px-12 pt-24 mt-24",attrs:{model:t.formEdit,"label-position":"top"}},[a("div",{staticClass:"flex-container mt-24 color-grey--soft--bg p-10 mb-12"},[a("div",{staticClass:"container-icon"},[a("svg-icon",{attrs:{"icon-class":"icon-feather-link",stroke:"#67C23A"}})],1),t._v(" "),a("div",{staticClass:"full-width pl-5"},[a("div",{staticClass:"color-primary font-bold font-16"},[t._v(t._s(t.formEdit.name))]),t._v(" "),t.formEdit.detail?a("div",{staticClass:"font-12 color-old-grey"},[t._v(t._s(t.formEdit.detail.fsell_price_pos))]):a("div",{staticClass:"font-12 color-old-grey"},[t._v(t._s(t.formEdit.fsell_price_pos))])]),t._v(" "),a("div",{staticClass:"text-right",staticStyle:{width:"20%"}},[t.formEdit.detail?a("span",{staticClass:"font-12 color-old-grey"},[t._v(t._s(t.formEdit.detail.stock_qty)+" stock")]):t._e()])]),t._v(" "),"dev"===t.stageLevel?a("el-form-item",{attrs:{label:"Komisi Grabfood",prop:"price"}},[a("input-money-v2",{attrs:{"with-percentage":!0,"is-percentage":t.formEdit.product_data.is_comission_percentage,"hide-currency":0!==t.formEdit.product_data.is_comission_percentage},on:{changepercent:t.handleChangePercentage},model:{value:t.formEdit.product_data.comission,callback:function(e){t.$set(t.formEdit.product_data,"comission",e)},expression:"formEdit.product_data.comission"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:t.lang.price+" Grabfood",prop:"price"}},[a("input-money",{attrs:{amount:t.formEdit.alias_price},on:{"update:amount":function(e){return t.$set(t.formEdit,"alias_price",e)}}})],1),t._v(" "),a("el-form-item",{attrs:{label:t.lang.description+" (optional)",prop:"category_name"}},[a("el-input",{model:{value:t.formEdit.description,callback:function(e){t.$set(t.formEdit,"description",e)},expression:"formEdit.description"}})],1),t._v(" "),a("el-button",{staticClass:"btn-block mb-16",attrs:{type:"info"},on:{click:function(e){return t.handleEditAddon()}}},[t._v("\n              Add-on "+t._s(0!==t.countAddon?"( "+t.countAddon+" )":"")+"\n              "),1===t.formEdit.is_needed_items?a("svg-icon",{attrs:{"icon-class":"information-circle"}}):t._e()],1),t._v(" "),a("div",{staticClass:"flex-container radius-10 color-grey--soft--bg mb-24"},[a("div",{staticClass:"container-icon"},[a("i",{staticClass:"el-icon-warning-outline"})]),t._v(" "),a("div",[t._v("\n                Sediakan pilihan untuk memodifikasi item. Pilih dari daftar Add-On sesuai kebutuhan produk\n              ")])])],1)],1),t._v(" "),a("div",{staticClass:"offscreen-right-sidebar--footer"},[a("el-button",{staticClass:"btn-block mb-8 color-danger",attrs:{type:"info",icon:"el-icon-delete"},on:{click:t.handleDeleteItemFromEdit}},[t._v("\n            "+t._s(t.rootLang.delete)+"\n          ")]),t._v(" "),a("el-button",{staticClass:"btn-block",attrs:{type:"primary"},on:{click:t.handleSaveEditItem}},[t._v("\n            "+t._s(t.lang.save)+"\n          ")])],1)])]):t._e()]),t._v(" "),a("offscreen-edit-addon",{attrs:{show:t.visibleOffscreenEditAddon,"form-edit":t.formEdit,grabfoodData:t.grabfoodData,"setup-item":!0},on:{cancel:function(e){t.visibleOffscreenEditAddon=!1},save:t.updateAddon,update:t.updateAvailable}}),t._v(" "),a("el-dialog",{attrs:{visible:t.visibleDialogEditTime,"append-to-body":!0,"modal-append-to-body":!0,"show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.visibleDialogEditTime=e}}},[a("div",{staticClass:"flex-container",attrs:{slot:"title"},slot:"title"},[a("h4",{staticClass:"dialog-title full-width"},[t._v("\n        "+t._s(t.rootLang["label_day_"+t.formEditTime.day_id])+"\n      ")]),t._v(" "),a("div",{staticClass:"btn_save_dialog full-width text-right"},[a("el-button",{attrs:{type:"info"},on:{click:function(e){t.visibleDialogEditTime=!1}}},[t._v("\n          "+t._s(t.lang.cancel)+"\n        ")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.handleSaveEditTime}},[t._v("\n          "+t._s(t.lang.save)+"\n        ")])],1)]),t._v(" "),a("el-checkbox-group",{staticClass:"checkbox-group-block checkbox-group-block--leftcheck checkbox-group-block--background",model:{value:t.formEditTime.selected_time,callback:function(e){t.$set(t.formEditTime,"selected_time",e)},expression:"formEditTime.selected_time"}},t._l(t.formEditTime.day_ids,function(e,i){return a("el-checkbox",{key:i,attrs:{label:i}},[t._v("\n        "+t._s(e.start_time)+" - "+t._s(e.end_time)+"\n      ")])}),1)],1)],1)},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wizard-desc"},[e("h3",[this._v("Item")]),this._v(" "),e("p",[this._v("Item adalah produk pedagang yang ditampilkan di GrabFood. Anda dapat mengatur produk dalam beberapa kategori pada Ubah Menu nanti. Contoh: Big Mac, Lemon Tea.")]),this._v(" "),e("div",{staticClass:"text-center mb-12"},[e("img",{attrs:{src:"/static/img/service-activation/grabfood-3.png"}})])])}]},gu03:function(t,e,a){"use strict";a.r(e);var i=a("oY8A"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},hJk7:function(t,e,a){"use strict";a.r(e);var i=a("1f/i"),n=a("o2vN");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="dialogSetupOld.vue",e.default=o.exports},lXuX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(a("14Xm")),n=c(a("QbLZ")),s=c(a("D3Ub")),r=c(a("DChC")),o=c(a("XFEm")),d=c(a("otp5")),l=a("M9O1");function c(t){return t&&t.__esModule?t:{default:t}}a("wd/R");e.default={components:{CloseEsc:o.default,SelectProductCategory:d.default},mixins:[r.default],props:{setupData:{type:Object,default:null},grabfoodData:{type:Object,default:null}},data:function(){return{loading:!1,selectedCategory:null,formData:{category:{id:null,is_alias:0,name:""}}}},methods:{submit:function(){var t=this;return(0,s.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,a={store_grabfood_id:t.grabfoodData.id,name:t.setupData.name,days:[],category:(0,n.default)({},t.formData.category),periods:[1]},e.next=4,t.setupData.days.map(function(t){a.days.push(t)});case 4:(0,l.savePartial)(a).then(function(e){t.loading=!1,t.formData.group_menu=e.data.data.group_menu,t.$emit("submit",t.formData)}).catch(function(e){t.$message({type:"error",message:e.string}),t.loading=!1});case 5:case"end":return e.stop()}},e,t)}))()},handleChangeSelectCategory:function(t){t.id?(this.formData.category.id=parseInt(t.id),this.formData.category.name=t.name,this.formData.category.is_alias=0):(this.formData.category.id=null,this.formData.category.name=t,this.formData.category.is_alias=1)}}}},o2vN:function(t,e,a){"use strict";a.r(e);var i=a("wJtJ"),n=a.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return i[t]})}(s);e.default=n.a},oY8A:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=h(a("m1cH")),n=h(a("14Xm")),s=h(a("QbLZ")),r=h(a("D3Ub")),o=h(a("DChC")),d=h(a("XFEm")),l=h(a("zBx2")),c=h(a("Ckak")),u=h(a("QLFV")),m=h(a("Ew99")),f=h(a("eIYj")),p=a("xMja");function h(t){return t&&t.__esModule?t:{default:t}}a("wd/R");e.default={props:{setupData:{type:Object,default:null},loading:{type:Boolean,default:!1},grabfoodData:{type:Object,default:null}},components:{CloseEsc:d.default,InputMoney:l.default,SelectProductGrabfood:u.default,OffscreenEditSectionMenu:m.default,OffscreenEditAddon:f.default,InputMoneyV2:c.default},mixins:[o.default],data:function(){return{visibleEditItem:!1,visibleDialogEditTime:!1,formEdit:{},formEditTime:{},formData:{menus:[]},visibleOffscreenEditAddon:!1}},computed:{computedLabelItems:function(){var t=this.formData.menus.length;return t>1?t+" items":t+" item"},additonalParamsSearchProduct:function(){return this.setupData.category&&this.setupData.category.id,null},disableDone:function(){return!this.formData.menus.length},countAddon:function(){var t=[];return this.formEdit.addon_group.length&&this.formEdit.addon_group.map(function(e){1===e.available_for_menu&&t.push(e.id)}),t.length}},methods:{submit:function(){this.formData.menus.map(function(t){t.addon_item=[],t.addon_group.length&&t.addon_group.map(function(e){e.addon_items.length&&e.addon_items.map(function(e){t.addon_item.push({id:e.id})})})}),this.formData.store_grabfood_id=this.grabfoodData.id,this.$emit("submit",this.formData)},handleSelectProduct:function(t){var e=this;return(0,r.default)(n.default.mark(function a(){var i,r;return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("data",t),a.next=3,(0,s.default)({},t,{product_data:{}});case 3:return i=a.sent,a.next=6,(0,s.default)({},i,{category_name:e.setupData.category.name,available:[],addon_group:[]});case 6:r=a.sent,e.formData.menus.some(function(t){return t.id===r.id})?e.$message({type:"error",message:"Tidak bisa tambah item yg sama"}):(e.formData.menus.push(r),e.handleEditItem(r));case 9:case"end":return a.stop()}},a,e)}))()},handleDeleteItem:function(t){this.formData.menus.splice(t,1)},getSingleProduct:function(){var t=this;(0,p.fetchSingle)(this.formEdit.id).then(function(e){t.formEdit.product_data=e.data.data}).catch(function(e){t.$message({type:"error",message:e.string})})},getVariantProduct:function(){var t=this;(0,p.fetchVariantSingle)(this.formEdit.id).then(function(){var e=(0,r.default)(n.default.mark(function e(a){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.formEdit.product_data=a.data.data;case 1:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){t.$message({type:"error",message:e.string})})},handleEditItem:function(t){var e=this;return(0,r.default)(n.default.mark(function a(){return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.default)({},t);case 2:if(e.formEdit=a.sent,e.formEdit.alias_price=e.formEdit.sell_price_pos,"V"!==t.type){a.next=9;break}return a.next=7,e.getVariantProduct();case 7:a.next=12;break;case 9:if("P"!==t.type){a.next=12;break}return a.next=12,e.getSingleProduct();case 12:e.visibleEditItem=!0;case 13:case"end":return a.stop()}},a,e)}))()},handleSaveEditItem:function(){var t=this;"dev"===this.stageLevel&&(this.formEdit.is_percentage=this.formEdit.product_data.is_comission_percentage,0===this.formEdit.product_data.is_comission_percentage?(this.formEdit.amount=this.formEdit.product_data.comission,this.$delete("percentage",this.formEdit)):1===this.formEdit.product_data.is_comission_percentage&&(this.formEdit.percentage=this.formEdit.product_data.comission,this.$delete("amount",this.formEdit))),this.formData.menus=this.formData.menus.map(function(e){return e.id===t.formEdit.id&&(e=t.formEdit),e}),this.visibleEditItem=!1},getLabelDayTime:function(t){var e=this.formEdit.available[t];if(e&&e.day_ids&&e.day_ids.length){var a=this.formEdit.available[t].day_ids;return a.length>1?a[0].start_time+" ... "+a[a.length-1].end_time:a[0].start_time+" - "+a[0].end_time}},handleDeleteItemFromEdit:function(){var t=this;return(0,r.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.formData.menus.filter(function(e){return e.id!==t.formEdit.id});case 2:t.formData.menus=e.sent,t.visibleEditItem=!1;case 4:case"end":return e.stop()}},e,t)}))()},handleEditTime:function(t){var e=this;return(0,r.default)(n.default.mark(function a(){return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.default)({},t);case 2:e.formEditTime=a.sent,e.visibleDialogEditTime=!0;case 4:case"end":return a.stop()}},a,e)}))()},handleSaveEditTime:function(){var t=this;this.formEdit.available.map(function(e){e.day_id===t.formEditTime.day_id&&(e.selected_time=[].concat((0,i.default)(t.formEditTime.selected_time)))}),this.visibleDialogEditTime=!1},handleEditAddon:function(){this.visibleOffscreenEditAddon=!0},updateAddon:function(t){console.log("trace",t),this.formEdit.addon_group=[].concat((0,i.default)(t))},updateAvailable:function(t,e,a,i){console.log("item",e),"category"===t?this.formEdit.addon_group.map(function(t){t.id===e.id&&(t=(0,s.default)({},e))}):"addon"===t&&(this.formEdit.addon_group[a].addon_items[i]=(0,s.default)({},e))},IDRFormat:function(t){var e=t?t.toString():"0",a=e.length%3,i=e.substr(0,a),n=e.substr(a).match(/\d{3}/g);n&&(i+=(a?".":"")+n.join("."));return"IDR "+i},handleChangePercentage:function(t){this.formEdit.product_data.is_comission_percentage=t}}}},pZJ2:function(t,e,a){"use strict";a.r(e);var i=a("vDpW"),n=a("1wk9");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,function(){return n[t]})}(s);var r=a("KHd+"),o=Object(r.a)(n.default,i.a,i.b,!1,null,null,null);o.options.__file="setup.vue",e.default=o.exports},qcaT:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-container no-flex-sm"},[t._m(0),t._v(" "),a("div",{staticClass:"wizard-content"},[a("el-form",{attrs:{model:t.formData,"label-position":"top"}},[a("el-form-item",{attrs:{prop:"name",label:"Nama Section"}},[a("el-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"days",label:"Jam Layanan"}},t._l(t.dataPeriod,function(e){return a("div",{key:e.day,staticClass:"like-table-wrapper--item",staticStyle:{height:"56px"},attrs:{label:e}},[a("div",{staticClass:"p-8"},[t._v(t._s(e.fday))]),t._v(" "),a("div",{staticClass:"mt-8 full-width text-right flex-container",staticStyle:{"justify-content":"flex-end"}},t._l(e.times,function(e){return a("div",{key:e.time_id,staticClass:"flex-container",attrs:{type:"text"},on:{click:function(a){return t.handleCheckedPeriod(e)}}},[a("div",{class:e.checked?"color-primary--soft--bg radius-5 mr-4 p-2":"mr-4 radius-5 p-2"},[a("span",{staticClass:"color-black"},[t._v(t._s(e.fstart_time)+" - "+t._s(e.fend_time))]),t._v(" "),a("el-checkbox",{on:{change:function(a){return t.handleCheckedPeriod(e)}},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"period.checked"}})],1)])}),0)])}),0),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"btn-block",attrs:{disabled:t.disableNext,type:"success"},on:{click:t.submit}},[t._v("\n          "+t._s(t.rootLang.next)+"\n        ")])],1)],1)],1)])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wizard-desc"},[e("h3",[this._v("Section")]),this._v(" "),e("p",[this._v("Section adalah jam layanan untuk suatu item. Misalnya pedagang memiliki item yang hanya tersedia untuk sarapan, item tersebut dapat dikelompokkan di section Menu Sarapan. Jadi item tersebut hanya tersedia untuk dipesan selama jangka waktu sarapan. Anda dapat menambah beberapa section pada Ubah Menu nanti, sekarang buat satu dahulu.")]),this._v(" "),e("div",{staticClass:"text-center mb-12"},[e("img",{attrs:{src:"/static/img/service-activation/grabfood-1.png"}})]),this._v(" "),e("p",{staticClass:"font-12"},[this._v("\n      * Nama section tidak dapat dilihat oleh pelanggan, hanya untuk keperluan pedagang.\n    ")])])}]},ua3B:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=c(a("m1cH")),n=c(a("14Xm")),s=c(a("QbLZ")),r=c(a("D3Ub")),o=c(a("DChC")),d=c(a("XFEm")),l=a("M9O1");function c(t){return t&&t.__esModule?t:{default:t}}var u=a("wd/R");e.default={components:{CloseEsc:d.default},mixins:[o.default],data:function(){return{visibleEditItem:!1,formEdit:{},formData:{name:"",selected_days:[0,1,2,3,4,5,6],checkedDays:[!0,!0,!0,!0,!0,!0,!0],days:[]},timePickerOptions:{start:"00:00",step:"00:15",end:"23:59"},tempData:[],visibleEditItemUpdate:!1}},props:{grabfoodData:{type:Object,default:null},update:{type:Boolean,default:!1},dataPeriods:{type:Array,default:[]}},computed:{disableNext:function(){var t=[];return this.formData.checkedDays.map(function(e){e&&t.push(e)}),!t.length}},mounted:function(){for(var t=0;t<=6;t++)this.formData.days.push({day_id:t+1,day_ids:[{start_time:"08:00",end_time:"20:00"}]})},watch:{},methods:{handleEditItem:function(t){var e=this;return(0,r.default)(n.default.mark(function a(){return n.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(t),a.next=3,(0,s.default)({},e.formData.days[t]);case 3:if(e.formEdit=a.sent,e.formEdit.day_ids=[],!e.formData.days[t].day_ids.length){a.next=8;break}return a.next=8,e.formData.days[t].day_ids.map(function(t){e.formEdit.day_ids.push((0,s.default)({},t))});case 8:e.visibleEditItem=!0;case 9:case"end":return a.stop()}},a,e)}))()},handleEditItemUpdate:function(t){u().format("YYYY MM DD");this.formEdit=(0,s.default)({},t),this.visibleEditItemUpdate=!0},handleAddDayIds:function(){if("dev"!==this.stageLevel&&"sit"!==this.stageLevel)if(this.formEdit.times.length){var t=this.formEdit.times[this.formEdit.times.length-1].end_time;this.formEdit.times.push({start_time:u(t,"HH:mm").add(15,"minutes").format("HH:mm"),end_time:""})}else this.formEdit.times.push({start_time:"08:00",end_time:"20:00"});else if(this.formEdit.times.length){var e=[u(this.formEdit.times[this.formEdit.times.length-1].timer[1]).add(15,"minutes"),u(this.formEdit.times[this.formEdit.times.length-1].timer[1]).add(30,"minutes")];this.formEdit.times.push({timer:e})}else{var a=u().format("YYYY MM DD"),i=[u(a+" 00:00:00"),u(a+" 23:59:00")];this.formEdit.times.push({timer:i})}},getMinTime:function(t){if("dev"!==this.stageLevel&&"sit"!==this.stageLevel)if(t&&!this.update){var e=this.formEdit.day_ids[t-1].end_time;if(e)return u(e,"HH:mm").subtract(15,"minutes").format("HH:mm")}else{if(!t||!this.update)return null;var a=this.formEdit.times[t-1].end_time;if(a)return u(a,"HH:mm").subtract(15,"minutes").format("HH:mm")}else{if(0===t)return{start:"00:00:00 - 23:59:00",end:u(this.formEdit.times[t].timer[0]).add(1,"minutes").format("HH:mm:ss")+" - 23:59:00"};if(t>0)return{start:u(this.formEdit.times[t-1].timer[1]).add(1,"minutes").format("HH:mm:ss")+" - 23:59:00",end:u(this.formEdit.times[t].timer[0]).add(1,"minutes").format("HH:mm:ss")+" - 23:59:00"}}},getLabelDayTime:function(t){var e=this.formData.days[t];if(!this.formData.checkedDays[t])return 0;if(e&&e.day_ids&&0===e.day_ids.length)return this.formData.checkedDays[t]=!1,0;if(e&&e.day_ids&&e.day_ids.length){var a=this.formData.days[t].day_ids;if(a.length>1)return a[0].start_time+" ... "+a[a.length-1].end_time;if(1===a.length)return a[0].start_time+" - "+a[0].end_time}},getLabelDayTimeUpdate:function(t){if(null!==t.times&&t.times.length>=1)if("dev"!==this.stageLevel&&"sit"!==this.stageLevel){if(t.times.length>1)return t.times[0].start_time+'<span class="color-primary">  </span>'+t.times[t.times.length-1].end_time;if(1===t.times.length)return t.times[0].start_time+" - "+t.times[0].end_time;if(0===t.times.length)return 0}else{if(t.times.length>1)return u(t.times[0].timer[0]).format("HH:mm")+'<span class="color-primary">  </span>'+u(t.times[t.times.length-1].timer[1]).format("HH:mm");if(1===t.times.length)return u(t.times[0].timer[0]).format("HH:mm")+" - "+u(t.times[0].timer[1]).format("HH:mm");if(0===t.times.length)return 0}},handleRemoteDayId:function(t,e){var a=this;this.update||e?this.update&&!e?this.formEdit.times.splice(t,1):this.update&&e&&this.$confirm("This will permanently delete the data. Continue?","",{confirmButtonText:this.rootLang.delete,cancelButtonText:this.lang.cancel,showClose:!1,type:""}).then(function(){var i={id:e,store_grabfood_id:a.grabfoodData.id};(0,l.deletePeriod)(i).then(function(){var e=(0,r.default)(n.default.mark(function e(i){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.formEdit.times.splice(t,1);case 1:case"end":return e.stop()}},e,a)}));return function(t){return e.apply(this,arguments)}}()).catch(function(t){a.$message({type:"error",message:t.string})})}).catch(function(t){console.log(t)}):this.formEdit.day_ids.splice(t,1)},handleSaveEditItem:function(){var t=this;this.dataPeriods.map(function(e){e.day===t.formEdit.day&&(t.formEdit.times.length>=1&&(e.checked=!0),0===t.formEdit.times.length&&(e.checked=!1))}),this.visibleEditItemUpdate=!1},submit:function(){"dev"===this.stageLevel||"sit"===this.stageLevel?(this.dataPeriods.map(function(t){t.times.length&&t.times.map(function(t){t.start_time=u(t.timer[0]).format("HH:mm"),t.end_time=u(t.timer[1]).format("HH:mm")})}),this.updatePeriod()):this.updatePeriod()},handleChangeTime:function(t,e){console.log("ddd"),"dev"!==this.stageLevel&&"sit"!==this.stageLevel?this.formEdit.day_ids.length>e+1&&(this.formEdit.day_ids[e+1].start_time=u(t.end_time,"HH:mm").add(15,"minutes").format("HH:mm")):(this.formEdit.times.length>e+1&&u(this.formEdit.times[e+1].timer[0]).isBefore(u(t.timer[1]).add(1,"minutes"))&&(this.formEdit.times[e+1].timer[0]=u(t.timer[1]).add(15,"minutes")),this.$forceUpdate())},handleCheck:function(t){console.log("da",this.formData.checkedDays[t-1]),this.formData.checkedDays[t-1]&&0===this.formData.days[t-1].day_ids.length&&this.formData.days[t-1].day_ids.push({start_time:"08:00",end_time:"20:00"})},handleCheckUpdate:function(t){var e=this;this.tempData.some(function(e){return e.day===t.day})?this.tempData.map(function(a,i){a.day===t.day&&e.tempData.splice(i,1)}):this.tempData.push(t),this.$forceUpdate()},createPeriod:function(){var t=this;return(0,r.default)(n.default.mark(function e(){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t.formData.checkedDays.map(function(e,n){e?a.push({day:t.formData.days[n].day_id,type:1,days:[].concat((0,i.default)(t.formData.days[n].day_ids))}):a.push({day:t.formData.days[n].day_id,type:0,days:[].concat((0,i.default)(t.formData.days[n].day_ids))})}),e.next=4,(0,l.createPeriodGrab)({store_grabfood_id:t.grabfoodData.id,periods:a}).then(function(e){t.$message({type:"success",message:"Saved"}),t.$emit("submit",t.formData)}).catch(function(e){t.$message({type:"error",message:e.string})});case 4:case"end":return e.stop()}},e,t)}))()},updatePeriod:function(){var t=this;return(0,r.default)(n.default.mark(function e(){var a;return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],t.dataPeriods.map(function(t){a.push({day:t.day,type:t.checked?1:0,ddays:t.times})}),a.map(function(t){t.days=[],t.ddays.length&&t.ddays.map(function(e){e.time_id?t.days.push({id:e.time_id,start_time:e.start_time,end_time:e.end_time}):t.days.push({start_time:e.start_time,end_time:e.end_time})})}),e.next=5,(0,l.updatePeriods)({store_grabfood_id:t.grabfoodData.id,periods:a}).then(function(e){t.$message({type:"success",message:"Saved"}),t.$emit("submit",t.formData)}).catch(function(e){t.$message({type:"error",message:e.string})});case 5:case"end":return e.stop()}},e,t)}))()}}}},vDpW:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"innerpage-fullscreen"},[a("div",{staticClass:"innerpage-fullscreen--header"},[a("el-button",{staticClass:"innerpage-fullscreen--back",attrs:{type:"text"},on:{click:function(e){return t.$router.push({path:"/service-activation-v2"})}}},[a("svg-icon",{attrs:{"icon-class":"arrow-left"}})],1),t._v(" "),a("h4",{staticClass:"innerpage-fullscreen--title"},[t._v("Grabfood")])],1),t._v(" "),a("div",{staticClass:"innerpage-fullscreen--container mw-1056"},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingSetupData,expression:"loadingSetupData"}],staticClass:"box-card text-center border border--info"},[a("div",{staticClass:"font-56 color-success"},[a("svg-icon",{attrs:{"icon-class":"grabfood-success-activation"}})],1),t._v(" "),a("div",{staticClass:"font-24 font-semi-bold"},[t._v("\n        Pengajuan Diterima\n      ")]),t._v(" "),a("div",{staticClass:"font-20"},[t._v("\n        Kenali strukturnya, atur daftar menu GrabFood-mu sekarang!\n      ")]),t._v(" "),a("el-button",{attrs:{type:"success"},on:{click:t.aturDaftarMenu}},[t._v("\n        Atur daftar menu\n      ")])],1)],1),t._v(" "),a("dialog-setup",{ref:"dialogSetupV2",attrs:{show:t.visibleDialogSetup,"data-periods":t.dataPeriods,"setup-data":t.setupData,grabfoodData:t.grabfoodData},on:{getperiod:function(e){return t.getDataPeriod()}}}),t._v(" "),a("dialog-setup-old",{attrs:{show:t.visibleDialogSetupOld,"setup-data":t.setupData,grabfoodData:t.grabfoodData}})],1)},n=[]},wJtJ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=u(a("14Xm")),n=u(a("D3Ub")),s=u(a("QbLZ")),r=u(a("DChC")),o=u(a("Xert")),d=u(a("Os66")),l=u(a("U6ge")),c=a("M9O1");function u(t){return t&&t.__esModule?t:{default:t}}e.default={props:{show:{type:Boolean,default:!1},setupData:{type:Object,default:null},grabfoodData:{type:Object,default:null}},components:{setupSection:o.default,setupCategory:d.default,setupItem:l.default},mixins:[r.default],data:function(){return{loadingSubmit:!1,activeStep:"section",steps:["section","category","item"],completeSteps:["section"],formData:{store_grabfood_id:this.grabfoodData.id}}},watch:{setupData:{deep:!0,immediate:!0,handler:function(t){this.formData.store_grabfood_id=this.grabfoodData.id}}},methods:{submit:function(){this.$emit("submit")},handleClickStep:function(t,e){var a=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&"section"===this.activeStep||(this.completeSteps=[],this.activeStep=t,this.steps.map(function(t,i){i<=e&&a.completeSteps.push(t)}),console.log(this.activeStep))},handleSubmit:function(t,e,a){this.formData=(0,s.default)({},this.formData,t),console.log("handleSubmit",e,a),e&&a?this.handleClickStep(e,a):this.handleDone()},cancel:function(){console.log(this.show)},handleDone:function(){var t=this;return(0,n.default)(i.default.mark(function e(){var a;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingSubmit=!0,1===t.formData.category.is_alias&&(t.formData.category.id=t.formData.group_menu[0].categories[0].id),a={store_grabfood_id:t.formData.store_grabfood_id,name:t.formData.name,group_id:t.formData.group_menu[0].id,category:t.formData.category,days:[],menu:[]},e.next=5,t.formData.days.map(function(t){a.days.push(t)});case 5:if(!t.formData.menus){e.next=8;break}return e.next=8,t.formData.menus.map(function(){var e=(0,n.default)(i.default.mark(function e(n){var s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),s={product_id:n.id,addon_item:n.addon_item,product_type:n.type,is_available:1,alias_name:n.name,alias_price:n.sell_price_pos,description:n.description,available:[]},t.next=4,n.available.map(function(t){if(n.selected_days.includes(t.day_id)&&t.selected_time.length){var e={day:t.day_id,time:t.selected_time.join(","),status:1};s.available.push(e)}});case 4:a.menu.push(s);case 5:case"end":return t.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 8:console.log(a),(0,c.createItemSetupMenu)(a).then(function(e){t.loadingSubmit=!1,t.$message({type:"success",message:"Saved"}),t.$router.push({path:"/service-activation-v2/grabfood/manage"})}).catch(function(e){t.$message({type:"error",message:e.string}),t.loadingSubmit=!1});case 10:case"end":return e.stop()}},e,t)}))()}}}}}]);