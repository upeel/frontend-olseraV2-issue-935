(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-421d","chunk-2563","chunk-25638"],{"1BPP":function(t,e,i){"use strict";
/**
 * Vue Currency Input 1.20.3
 * (c) 2018-2020 Matthias Stiller
 * @license MIT
 */
function a(t,e,i){var a=document.createEvent("CustomEvent");a.initCustomEvent(e,!0,!0,i),t.dispatchEvent(a)}i.r(e),i.d(e,"CurrencyDirective",function(){return k}),i.d(e,"CurrencyInput",function(){return $}),i.d(e,"parseCurrency",function(){return p}),i.d(e,"setValue",function(){return v});var n=function(t,e,i){return e&&null!=t?Number(t.toFixed(i).split(".").join("")):t},s=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},r=function(t){return t.replace(/^0+(0$|[^0])/,"$1")},o=function(t,e){return(t.match(new RegExp(s(e),"g"))||[]).length},l=function(t,e){return t.substring(0,e.length)===e},d=function(t,e){return t.substring(0,t.indexOf(e))},c=[",",".","٫"],u=function(t){var e=t.currency,i=t.locale,a=t.precision,n=t.autoDecimalMode,s=t.valueAsInteger,r=new Intl.NumberFormat(i,"string"==typeof e?{currency:e,style:"currency"}:{minimumFractionDigits:1}),l=r.format(123456);this.locale=i,this.currency=e,this.digits=[0,1,2,3,4,5,6,7,8,9].map(function(t){return t.toLocaleString(i)}),this.decimalSymbol=o(l,this.digits[0])?l.substr(l.indexOf(this.digits[6])+1,1):void 0,this.groupingSymbol=l.substr(l.indexOf(this.digits[3])+1,1),this.minusSymbol=d(Number(-1).toLocaleString(i),this.digits[1]),void 0===this.decimalSymbol?this.minimumFractionDigits=this.maximumFractionDigits=0:"number"==typeof a?this.minimumFractionDigits=this.maximumFractionDigits=a:"object"!=typeof a||n||s?"string"==typeof e?(this.minimumFractionDigits=r.resolvedOptions().minimumFractionDigits,this.maximumFractionDigits=r.resolvedOptions().maximumFractionDigits):this.minimumFractionDigits=this.maximumFractionDigits=2:(this.minimumFractionDigits=a.min||0,this.maximumFractionDigits=void 0!==a.max?a.max:20),"string"==typeof e?(this.prefix=d(l,this.digits[1]),this.negativePrefix=d(r.format(-1),this.digits[1]),this.suffix=l.substring(l.lastIndexOf(this.decimalSymbol?this.digits[0]:this.digits[6])+1)):(this.prefix=(e||{}).prefix||"",this.negativePrefix=""+this.minusSymbol+this.prefix,this.suffix=(e||{}).suffix||"")};u.prototype.parse=function(t){var e=this.isNegative(t);t=this.normalizeDigits(t),t=this.stripCurrencySymbol(t),t=this.stripMinusSymbol(t);var i=this.decimalSymbol?"("+s(this.decimalSymbol)+"\\d*)?":"",a=t.match(new RegExp("^"+this.integerPattern()+i+"$"));return a?Number((e?"-":"")+this.onlyDigits(a[1])+"."+this.onlyDigits(a[3]||"")):null},u.prototype.format=function(t,e){return void 0===e&&(e={minimumFractionDigits:this.minimumFractionDigits,maximumFractionDigits:this.maximumFractionDigits}),"string"==typeof this.currency?t.toLocaleString(this.locale,Object.assign({},{style:"currency",currency:this.currency},e)):this.insertCurrencySymbol(Math.abs(t).toLocaleString(this.locale,e),t<0||0===t&&1/t<0)},u.prototype.integerPattern=function(){return"(0|[1-9]\\d{0,2}("+s(this.groupingSymbol)+"?\\d{3})*)"},u.prototype.toFraction=function(t){return""+this.digits[0]+this.decimalSymbol+this.onlyLocaleDigits(t.substr(1)).substr(0,this.maximumFractionDigits)},u.prototype.isFractionIncomplete=function(t){return!!this.normalizeDigits(t).match(new RegExp("^"+this.integerPattern()+s(this.decimalSymbol)+"$"))},u.prototype.isNegative=function(t){return l(t,this.negativePrefix)||l(t.replace("-",this.minusSymbol),this.minusSymbol)},u.prototype.insertCurrencySymbol=function(t,e){return""+(e?this.negativePrefix:this.prefix)+t+this.suffix},u.prototype.stripMinusSymbol=function(t){return t.replace("-",this.minusSymbol).replace(this.minusSymbol,"")},u.prototype.stripCurrencySymbol=function(t){return t.replace(this.negativePrefix,"").replace(this.prefix,"").replace(this.suffix,"")},u.prototype.normalizeDecimalSymbol=function(t,e){var i=this;return c.forEach(function(a){t=t.substr(0,e)+t.substr(e).replace(a,i.decimalSymbol)}),t},u.prototype.normalizeDigits=function(t){return"0"!==this.digits[0]&&this.digits.forEach(function(e,i){t=t.replace(new RegExp(e,"g"),i)}),t},u.prototype.onlyDigits=function(t){return this.normalizeDigits(t).replace(/\D+/g,"")},u.prototype.onlyLocaleDigits=function(t){return t.replace(new RegExp("[^"+this.digits.join("")+"]*","g"),"")};var m={locale:void 0,currency:"EUR",valueAsInteger:!1,distractionFree:!0,precision:void 0,autoDecimalMode:!1,valueRange:void 0,allowNegative:!0},p=function(t,e){var i=Object.assign({},m,e),a=new u(i);return n(a.parse(t),i.valueAsInteger,a.maximumFractionDigits)},v=function(t,e){return a(t,"format",{value:e})},_=function(t,e){return t.setSelectionRange(e,e)},h=function(t,e){if(t===e)return!0;if(!t||!e||"object"!=typeof t||"object"!=typeof e)return!1;var i=Object.keys(t);return i.length===Object.keys(e).length&&(!!i.every(Object.prototype.hasOwnProperty.bind(e))&&i.every(function(i){return h(t[i],e[i])}))},g=function(t){this.numberFormat=t};g.prototype.conformToMask=function(t,e){var i=this;void 0===e&&(e="");var a=this.numberFormat.isNegative(t),n=t;n=this.numberFormat.stripCurrencySymbol(n);var s=function(t){if(""===t&&a&&e!==i.numberFormat.negativePrefix)return"";if(i.numberFormat.maximumFractionDigits>0){if(i.numberFormat.isFractionIncomplete(t))return t;if(l(t,i.numberFormat.decimalSymbol))return i.numberFormat.toFraction(t)}return null}(n=this.numberFormat.stripMinusSymbol(n));if(null!=s)return this.numberFormat.insertCurrencySymbol(s,a);var o=n.split(this.numberFormat.decimalSymbol),d=o[0],c=o.slice(1),u=r(this.numberFormat.onlyDigits(d)),m=this.numberFormat.onlyDigits(c.join("")).substr(0,this.numberFormat.maximumFractionDigits),p=c.length>0&&0===m.length,v=""===u&&a&&(e===t.slice(0,-1)||e!==this.numberFormat.negativePrefix);return p||v?e:u.match(/\d+/)?{numberValue:Number((a?"-":"")+u+"."+m),fractionDigits:m}:""};var f=function(t){this.numberFormat=t};f.prototype.conformToMask=function(t){if(""===t)return"";var e=this.numberFormat.isNegative(t),i=""===this.numberFormat.stripMinusSymbol(t)?-0:Number((e?"-":"")+r(this.numberFormat.onlyDigits(t)))/Math.pow(10,this.numberFormat.minimumFractionDigits);return{numberValue:i,fractionDigits:i.toFixed(this.numberFormat.minimumFractionDigits).slice(-this.numberFormat.minimumFractionDigits)}};var b=Math.pow(2,53)-1,y=function(t,e,i){var a=i.$CI_DEFAULT_OPTIONS,n="input"===t.tagName.toLowerCase()?t:t.querySelector("input");if(!n)throw new Error("No input element found");var s=Object.assign({},a||m,e),r=s.distractionFree,o=s.autoDecimalMode,l=s.valueRange;"boolean"==typeof r&&(s.distractionFree={hideCurrencySymbol:r,hideNegligibleDecimalDigits:r,hideGroupingSymbol:r}),s.valueRange=l?{min:void 0!==l.min?Math.max(l.min,-b):-b,max:void 0!==l.max?Math.min(l.max,b):b}:{min:-b,max:b},o?(s.distractionFree.hideNegligibleDecimalDigits=!1,n.setAttribute("inputmode","numeric")):n.setAttribute("inputmode","decimal");var d=new u(s);return n.$ci=Object.assign({},n.$ci||{numberValue:null},{options:s,numberMask:s.autoDecimalMode?new f(d):new g(d),currencyFormat:d}),n},x=function(t,e){var i=t.$ci,s=i.numberValue,r=i.currencyFormat,o=i.options;a(t,e,{numberValue:s=n(s,o.valueAsInteger,r.maximumFractionDigits)})},S=function(t,e,i){void 0===i&&(i=!1);var a=t.$ci,n=a.currencyFormat,s=a.options;C(t,null!=e?n.format(function(t,e){return Math.min(Math.max(t,e.min),e.max)}(e,s.valueRange)):null),(e!==t.$ci.numberValue||i)&&x(t,"change")},C=function(t,e,i){void 0===i&&(i=!1),function(t,e,i){if(null!=e){var a=t.$ci,n=a.focus,s=a.decimalSymbolInsertedAt,r=a.options,o=a.numberMask,l=a.currencyFormat,d=a.previousConformedValue,c=r.allowNegative,u=r.distractionFree;void 0!==s&&(e=l.normalizeDecimalSymbol(e,s),t.$ci.decimalSymbolInsertedAt=void 0);var m,p=o.conformToMask(e,d);if("object"==typeof p){var v=p.numberValue,_=p.fractionDigits,h=l.maximumFractionDigits,g=l.minimumFractionDigits;n&&(g=h),g=i?_.replace(/0+$/,"").length:Math.min(g,_.length),m=v>b?d:l.format(v,{useGrouping:!(n&&u.hideGroupingSymbol),minimumFractionDigits:g,maximumFractionDigits:h})}else m=p;c||(m=m.replace(l.negativePrefix,l.prefix)),n&&u.hideCurrencySymbol&&(m=m.replace(l.negativePrefix,l.minusSymbol).replace(l.prefix,"").replace(l.suffix,"")),t.value=m,t.$ci.numberValue=l.parse(t.value)}else t.value=t.$ci.numberValue=null;t.$ci.previousConformedValue=t.value}(t,e,i),x(t,"input")},E=function(t){t.addEventListener("input",function(e){if(!e.detail){var i=t.value,a=t.selectionStart,n=t.$ci,s=n.currencyFormat,r=n.options;C(t,i),t.$ci.focus&&_(t,function(t,e,i,a,n){var s=a.prefix,r=a.suffix,l=a.decimalSymbol,d=a.maximumFractionDigits,c=a.groupingSymbol,u=e.indexOf(l)+1,m=e.length-i;return Math.abs(t.length-e.length)>1&&i<=u?t.indexOf(l)+1:t.substr(i,1)===c&&o(t,c)===o(e,c)+1?t.length-m-1:(!n.autoDecimalMode&&0!==u&&i>u&&a.onlyDigits(e.substr(u)).length-1===d&&(m-=1),n.distractionFree.hideCurrencySymbol?t.length-m:Math.max(t.length-Math.max(m,r.length),0===s.length?0:s.length+1))}(t.value,i,a,s,r))}},{capture:!0}),t.addEventListener("keypress",function(e){c.includes(e.key)&&(t.$ci.decimalSymbolInsertedAt=t.selectionStart)}),t.addEventListener("format",function(e){var i=t.$ci,a=i.currencyFormat,n=i.options,s=i.numberValue,r=function(t){return n.valueAsInteger&&null!=t?t/Math.pow(10,a.maximumFractionDigits):t}(e.detail.value);s!==r&&S(t,r)}),t.addEventListener("focus",function(){t.$ci.focus=!0;var e=t.$ci.options.distractionFree,i=e.hideCurrencySymbol,a=e.hideGroupingSymbol,n=e.hideNegligibleDecimalDigits;(i||a||n)&&setTimeout(function(){var e=t.value,i=t.selectionStart,a=t.selectionEnd;e&&C(t,e,n),Math.abs(i-a)>0?t.setSelectionRange(0,t.value.length):_(t,function(t,e,i,a){var n=a;return e.distractionFree.hideCurrencySymbol&&(n-=t.prefix.length),e.distractionFree.hideGroupingSymbol&&(n-=o(i.substring(0,a),t.groupingSymbol)),Math.max(0,n)}(t.$ci.currencyFormat,t.$ci.options,e,i))})}),t.addEventListener("blur",function(){t.$ci.focus=!1,null!=t.$ci.numberValue&&S(t,t.$ci.numberValue)}),t.addEventListener("change",function(e){e.detail||x(t,"change")})},k={bind:function(t,e,i){var a=e.value,n=i.context,s=y(t,a,n);E(s),v(s,s.$ci.currencyFormat.parse(s.value))},componentUpdated:function(t,e,i){var a=e.value,n=e.oldValue,s=i.context;if(!h(a,n)){var r=y(t,a,s);S(r,r.$ci.numberValue,!0)}}},$={render:function(t){var e=this;return t("input",{directives:[{name:"currency",value:this.options}],on:Object.assign({},this.$listeners,{change:function(t){t.detail&&e.$emit("change",t.detail.numberValue)},input:function(t){t.detail&&e.value!==t.detail.numberValue&&e.$emit("input",t.detail.numberValue)}})})},directives:{currency:k},name:"CurrencyInput",props:{value:{type:Number,default:null},locale:{type:String,default:void 0},currency:{type:[String,Object],default:void 0},distractionFree:{type:[Boolean,Object],default:void 0},precision:{type:[Number,Object],default:void 0},autoDecimalMode:{type:Boolean,default:void 0},valueAsInteger:{type:Boolean,default:void 0},valueRange:{type:Object,default:void 0},allowNegative:{type:Boolean,default:void 0}},mounted:function(){this.setValue(this.value)},computed:{options:function(){var t=this,e=Object.assign({},this.$CI_DEFAULT_OPTIONS||m);return Object.keys(m).forEach(function(i){void 0!==t[i]&&(e[i]=t[i])}),e}},watch:{value:"setValue"},methods:{setValue:function(t){v(this.$el,t)}}},w={install:function(t,e){void 0===e&&(e={});var i=e.componentName;void 0===i&&(i=$.name);var a=e.directiveName;void 0===a&&(a="currency");var n=e.globalOptions;void 0===n&&(n={}),t.prototype.$CI_DEFAULT_OPTIONS=Object.assign({},m,n),t.component(i,$),t.directive(a,k),t.prototype.$parseCurrency=function(t,e){return void 0===e&&(e={}),p(t,Object.assign({},n,e))}}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(w),e.default=w},"1X9q":function(t,e,i){"use strict";i.r(e);var a=i("dLXL"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,function(){return a[t]})}(s);e.default=n.a},"48VU":function(t,e,i){"use strict";i.r(e);var a=i("N4XT"),n=i("xMrP");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,function(){return n[t]})}(s);var r=i("KHd+"),o=Object(r.a)(n.default,a.a,a.b,!1,null,null,null);o.options.__file="List.vue",e.default=o.exports},Bg2m:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"flat-list"},[t._l(t.item,function(e){return i("div",{key:e.id},[i("div",{staticClass:"flex-container"},[i("div",{staticClass:"flex-container"},[i("div",[i("el-button",{attrs:{size:"mini",type:"danger",circle:"",disabled:t.disabledButton,icon:"el-icon-close"},on:{click:function(i){return t.remove(e.id)}}})],1),t._v(" "),i("div",{staticClass:"full-width ml-24"},[i("img",{staticClass:"force-square-image-80 img-circle",staticStyle:{width:"80px"},attrs:{src:e.photo_md,alt:e.product_name}})])]),t._v(" "),i("div",{staticClass:"px-8"},[i("div",{staticClass:"font-bold"},[t._v(t._s(e.product_name))]),t._v(" "),i("div",{staticClass:"flex-container"},[e.variant.length>0?i("div",{staticClass:"mr-4"},[i("small",[t._v(t._s(t.lang.variant))]),t._v(" "),i("div",[i("el-select",{attrs:{size:"mini",placeholder:t.lang.please_select},on:{change:t.dataChanges},model:{value:e.product_variant_id,callback:function(i){t.$set(e,"product_variant_id",i)},expression:"i.product_variant_id"}},[i("el-option",{attrs:{label:t.lang.all,value:0}}),t._v(" "),t._l(e.variant,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1)]):t._e(),t._v(" "),i("div",[i("small",[t._v(t._s(t.lang.qty))]),t._v(" "),i("div",[i("el-input",{attrs:{type:"number",size:"mini"},on:{change:t.dataChanges},model:{value:e.qty,callback:function(i){t.$set(e,"qty",i)},expression:"i.qty"}})],1)])])])]),t._v(" "),i("el-divider"),t._v(" "),t._l(e.children.data,function(e){return i("div",{key:e.id},[i("div",{staticClass:"flex-container"},[i("div",{staticClass:"flex-container"},[i("div",[i("el-button",{attrs:{size:"mini",type:"danger",circle:"",disabled:t.disabledButton,icon:"el-icon-close"},on:{click:function(i){return t.remove(e.id)}}})],1),t._v(" "),i("div",{staticClass:"full-width ml-24"},[i("img",{staticClass:"force-square-image-80 img-circle",staticStyle:{width:"80px"},attrs:{src:e.photo_md,alt:e.product_name}})])]),t._v(" "),i("div",{staticClass:"px-8"},[t._v("\n          "+t._s(e.product_name)+"\n          "),i("div",{staticClass:"flex-container"},[i("div",{staticClass:"full-width"},[e.variant.length>0?[i("small",[t._v(t._s(t.lang.variant))]),t._v(" "),i("div",[i("el-select",{attrs:{size:"mini",placeholder:t.lang.please_select},on:{change:t.dataChanges},model:{value:e.product_variant_id,callback:function(i){t.$set(e,"product_variant_id",i)},expression:"j.product_variant_id"}},[i("el-option",{attrs:{label:t.lang.all,value:0}}),t._v(" "),t._l(e.variant,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})],2)],1)]:t._e()],2),t._v(" "),i("div",[i("small",[t._v(t._s(t.lang.qty))]),t._v(" "),i("div",[i("el-input",{attrs:{type:"number",size:"mini"},on:{change:t.dataChanges},model:{value:e.qty,callback:function(i){t.$set(e,"qty",i)},expression:"j.qty"}})],1)])])])]),t._v(" "),i("hr")])})],2)}),t._v(" "),i("div",{staticClass:"align-right text-right",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{loading:t.loading,disabled:t.disabledButton,type:"success"},on:{click:t.saveManageItems}},[t._v("\n      "+t._s(t.lang.save)+"\n    ")])],1)],2)},n=[]},DChC:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(i("QbLZ")),n=s(i("Ljqw"));function s(t){return t&&t.__esModule?t:{default:t}}var r={mixins:[i("6y4V").checkCustomPermission],computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores?this.$store.state.userStores.lang:{}},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}},rootLang:function(){return this.$lang[this.langId]},headers:function(){var t=this.$store.getters.token;return this.$store.getters.webviewMode&&(t=this.$store.getters.webviewToken),{Authorization:"Bearer "+t.access_token}},baseURL:function(){return n.default},loggedInUser:function(){return this.$store.state.user.loggedInUser},stageLevel:function(){return"sit"},defaultAccessByStore:function(){return["setdemo1","allinolsera2"]},wejayafoodAccessByStore:function(){return["setdemo1","allinolsera2","ayammrotholpusat","ayammrotholdramaga"]},saveToAllAccessStore:function(){return["setdemo1","allinolsera2","siliwangidutagarden","barokahfrozenfood"]},outlets:function(){var t=[{name:this.$store.state.userStores.lang.all,store_id:0,url_id:"all"}],e=[];return this.$store.getters.stores.map(function(i){e.includes(i.store_id)||i.is_store_active&&(t.push((0,a.default)({},i)),e.push(i.store_id))}),t},tokopediaActiveStore:function(){return this.$store.state.tokopediaActiveStore},shopeeActiveStore:function(){return this.$store.state.shopeeActiveStore}}};e.default=r},GfDP:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{item:{type:Object,default:null}},computed:{lang:function(){return this.$store.state.userStores.lang}}}},LUnu:function(t,e,i){"use strict";i.r(e);var a=i("bsQa"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,function(){return a[t]})}(s);e.default=n.a},N4XT:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dd-handle"},[i("div",{staticClass:"flex-container flex-container--wrap"},[t._m(0),t._v(" "),i("div",{staticClass:"mr-4"},[i("el-avatar",{attrs:{src:t.item.photo_md}})],1),t._v(" "),i("div",[t._v("\n      "+t._s(t.item.product_name)+"\n      "),i("div",{staticClass:"flex-container"},[i("div",[0!==t.item.product_variant_id&&t.item.product_variant_name?i("div",[i("small",[t._v(t._s(t.lang.variant))]),t._v(" "+t._s(t.item.product_variant_name)+"\n          ")]):t._e(),t._v(" "),0===t.item.product_variant_id?i("div",[i("small",[t._v(t._s(t.lang.variant))]),t._v(" "+t._s(t.lang.all)+"\n          ")]):t._e(),t._v(" "),i("div",[i("small",[t._v(t._s(t.lang.qty))]),t._v(" "+t._s(t.item.qty)+"\n          ")])])])])])])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hand"},[e("i",{staticClass:"el-icon-rank"})])}]},RKwI:function(t,e,i){"use strict";i.r(e);var a=i("whcv"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,function(){return a[t]})}(s);e.default=n.a},SUDN:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},"Wo/Y":function(t,e,i){var a=i("USwo"),n=i("d5R0");a(a.S+a.F*(Number.parseInt!=n),"Number",{parseInt:n})},YDBu:function(t,e,i){t.exports={default:i("vQzd"),__esModule:!0}},bsQa:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i("P2sY"));e.default={props:{item:{type:Array,default:null},itemRemoved:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},data:function(){return{disabledButton:!1,loading:!1}},computed:{lang:function(){return this.$store.state.userStores.lang}},watch:{itemRemoved:function(t){!0===t&&(this.disabledButton=!1)}},methods:{remove:function(t){this.disabledButton=!0,this.$emit("remove",t)},clearDisableButton:function(){this.disabledButton=!1},dataChanges:function(){},saveManageItems:function(){var t=(0,a.default)([],this.item);this.$emit("data-changes",t)}}}},bsbP:function(t,e,i){"use strict";i.r(e);var a=i("konp"),n=i("RKwI");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,function(){return n[t]})}(s);var r=i("KHd+"),o=Object(r.a)(n.default,a.a,a.b,!1,null,null,null);o.options.__file="AddItem.vue",e.default=o.exports},d5R0:function(t,e,i){var a=i("7whZ").parseInt,n=i("jM5n").trim,s=i("SUDN"),r=/^[-+]?0[xX]/;t.exports=8!==a(s+"08")||22!==a(s+"0x16")?function(t,e){var i=n(String(t),3);return a(i,e>>>0||(r.test(i)?16:10))}:a},dLXL:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=f(i("14Xm")),n=f(i("4d7F")),s=f(i("D3Ub")),r=f(i("QbLZ")),o=f(i("YDBu")),l=f(i("P2sY")),d=f(i("m1cH")),c=i("xCek"),u=f(i("vDqi")),m=f(i("t2rG")),p=f(i("l9k+")),v=f(i("48VU")),_=f(i("bsbP")),h=f(i("Ckak")),g=i("6y4V");function f(t){return t&&t.__esModule?t:{default:t}}var b=i("wd/R");e.default={components:{draggable:m.default,EditList:p.default,List:v.default,AddItem:_.default,InputMoney:h.default},mixins:[g.checkCustomPermission],data:function(){return{loading:!1,disabledSave:!0,data:{},dialog:{deleteProduct:!1},items:[],enabledSaveSort:!1,savingSorts:!1,disabledSaveSorts:!1,showSaveSorts:!1,itemAdded:!1,disabledButton:!1,isEditing:!1,dialogFormVisible:!1,dialogAddItemFormVisible:!1,dataGoingToSave:[],changePhoto:!1,tmpE:{},state:{itemRemoved:!1},headers:{Authorization:"Bearer "+this.$store.state.user.token.access_token},tempItems:[],loadingManageItems:!1}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},token:function(){return this.$store.state.user.token},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},uploadPhotoUrl:function(){return(0,c.baseApi)(this.selectedStore.url_id,this.langId,"productcombo/upload")},tmp:function(){return{items:[].concat((0,d.default)(this.items))}},fileList:function(){if(this.data.photo_md){var t=[];return t.push({url:this.data.photo_md,name:this.data.photo}),t}},userRole:function(){var t=this.$store.getters.selectedStore;return{role_id:t.role_id,role_name:t.role_name,is_pos_only:t.is_pos_only,is_mobile:t.is_mobile}}},beforeMount:function(){this.handleCustomPermissionSinglePage("catalog/productcombo","show")},mounted:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,u.default)({method:"GET",url:(0,c.baseApi)(this.selectedStore.url_id,this.langId,"productcombo/"+this.$route.params.id),headers:e}).then(function(e){t.data=e.data.data,t.items=t.data.items.data,t.loading=!1}).catch(function(){t.data=null,t.items=[],t.loading=!1})},handleUploadFailed:function(t){this.$notify({type:"warning",title:"Failed",message:t})},handleUploadSuccess:function(t){this.data=t.data,this.changePhoto=!1},sortsChanged:function(){this.disabledSaveSorts=!1,this.showSaveSorts=!0},handleAddItem:function(t){var e=this;this.itemAdded=!1,this.disabledSaveSorts=!0,this.$set(t,"id",this.data.id),t.items=t.items.join(",");var i={Authorization:"Bearer "+this.token.access_token};(0,u.default)({method:"POST",url:(0,c.baseApi)(this.selectedStore.url_id,this.langId,"productcombo/additem"),headers:i,data:t}).then(function(t){e.$message({type:"success",title:"Success",message:"Success"}),e.data=t.data.data,e.items=e.data.items.data,e.itemAdded=!0,e.disabledSaveSorts=!1,e.dialogAddItemFormVisible=!1,e.$refs.additem.refreshData()}).catch(function(t){e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.itemAdded=!1,e.disabledSaveSorts=!0})},handleSaveSorts:function(t){var e=this;this.disabledSaveSorts=!0;var i={Authorization:"Bearer "+this.token.access_token},a=this.items;a=a.map(function(t){var e={id:t.id,name:t.product_name,children:[]};return t.children.data&&t.children.data.length>0&&t.children.data.map(function(t){e.children.push({id:t.id,name:t.product_name})}),e});var n={id:this.data.id,sorted_ids:a};(0,u.default)({method:"POST",url:(0,c.baseApi)(this.selectedStore.url_id,this.langId,"productcombo/sortingitems"),headers:i,data:n}).then(function(t){e.data=t.data.data,e.items=n.items.data,e.showSaveSorts=!1,e.$message({type:"success",message:"Success"})}).catch(function(t){e.disabledSaveSorts=!1,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})},remove:function(){var t=this;this.loading=!0;var e={Authorization:"Bearer "+this.token.access_token};(0,u.default)({method:"delete",url:(0,c.baseApi)(this.selectedStore.url_id,this.langId,"productcombo/"+this.data.id),headers:e}).then(function(){t.$message({type:"success",message:"Success"}),t.$router.push({path:"/catalog/package"})}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1})},edit:function(){this.isEditing=!0,this.tmpE=(0,l.default)({},this.data),this.tmpE.buy_price=(0,o.default)(this.tmpE.buy_price,0),this.tmpE.sell_price=(0,o.default)(this.tmpE.sell_price,0),this.tmpE.market_price=(0,o.default)(this.tmpE.market_price,0),this.tmpE.sell_price_pos=(0,o.default)(this.tmpE.sell_price_pos,0),this.tmpE.comission=(0,o.default)(this.tmpE.comission,0),console.log(this.tmpE)},cancelEdit:function(){this.isEditing=!1},saveEdit:function(){var t=this;this.loading=!0,this.disabledButton=!0;var e={Authorization:"Bearer "+this.token.access_token},i=(0,r.default)({},this.tmpE);i.published_date=b(i.published_date).format("YYYY-MM-DD"),(0,u.default)({method:"PUT",url:(0,c.baseApi)(this.selectedStore.url_id,this.langId,"productcombo/"+this.data.id),headers:e,data:i}).then(function(e){t.$message({type:"success",message:"Success"}),t.data=e.data.data,t.loading=!1,t.isEditing=!1,t.disabledButton=!1}).catch(function(e){404!==e.response.data.error.status_code&&t.$notify({type:"warning",title:e.response.data.error.message,message:e.response.data.error.error}),t.loading=!1,t.isEditing=!1,t.disabledButton=!1})},handleManageItems:function(){var t=[];this.data.items.data.length>0&&this.data.items.data.map(function(e){t.push({id:e.id,photo_md:e.photo_md,product_name:e.product_name,product_variant_id:e.product_variant_id,qty:e.qty,variant:e.variant,children:e.children})}),this.tempItems=(0,r.default)({},t),this.dialogFormVisible=!0},handleRemoveItem:function(t){var e=this,i={Authorization:"Bearer "+this.token.access_token};(0,u.default)({method:"POST",url:(0,c.baseApi)(this.selectedStore.url_id,this.langId,"productcombo/removeitem"),headers:i,data:{id:this.data.id,pk:t}}).then(function(t){e.$message({type:"success",message:"Success"}),e.data=t.data.data,e.items=e.data.items.data,e.state.itemRemoved=!0;var i=[];e.data.items.data.length>0&&e.data.items.data.map(function(t){i.push({id:t.id,photo_md:t.photo_md,product_name:t.product_name,product_variant_id:t.product_variant_id,qty:t.qty,variant:t.variant,children:t.children})}),e.tempItems=(0,r.default)({},i),e.$refs.editlist.clearDisableButton()}).catch(function(t){404!==t.response.data.error.status_code&&e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error}),e.state.itemRemoved=!1})},handleDataChanges:function(t){this.dataGoingToSave=t},backToList:function(){this.$router.push({path:"/catalog/package"})},beforeUpload:function(t){var e="image/jpeg"===t.type,i="image/png"===t.type,a=t.size/1024/1024<2;return e||i||this.$message.error(this.$lang[this.langId].error_upload_photo),a||this.$message.error(this.$lang[this.langId].error_upload_size),(e||i)&&a},saveManageItems:function(t){var e=this;return(0,s.default)(a.default.mark(function i(){var s,r;return a.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return e.loadingManageItems=!0,s=[],i.next=4,t.map(function(t){s.push(t),t.children.data.length>0&&t.children.data.map(function(t){s.push(t)})});case 4:e.disabledSaveSorts=!0,e.disabledButton=!0,r={Authorization:"Bearer "+e.token.access_token},new n.default(function(t,i){s.forEach(function(i,a,n){(0,u.default)({method:"POST",url:(0,c.baseApi)(e.selectedStore.url_id,e.langId,"productcombo/updateitem"),headers:r,params:{id:e.data.id,pk:i.id,qty:i.qty,product_variant_id:i.product_variant_id}}).then(function(){a===n.length-1&&t()}).catch(function(t){e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})})})}).then(function(){e.disabledButton=!1,e.dialogFormVisible=!1,e.loadingManageItems=!1,e.loadData(),e.$message({type:"success",message:"Update success"})}).catch(function(t){e.disabledButton=!1,e.dialogFormVisible=!0,e.loadingManageItems=!1,e.$notify({type:"warning",title:t.response.data.error.message,message:t.response.data.error.error})});case 9:case"end":return i.stop()}},i,e)}))()},handleCurrency:function(t,e){"sellPriceStore"===t?e<0&&(this.tmpE.sell_price_pos=0):"sellPriceOnline"===t?e<0&&(this.tmpE.sell_price=0):"buyPrice"===t?e<0&&(this.tmpE.buy_price=0):"marketPrice"===t?e<0&&(this.tmpE.market_price=0):"comission"===t?e<0&&(this.tmpE.comission=0):"loyaltiPoint"===t&&e<0&&(this.tmpE.loyalty_points=null)},dialogAddHide:function(){this.dialogAddItemFormVisible=!1}}}},jM5n:function(t,e,i){var a=i("USwo"),n=i("yQFZ"),s=i("S4vA"),r=i("SUDN"),o="["+r+"]",l=RegExp("^"+o+o+"*"),d=RegExp(o+o+"*$"),c=function(t,e,i){var n={},o=s(function(){return!!r[t]()||"​"!="​"[t]()}),l=n[t]=o?e(u):r[t];i&&(n[i]=l),a(a.P+a.F*o,"String",n)},u=c.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(d,"")),t};t.exports=c},konp:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.stateAddingItem,expression:"stateAddingItem"}],ref:"packageForm",attrs:{model:t.form,rules:t.formRules}},[i("el-form-item",{attrs:{prop:"items",label:t.lang.product,"label-width":"200px"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.lang.info_auto_complete_product,"remote-method":t.searchProducts,loading:t.searching,multiple:"",filterable:"",remote:""},model:{value:t.form.items,callback:function(e){t.$set(t.form,"items",e)},expression:"form.items"}},t._l(t.searchResultProducts,function(t){return i("el-option",{key:t.product_id,attrs:{label:t.name,value:t.product_id}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.lang.qty,prop:"qty","label-width":"120px"}},[i("el-input",{attrs:{type:"number",min:1},model:{value:t.form.qty,callback:function(e){t.$set(t.form,"qty",e)},expression:"form.qty"}})],1),t._v(" "),i("el-form-item",{staticClass:"text-right"},[i("el-button",{on:{click:t.hideDialog}},[t._v("\n        "+t._s(t.lang.cancel)+"\n      ")]),t._v(" "),i("el-button",{attrs:{disabled:t.disabledButton,type:"primary"},on:{click:t.save}},[t._v("\n        "+t._s(this.$lang[t.langId].confirm)+"\n      ")])],1)],1)],1)},n=[]},"l9k+":function(t,e,i){"use strict";i.r(e);var a=i("Bg2m"),n=i("LUnu");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,function(){return n[t]})}(s);var r=i("KHd+"),o=Object(r.a)(n.default,a.a,a.b,!1,null,null,null);o.options.__file="_editList.vue",e.default=o.exports},pbie:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content-wrapper"},[i("section",{staticClass:"content"},[i("el-row",{attrs:{gutter:10}},[i("el-col",{attrs:{md:16}},[i("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card"},[i("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[i("h4",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(t.data.name))]),t._v(" "),i("div",[t.isEditing?[i("el-button",{attrs:{type:"text"},on:{click:t.cancelEdit}},[t._v("\n                  "+t._s(t.lang.cancel)+"\n                ")]),t._v(" "),i("el-button",{attrs:{disabled:t.disabledButton,icon:"el-icon-check",type:"success"},on:{click:t.saveEdit}},[t._v("\n                  "+t._s(t.lang.save)+"\n                ")])]:[i("el-button",{attrs:{type:"success",plain:""},on:{click:t.backToList}},[t._v(t._s(t.lang.back))]),t._v(" "),i("button-action-authenticated",{attrs:{permission:["catalog/productcombo","edit"],icon:"el-icon-edit",type:"primary"},on:{click:t.edit}},[t._v("\n                  "+t._s(t.lang.edit)+"\n                ")])]],2)]),t._v(" "),i("div",{staticClass:"card-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-sm-3"},[i("div",{staticClass:"package-img"},[t.changePhoto?[i("el-upload",{staticStyle:{width:"100%","max-width":"100%"},attrs:{drag:"","file-list":t.fileList,action:t.uploadPhotoUrl,data:{id:t.data.id},headers:t.headers,"on-error":t.handleUploadFailed,"on-success":t.handleUploadSuccess,"before-upload":t.beforeUpload}},[i("i",{staticClass:"el-icon-upload"}),t._v(" "),i("div",{staticClass:"el-upload__text"},[t._v(t._s(t.$lang[t.langId].drop_file_or_click))])]),t._v(" "),i("el-button",{staticClass:"btn-block",attrs:{icon:"el-icon-close",type:"text"},on:{click:function(e){t.changePhoto=!1}}},[t._v("\n                      "+t._s(t.lang.cancel)+"\n                    ")])]:[i("img",{staticStyle:{"margin-bottom":"12px"},attrs:{src:t.data.photo_md,alt:t.data.name}}),t._v(" "),i("button-action-authenticated",{staticClass:"btn-block",attrs:{permission:["catalog/productcombo","edit"],icon:"el-icon-picture",type:"info"},on:{click:function(e){t.changePhoto=!0}}},[t._v("\n                    "+t._s(t.lang.change_photo)+"\n                  ")])]],2)]),t._v(" "),i("div",{staticClass:"col-sm-9"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"detail-section"},[i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.product_combo_name))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-input",{attrs:{size:"mini",type:"text"},model:{value:t.tmpE.name,callback:function(e){t.$set(t.tmpE,"name",e)},expression:"tmpE.name"}})]:[t._v("\n                            "+t._s(t.data.name)+"\n                          ")]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.sku))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-input",{attrs:{size:"mini",type:"text"},model:{value:t.tmpE.sku,callback:function(e){t.$set(t.tmpE,"sku",e)},expression:"tmpE.sku"}})]:[t.data.sku?[t._v("\n                              "+t._s(t.data.sku)+"\n                            ")]:[t._v("\n                              -\n                            ")]]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.description))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-input",{attrs:{size:"mini",type:"textarea",autosize:""},model:{value:t.tmpE.description,callback:function(e){t.$set(t.tmpE,"description",e)},expression:"tmpE.description"}})]:[t.data.description?[t._v("\n                              "+t._s(t.data.description)+"\n                            ")]:[t._v("\n                              -\n                            ")]]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("el-row",{attrs:{gutter:5}},["ST"!==t.userRole.role_id&&"SS"!==t.userRole.role_id?i("el-col",{attrs:{md:12}},[i("div",{staticClass:"box-price"},[i("div",{staticClass:"box-price--label"},[t._v("\n                                "+t._s(t.lang.buy_price)+"\n                              ")]),t._v(" "),i("div",{staticClass:"box-price--value"},[t.isEditing?[i("div",{staticClass:"el-input el-input--mini"},[i("input-money",{on:{currency:function(e){return t.handleCurrency("buyPrice",t.tmpE.buy_price)}},model:{value:t.tmpE.buy_price,callback:function(e){t.$set(t.tmpE,"buy_price",e)},expression:"tmpE.buy_price"}})],1)]:[t._v("\n                                  "+t._s(t.data.fbuy_price)+"\n                                ")]],2)])]):t._e(),t._v(" "),i("el-col",{attrs:{md:12}},[i("div",{staticClass:"box-price"},[i("div",{staticClass:"box-price--label"},[t._v("\n                                "+t._s(t.lang.market_price)+"\n                              ")]),t._v(" "),i("div",{staticClass:"box-price--value"},[t.isEditing?[i("div",{staticClass:"el-input el-input--mini"},[i("input-money",{on:{currency:function(e){return t.handleCurrency("marketPrice",t.tmpE.market_price)}},model:{value:t.tmpE.market_price,callback:function(e){t.$set(t.tmpE,"market_price",e)},expression:"tmpE.market_price"}})],1)]:[t._v("\n                                  "+t._s(t.data.market_price)+"\n                                ")]],2)])]),t._v(" "),i("el-col",{attrs:{md:12}},[i("div",{staticClass:"box-price"},[i("div",{staticClass:"box-price--label"},[t._v("\n                                "+t._s(t.lang.online_selling_price)+"\n                              ")]),t._v(" "),i("div",{staticClass:"box-price--value"},[t.isEditing?[i("div",{staticClass:"el-input el-input--mini"},[i("input-money",{on:{currency:function(e){return t.handleCurrency("sellPriceOnline",t.tmpE.sell_price)}},model:{value:t.tmpE.sell_price,callback:function(e){t.$set(t.tmpE,"sell_price",e)},expression:"tmpE.sell_price"}})],1)]:[t._v("\n                                  "+t._s(t.data.fsell_price)+"\n                                ")]],2)])]),t._v(" "),i("el-col",{attrs:{md:12}},[i("div",{staticClass:"box-price"},[i("div",{staticClass:"box-price--label"},[t._v("\n                                "+t._s(t.lang.selling_price_in_store)+"\n                              ")]),t._v(" "),i("div",{staticClass:"box-price--value"},[t.isEditing?[i("div",{staticClass:"el-input el-input--mini"},[i("input-money",{on:{currency:function(e){return t.handleCurrency("sellPriceStore",t.tmpE.sell_price_pos)}},model:{value:t.tmpE.sell_price_pos,callback:function(e){t.$set(t.tmpE,"sell_price_pos",e)},expression:"tmpE.sell_price_pos"}})],1)]:[t._v("\n                                  "+t._s(t.data.fsell_price_pos)+"\n                                ")]],2)])])],1)],1),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.pos_sell_price_dynamic))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.tmpE.pos_sell_price_dynamic,callback:function(e){t.$set(t.tmpE,"pos_sell_price_dynamic",e)},expression:"tmpE.pos_sell_price_dynamic"}})]:[t.data.pos_sell_price_dynamic?[t._v("\n                              "+t._s(t.lang.yes)+"\n                            ")]:[t._v("\n                              "+t._s(t.lang.no)+"\n                            ")]]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.isEditing?t.lang.published:""))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.tmpE.published,callback:function(e){t.$set(t.tmpE,"published",e)},expression:"tmpE.published"}})]:t._e()],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.isEditing?this.$lang[t.langId].published_date:t.lang.published))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-date-picker",{attrs:{type:"date",placeholder:this.$lang[t.langId].pick_a_day},model:{value:t.tmpE.published_date,callback:function(e){t.$set(t.tmpE,"published_date",e)},expression:"tmpE.published_date"}})]:[t.data.published?[t._v("\n                              "+t._s(t.data.fpublished_date)+"\n                            ")]:[t._v("\n                              "+t._s(t.lang.not_published_yet)+"\n                            ")]]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(this.$lang[t.langId].comission))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("div",{staticClass:"el-input el-input--mini"},[i("input-money",{on:{currency:function(e){return t.handleCurrency("comission",t.tmpE.comission)}},model:{value:t.tmpE.comission,callback:function(e){t.$set(t.tmpE,"comission",e)},expression:"tmpE.comission"}})],1)]:[t._v("\n                            "+t._s(t.data.comission)+"\n                          ")]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("el-row",{attrs:{gutter:5}},[i("el-col",{attrs:{md:24}},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(this.$lang[t.langId].minimum_order))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-input-number",{attrs:{min:0},model:{value:t.tmpE.min_order,callback:function(e){t.$set(t.tmpE,"min_order",e)},expression:"tmpE.min_order"}})]:[t._v("\n                                "+t._s(t.data.min_order)+"\n                              ")]],2)]),t._v(" "),i("el-col",{attrs:{md:24}},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(this.$lang[t.langId].maximum_order))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-input-number",{attrs:{min:0},model:{value:t.tmpE.max_order,callback:function(e){t.$set(t.tmpE,"max_order",e)},expression:"tmpE.max_order"}})]:[t._v("\n                                "+t._s(t.data.max_order)+"\n                              ")]],2)])],1)],1),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.require_shipping))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.tmpE.require_shipping,callback:function(e){t.$set(t.tmpE,"require_shipping",e)},expression:"tmpE.require_shipping"}}),t._v(" "),1===t.tmpE.require_shipping?i("div",{staticStyle:{"margin-top":"6px"}},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.product_weight))])]),t._v(" "),i("el-input",{attrs:{type:"number"},model:{value:t.tmpE.weight,callback:function(e){t.$set(t.tmpE,"weight",e)},expression:"tmpE.weight"}},[i("template",{slot:"append"},[t._v("kg")])],2)],1):t._e()]:[t.data.require_shipping?[t._v("\n                              "+t._s(t.lang.yes)+"\n                              "),i("div",{staticStyle:{"margin-top":"6px"}},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.product_weight))])]),t._v("\n                                "+t._s(t.data.weight)+"\n                              ")])]:[t._v("\n                              "+t._s(t.lang.no)+"\n                            ")]]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.non_taxable))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.tmpE.non_taxable,callback:function(e){t.$set(t.tmpE,"non_taxable",e)},expression:"tmpE.non_taxable"}}),t._v(" "),t.tmpE.non_taxable?i("div",[t._v("\n                              "+t._s(t.lang.yes)+"\n                              "),i("div",{staticStyle:{"margin-top":"6px"}},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.product_weight))])]),t._v("\n                                "+t._s(t.data.weight)+"\n                              ")])]):i("div",[t._v("\n                              "+t._s(t.lang.no)+"\n                            ")])]:[t.data.non_taxable?[t._v("\n                              "+t._s(t.lang.yes)+"\n                              "),i("div",{staticStyle:{"margin-top":"6px"}},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.product_weight))])]),t._v("\n                                "+t._s(t.data.weight)+"\n                              ")])]:[t._v("\n                              "+t._s(t.lang.no)+"\n                            ")]]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.available_in_pos))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-switch",{attrs:{"active-value":0,"inactive-value":1},model:{value:t.tmpE.pos_hidden,callback:function(e){t.$set(t.tmpE,"pos_hidden",e)},expression:"tmpE.pos_hidden"}})]:[t.data.pos_hidden?[t._v("\n                              "+t._s(t.lang.no)+"\n                            ")]:[t._v("\n                              "+t._s(t.lang.yes)+"\n                            ")]]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-value"},[i("button-action-authenticated",{attrs:{permission:["catalog/productcombo","destroy"],disabled:t.disabledButton,type:"bordered-danger",icon:"el-icon-delete"},on:{click:function(e){t.dialog.deleteProduct=!0}}},[t._v("\n                            "+t._s(t.$lang[t.langId].delete)+"\n                          ")])],1)])])]),t._v(" "),i("div",{staticClass:"col-md-6"},[i("div",{staticClass:"subtitle-detail"},[i("h5",[i("strong",[t._v(t._s(t.$lang[t.langId].info_additional))])])]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.out_of_stock))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.tmpE.is_out_stock,callback:function(e){t.$set(t.tmpE,"is_out_stock",e)},expression:"tmpE.is_out_stock"}})]:[t.data.is_out_stock?[t._v("\n                            "+t._s(t.lang.yes)+"\n                          ")]:[t._v("\n                            "+t._s(t.lang.no)+"\n                          ")]]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.loyalty_point))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-input",{attrs:{placeholder:t.$lang[t.langId].input_number,type:"number"},on:{input:function(e){return t.handleCurrency("loyaltiPoint",t.tmpE.loyalty_points)}},model:{value:t.tmpE.loyalty_points,callback:function(e){t.$set(t.tmpE,"loyalty_points",e)},expression:"tmpE.loyalty_points"}})]:[t._v("\n                          "+t._s(t.data.loyalty_points)+"\n                        ")]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.seo)+" - "+t._s(t.lang.meta_keywords))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-input",{attrs:{placeholder:"Please input",clearable:""},model:{value:t.tmpE.meta_keywords,callback:function(e){t.$set(t.tmpE,"meta_keywords",e)},expression:"tmpE.meta_keywords"}})]:[t.data.meta_keywords?[t._v("\n                            "+t._s(t.data.meta_keywords)+"\n                          ")]:[t._v("\n                            -\n                          ")]]],2)]),t._v(" "),i("div",{staticClass:"detail-item"},[i("div",{staticClass:"detail-label"},[i("small",[t._v(t._s(t.lang.seo)+" - "+t._s(t.lang.meta_description))])]),t._v(" "),i("div",{staticClass:"detail-value"},[t.isEditing?[i("el-input",{attrs:{type:"textarea",autosize:"",clearable:"",placeholder:"Please input"},model:{value:t.tmpE.meta_description,callback:function(e){t.$set(t.tmpE,"meta_description",e)},expression:"tmpE.meta_description"}})]:[t.data.meta_description?[t._v("\n                            "+t._s(t.data.meta_description)+"\n                          ")]:[t._v("\n                            -\n                          ")]]],2)])])])])])])])],1),t._v(" "),i("el-col",{attrs:{md:8}},[i("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"box-card"},[i("div",{staticClass:"table-handler-flex",attrs:{slot:"header"},slot:"header"},[i("h4",{staticStyle:{"flex-grow":"1"}},[t._v(t._s(t.$lang[t.langId].product_in_combo))]),t._v(" "),i("div",[t.showSaveSorts?[i("el-button",{attrs:{icon:"el-icon-check",type:"success",disabled:t.disabledSaveSorts},on:{click:t.handleSaveSorts}},[t._v("\n                  "+t._s(t.lang.save)+"\n                ")])]:[i("button-action-authenticated",{attrs:{permission:["catalog/productcombo","edit"],icon:"el-icon-edit",type:"primary"},on:{click:t.handleManageItems}},[t._v("\n                  "+t._s(t.lang.edit)+"\n                ")])]],2)]),t._v(" "),i("div",{staticClass:"card-body"},[i("button-action-authenticated",{staticClass:"btn-block btn-grey",staticStyle:{"margin-bottom":"12px"},attrs:{permission:["catalog/productcombo","store"],type:"default",icon:"el-icon-plus"},on:{click:function(e){t.dialogAddItemFormVisible=!0}}},[t._v("\n              "+t._s(t.lang.add_product)+"\n            ")]),t._v(" "),i("draggable",{staticClass:"dd-list dragArea",attrs:{options:{group:{name:"packages"}},handle:".hand"},on:{change:t.handleSaveSorts},model:{value:t.items,callback:function(e){t.items=e},expression:"items"}},t._l(t.items,function(e){return i("div",{key:e.id,staticClass:"dd-item"},[i("list",{attrs:{item:e}}),t._v(" "),i("draggable",{staticClass:"dd-list children dragArea",attrs:{options:{group:{name:"packages"}},list:e.children.data,handle:".hand"}},t._l(e.children.data,function(t){return i("div",{key:t.id},[i("list",{attrs:{item:t}})],1)}),0)],1)}),0)],1)])],1)],1)],1),t._v(" "),t.data?i("el-dialog",{attrs:{title:t.lang.manage,visible:t.dialogFormVisible,"before-close":t.handleClose},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[t.items.length>0?[i("edit-list",{ref:"editlist",attrs:{"item-removed":t.state.itemRemoved,item:t.tempItems,loading:t.loadingManageItems},on:{remove:t.handleRemoveItem,"data-changes":t.saveManageItems}})]:[i("el-tag",{attrs:{type:"warning"}},[t._v(t._s(this.$lang[t.langId].no_product_in_combo))])]],2):t._e(),t._v(" "),i("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{visible:t.dialogAddItemFormVisible,title:t.lang.add},on:{"update:visible":function(e){t.dialogAddItemFormVisible=e}}},[i("add-item",{ref:"additem",on:{save:t.handleAddItem,close:t.dialogAddHide}})],1),t._v(" "),t.data?i("el-dialog",{attrs:{visible:t.dialog.deleteProduct,title:"Confirm",width:"340px"},on:{"update:visible":function(e){return t.$set(t.dialog,"deleteProduct",e)}}},[i("span",[t._v(t._s(t.$lang[t.langId].are_you_want_remove)+" "),i("strong",[t._v(t._s(t.data.name))]),t._v("?")]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialog.deleteProduct=!1}}},[t._v(t._s(t.lang.cancel))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.remove}},[t._v(t._s(t.lang.yes)+", "+t._s(t.$lang[t.langId].delete))])],1)]):t._e()],1)},n=[]},sEJY:function(t,e,i){"use strict";i.r(e);var a=i("pbie"),n=i("1X9q");for(var s in n)["default"].indexOf(s)<0&&function(t){i.d(e,t,function(){return n[t]})}(s);var r=i("KHd+"),o=Object(r.a)(n.default,a.a,a.b,!1,null,null,null);o.options.__file="Index.vue",e.default=o.exports},vQzd:function(t,e,i){i("Wo/Y"),t.exports=i("VSTI").Number.parseInt},whcv:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(i("DChC")),n=i("xCek"),s=r(i("vDqi"));function r(t){return t&&t.__esModule?t:{default:t}}e.default={mixins:[a.default],data:function(){var t=this;return{form:{items:[],qty:1},searchResultProducts:[],searching:!1,stateAddingItem:!1,disabledButton:!0,formRules:{qty:[{required:!0,message:"This is required field",trigger:"blur"}],items:[{validator:function(e,i,a){""===i?a(new Error("This is required field")):(""!==t.form.items&&t.$refs.packageForm.validateField("items"),a())},trigger:"blur"}]}}},computed:{selectedStore:function(){return this.$store.getters.selectedStore},langId:function(){return this.$store.state.userStores.langId},lang:function(){return this.$store.state.userStores.lang},token:function(){return this.$store.state.user.token}},watch:{form:{handler:function(t){t.qty&&t.items.length>0&&(this.disabledButton=!1)},deep:!0}},methods:{save:function(){this.disabledButton=!0,this.$emit("save",this.form)},hideDialog:function(){this.$emit("close")},refreshData:function(){this.form.items=[]},searchProducts:function(t){var e=this;this.form.qty=1,this.searching=!0;var i={Authorization:"Bearer "+this.token.access_token},a={search_column:"name",search_text:t,sort_column:"name",sort_type:"desc",per_page:50},r="dev"===this.stageLevel||"sit"===this.stageLevel?"productandvariantsearch":"productvariantsearch";t.length>0&&(0,s.default)({method:"GET",url:(0,n.baseApi)(this.selectedStore.url_id,this.langId,r),headers:i,params:a}).then(function(t){e.searching=!1,e.searchResultProducts=t.data.data.map(function(t){return t})}).catch(function(){e.searching=!0,e.searchResultProducts=[]})}}}},xMrP:function(t,e,i){"use strict";i.r(e);var a=i("GfDP"),n=i.n(a);for(var s in a)["default"].indexOf(s)<0&&function(t){i.d(e,t,function(){return a[t]})}(s);e.default=n.a}}]);